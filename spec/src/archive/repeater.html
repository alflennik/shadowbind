<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Walk Test</title>
</head>
<body>
  <shadow-repeat></shadow-repeat>
  <script type="module">
    import { subscribe, publish } from '../src/shadowbind.js'

    window.customElements.define('shadow-repeat', class extends HTMLElement { // eslint-disable-line
      constructor () {
        super()
        subscribe(this)
        this.root = this.attachShadow({ mode: 'open' })
        this.root.innerHTML = /* @html */`
        <ul>
          <h1 :text="headline"></h1>
          <li :for="location of locations" :key="name">
            <h2 :text="location"></h2>
          </li>
        </ul>
        `
      }
    })

    publish({
      locations: [
        { name: 'Seattle' },
        { name: 'Tacoma' },
        { name: 'Port Orchard' }
      ],
      headline: 'Repeater Test'
    })
</script>
</body>
</html>
