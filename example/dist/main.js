/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/index.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "../dist/shadowbind.js":
/*!*****************************!*\
  !*** ../dist/shadowbind.js ***!
  \*****************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("(function webpackUniversalModuleDefinition(root, factory) {\n\tif(true)\n\t\tmodule.exports = factory();\n\telse {}\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 11);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nfunction Trace () {\n  let stackTrace = {}\n  return {\n    get: () => stackTrace,\n    add: (name, value) => {\n      stackTrace[name] = value\n    },\n    set: (newTrace) => {\n      stackTrace = newTrace\n    },\n    remove: (name) => {\n      delete stackTrace[name]\n    },\n    reset: () => {\n      stackTrace = {}\n    }\n  }\n}\n\nconst trace = Trace()\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (trace);\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = error;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__trace_js__ = __webpack_require__(0);\n\n\nfunction error (code, errorMessage, notes) {\n  const trace = __WEBPACK_IMPORTED_MODULE_0__trace_js__[\"a\" /* default */].get()\n\n  const TRACE_START = '\\n\\n    '\n  const TRACE_LINE = '\\n    '\n\n  let message = [errorMessage]\n  const traceOrder = [\n    ...(trace.search ? trace.search : []),\n    ['css property:', trace.cssProp],\n    ['attribute state:', trace.attributeState],\n    ['bind returned:', trace.bindReturned],\n    ['subscribed state:', trace.subscribedState],\n    ['published state:', trace.publishedState],\n    ['affected attribute:', trace.attribute],\n    ['affected element:', trace.element],\n    ['affected web component:', trace.component]\n  ]\n\n  if (Object.keys(trace).length) {\n    message.push(TRACE_START)\n    for (const [traceIntro, traceData] of traceOrder) {\n      if (traceData) message.push(traceIntro, traceData, TRACE_LINE)\n    }\n  }\n\n  if (notes) message.push('\\n\\n' + notes)\n\n  console.error(...message)\n  class ShadowbindError extends Error {}\n  const error = new ShadowbindError(code)\n  error.code = code\n  throw error\n}\n\n\n/***/ }),\n/* 2 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = getType;\nfunction getType (item) {\n  const jsType = typeof item\n  if (jsType !== 'object') return typeof item\n  if (item === null) return 'null'\n  if (Array.isArray(item)) return 'array'\n  return 'object'\n}\n\n\n/***/ }),\n/* 3 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return bindingsMethodUsed; });\n/* harmony export (immutable) */ __webpack_exports__[\"b\"] = bindComponent;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__bindRepeater_js__ = __webpack_require__(16);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__util_walkFragment_js__ = __webpack_require__(17);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__assertType_js__ = __webpack_require__(4);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__bindElement_js__ = __webpack_require__(19);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__trace_js__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__parseAttribute_js__ = __webpack_require__(9);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__bindAttribute_js__ = __webpack_require__(10);\n\n\n\n\n\n\n\n\nlet bindingsMethodUsed\n\n\nfunction bindComponent (component, bindings) {\n  __WEBPACK_IMPORTED_MODULE_4__trace_js__[\"a\" /* default */].add('component', component)\n  __WEBPACK_IMPORTED_MODULE_4__trace_js__[\"a\" /* default */].add('subscribedState', bindings)\n\n  if (component.beforeBindCallback) component.beforeBindCallback()\n\n  if (component.bindings) {\n    Object(__WEBPACK_IMPORTED_MODULE_2__assertType_js__[\"a\" /* default */])(component.bindings, 'function', 'bindings property type')\n\n    bindings = component.bindings(bindings)\n    __WEBPACK_IMPORTED_MODULE_4__trace_js__[\"a\" /* default */].add('bindReturned', bindings)\n    bindingsMethodUsed = true\n\n    Object(__WEBPACK_IMPORTED_MODULE_2__assertType_js__[\"a\" /* default */])(bindings, 'object', 'bindings method return type')\n  } else {\n    bindingsMethodUsed = false\n  }\n\n  Object(__WEBPACK_IMPORTED_MODULE_1__util_walkFragment_js__[\"a\" /* default */])(component, element => {\n    __WEBPACK_IMPORTED_MODULE_4__trace_js__[\"a\" /* default */].add('element', element)\n    // Bind the tag first so events can be reattached after element is recreated\n    // and repeaters can run\n    const tagAttribute = element.attributes[':tag']\n    if (tagAttribute) {\n      __WEBPACK_IMPORTED_MODULE_4__trace_js__[\"a\" /* default */].add('attribute', tagAttribute)\n      bindTag(component, element, bindings)\n      __WEBPACK_IMPORTED_MODULE_4__trace_js__[\"a\" /* default */].remove('attribute')\n      // If element has been removed, continue to next element, its replacement\n      if (element.parentNode === null) return\n    }\n\n    Object(__WEBPACK_IMPORTED_MODULE_0__bindRepeater_js__[\"a\" /* default */])(element, bindings)\n    if (!element.attributes[':map']) {\n      Object(__WEBPACK_IMPORTED_MODULE_3__bindElement_js__[\"a\" /* default */])(component, element, bindings)\n    }\n    __WEBPACK_IMPORTED_MODULE_4__trace_js__[\"a\" /* default */].remove('element')\n  })\n\n  if (component.afterBindCallback) component.afterBindCallback()\n\n  __WEBPACK_IMPORTED_MODULE_4__trace_js__[\"a\" /* default */].remove('bindReturned')\n  __WEBPACK_IMPORTED_MODULE_4__trace_js__[\"a\" /* default */].remove('subscribedState')\n  __WEBPACK_IMPORTED_MODULE_4__trace_js__[\"a\" /* default */].remove('component')\n}\n\nfunction bindTag (component, element, bindings) {\n  const { type, subtype, key } = Object(__WEBPACK_IMPORTED_MODULE_5__parseAttribute_js__[\"a\" /* default */])(element.attributes[':tag'])\n  Object(__WEBPACK_IMPORTED_MODULE_6__bindAttribute_js__[\"a\" /* default */])(component, element, bindings, type, subtype, key)\n}\n\n\n/***/ }),\n/* 4 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = assertType;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__util_getType_js__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__util_arrayToSentence_js__ = __webpack_require__(18);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__error_js__ = __webpack_require__(1);\n\n\n\n\nfunction assertType (value, types, name) {\n  if (!Array.isArray(types)) types = [types]\n  const actual = Object(__WEBPACK_IMPORTED_MODULE_0__util_getType_js__[\"a\" /* default */])(value)\n\n  if (types.includes(actual)) return\n\n  const errorMessage = (() => {\n    if (value === undefined) return `The ${name} cannot be undefined`\n    return `The ${name} was \"${actual}\" but expected type ` +\n      `${Object(__WEBPACK_IMPORTED_MODULE_1__util_arrayToSentence_js__[\"a\" /* default */])(types.map(type => `\"${type}\"`))}`\n  })()\n\n  const errorCode = `shadowbind_${name.replace(/[^a-z]/g, '_')}`\n\n  Object(__WEBPACK_IMPORTED_MODULE_2__error_js__[\"a\" /* default */])(errorCode, errorMessage)\n}\n\n\n/***/ }),\n/* 5 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* unused harmony export state */\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = publish;\n/* unused harmony export applyStateKeyDots */\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__lib_trace_js__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__util_getType_js__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__util_deepClone_js__ = __webpack_require__(12);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__util_deepCompare_js__ = __webpack_require__(13);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__lib_error_js__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__define_js__ = __webpack_require__(6);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__lib_queue_js__ = __webpack_require__(7);\n\n\n\n\n\n\n\n\nlet state\n\n\n// Apply data-binding to all affected web components when the state changes\nfunction publish (newState) {\n  __WEBPACK_IMPORTED_MODULE_0__lib_trace_js__[\"a\" /* default */].reset()\n  __WEBPACK_IMPORTED_MODULE_0__lib_trace_js__[\"a\" /* default */].add('publishedState', newState)\n  __WEBPACK_IMPORTED_MODULE_6__lib_queue_js__[\"c\" /* stop */]()\n\n  for (const component of Object.values(__WEBPACK_IMPORTED_MODULE_5__define_js__[\"a\" /* components */])) {\n    let changedState = {}\n    const observedState = component.sbPrivate.observedState\n    for (const watchKey of observedState) {\n      const oldValue = applyStateKeyDots(state, watchKey)\n      const newValue = applyStateKeyDots(newState, watchKey)\n\n      if (!Object(__WEBPACK_IMPORTED_MODULE_3__util_deepCompare_js__[\"a\" /* default */])(newValue, oldValue)) changedState[watchKey] = newValue\n    }\n    if (Object.keys(changedState).length) {\n      __WEBPACK_IMPORTED_MODULE_6__lib_queue_js__[\"a\" /* add */](component, { state: changedState })\n    }\n  }\n\n  __WEBPACK_IMPORTED_MODULE_6__lib_queue_js__[\"b\" /* start */]()\n  __WEBPACK_IMPORTED_MODULE_0__lib_trace_js__[\"a\" /* default */].remove('publishedState')\n  state = Object(__WEBPACK_IMPORTED_MODULE_2__util_deepClone_js__[\"a\" /* default */])(newState)\n}\n\nfunction applyStateKeyDots (state, watchKey) {\n  if (Object(__WEBPACK_IMPORTED_MODULE_1__util_getType_js__[\"a\" /* default */])(state) !== 'object') return\n\n  if (!/^[^.].+[^.]$/.test(watchKey)) { // cannot begin or end with dot\n    Object(__WEBPACK_IMPORTED_MODULE_4__lib_error_js__[\"a\" /* default */])(\n      'shadowbind_subscribe_key_invalid',\n      `The key \"${watchKey}\" could not be parsed`\n    )\n  }\n\n  let search = state\n\n  for (const keyPart of watchKey.split('.')) {\n    if (search[keyPart] === undefined) return\n    search = search[keyPart]\n  }\n\n  return search\n}\n\n\n/***/ }),\n/* 6 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return components; });\n/* harmony export (immutable) */ __webpack_exports__[\"b\"] = define;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__lib_trace_js__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__lib_error_js__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__util_getType_js__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__util_convertCase_js__ = __webpack_require__(14);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__lib_queue_js__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__lib_parseSubscriptions_js__ = __webpack_require__(23);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__util_formValues_js__ = __webpack_require__(24);\n\n\n\n\n\n\n\n\nlet components = {}\nlet componentId = 0\n\n\nfunction define (name, Component = {}) {\n  __WEBPACK_IMPORTED_MODULE_0__lib_trace_js__[\"a\" /* default */].reset()\n  if (!arguments.length) {\n    Object(__WEBPACK_IMPORTED_MODULE_1__lib_error_js__[\"a\" /* default */])(\n      'shadowbind_define_without_arguments',\n      'The first argument of define() should be a class extending ' +\n        'HTMLElement, but no arguments were given'\n    )\n  }\n\n  if (arguments.length === 1) Component = name // Name is optional\n\n  if (!(Component.prototype instanceof window.HTMLElement)) {\n    Object(__WEBPACK_IMPORTED_MODULE_1__lib_error_js__[\"a\" /* default */])(\n      'shadowbind_define_type',\n      'The first argument of define() should be a class extending ' +\n        `HTMLElement, not \"${Object(__WEBPACK_IMPORTED_MODULE_2__util_getType_js__[\"a\" /* default */])(Component)}\"`\n    )\n  }\n\n  if (arguments.length === 1) name = Object(__WEBPACK_IMPORTED_MODULE_3__util_convertCase_js__[\"b\" /* titleToTrain */])(Component.name)\n  validateName(Component, name, arguments.length === 1)\n\n  const rawSubscriptions = Component.prototype.subscribe\n    ? Component.prototype.subscribe()\n    : {}\n\n  const { observedAttrs } = Object(__WEBPACK_IMPORTED_MODULE_5__lib_parseSubscriptions_js__[\"a\" /* default */])(rawSubscriptions)\n\n  class ShadowComponent extends Component {\n    static get observedAttributes () {\n      let manualAttrs = (() => {\n        if (Object(__WEBPACK_IMPORTED_MODULE_2__util_getType_js__[\"a\" /* default */])(Component.observedAttributes) === 'function') {\n          return Component.observedAttributes()\n        }\n        return []\n      })()\n      return observedAttrs.concat(manualAttrs).map(attr => Object(__WEBPACK_IMPORTED_MODULE_3__util_convertCase_js__[\"a\" /* camelToTrain */])(attr))\n    }\n    constructor () {\n      super()\n      if (!this.sbPrivate) this.sbPrivate = {}\n\n      const {\n        subscriptions,\n        observedProps,\n        observedState\n      } = Object(__WEBPACK_IMPORTED_MODULE_5__lib_parseSubscriptions_js__[\"a\" /* default */])(this.subscribe ? this.subscribe() : {})\n\n      this.sbPrivate.observedState = observedState\n      this.sbPrivate.observedProps = observedProps\n      this.sbPrivate.subscriptions = subscriptions\n\n      if (Component.prototype.template) {\n        this.attachShadow({ mode: 'open' })\n        const template = document.createElement('template')\n        template.innerHTML = Component.prototype.template.call(this)\n        this.shadowRoot.appendChild(template.content.cloneNode(true))\n      }\n\n      if (observedProps.length) {\n        for (const prop of observedProps) {\n          this[prop] = value => {\n            __WEBPACK_IMPORTED_MODULE_4__lib_queue_js__[\"a\" /* add */](this, { props: { [prop]: value } })\n            // TODO: forward properties\n          }\n        }\n      }\n\n      this.sbPrivate.getDepth = () => {\n        if (\n          !this.parentNode ||\n          !this.parentNode.host ||\n          !this.parentNode.host.sbPrivate\n        ) {\n          return 0\n        }\n        return this.parentNode.host.sbPrivate.getDepth() + 1\n      }\n    }\n    connectedCallback () {\n      componentId++\n      this.sbPrivate.id = componentId\n      components[componentId] = this\n      forwardProperty(this, Component, 'connectedCallback')\n    }\n    disconnectedCallback () {\n      delete components[componentId]\n      forwardProperty(this, Component, 'disconnectedCallback')\n    }\n    attributeChangedCallback (attrName, oldValue, newValue) {\n      __WEBPACK_IMPORTED_MODULE_4__lib_queue_js__[\"a\" /* add */](this, { attrs: { [Object(__WEBPACK_IMPORTED_MODULE_3__util_convertCase_js__[\"c\" /* trainToCamel */])(attrName)]: newValue } })\n      forwardProperty(this, Component, 'attributeChangedCallback', arguments)\n    }\n    data (bindings) {\n      if (arguments.length === 0) return this.sbPrivate.data\n      __WEBPACK_IMPORTED_MODULE_4__lib_queue_js__[\"a\" /* add */](this, { direct: bindings })\n    }\n    form (newValues) {\n      const firstForm = this.shadowRoot.querySelector('form')\n      if (!firstForm) {\n        Object(__WEBPACK_IMPORTED_MODULE_1__lib_error_js__[\"a\" /* default */])(\n          'shadowbind_missing_form',\n          'Cannot use this.form() because there is no form in this component'\n        )\n      }\n      if (arguments.length > 0) {\n        return Object(__WEBPACK_IMPORTED_MODULE_6__util_formValues_js__[\"b\" /* setFormValues */])(firstForm, newValues)\n      } else {\n        return Object(__WEBPACK_IMPORTED_MODULE_6__util_formValues_js__[\"a\" /* getFormValues */])(firstForm)\n      }\n    }\n  }\n\n  window.customElements.define(name, ShadowComponent)\n}\n\nfunction forwardProperty (component, Component, propertyName, args = []) {\n  if (Component.prototype[propertyName]) {\n    Component.prototype[propertyName].call(component, ...args)\n  }\n}\n\nfunction validateName(Component, name, isImplicit) {\n  if (!(\n    name.indexOf('--') !== -1 ||\n    name.indexOf('-') === -1 ||\n    /^-/.test(name) !== false ||\n    /-$/.test(name) !== false ||\n    /[^a-zA-Z0-9-]/.test(name) !== false\n  )) return\n\n  const errName = isImplicit ? 'implicit_component_name' : 'component_name'\n  const details = isImplicit\n    ? ` The name was automatically determined from your class name ` +\n      `\"${Component.name}\".`\n    : ''\n\n  Object(__WEBPACK_IMPORTED_MODULE_1__lib_error_js__[\"a\" /* default */])(\n    `shadowbind_${errName}`,\n    `Web component name \"${name}\" was invalid - note that names must be two ` +\n      `words.${details}`\n  )\n}\n\n\n/***/ }),\n/* 7 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"b\"] = start;\n/* harmony export (immutable) */ __webpack_exports__[\"c\"] = stop;\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = add;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__addBindings_js__ = __webpack_require__(15);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__bindComponent_js__ = __webpack_require__(3);\n\n\n\nlet queue = []\nlet processing = true\n\nfunction start () {\n  processing = true\n  processQueue()\n}\n\nfunction stop () {\n  processing = false\n}\n\nfunction add (component, changes = {}) {\n  let { id } = component.sbPrivate\n  const depth = component.sbPrivate.getDepth()\n  if (!queue[depth]) queue[depth] = {}\n  if (!queue[depth][id]) queue[depth][id] = {}\n  if (!queue[depth][id].changes) queue[depth][id].changes = {}\n\n  Object.assign(queue[depth][id].changes, changes)\n  Object(__WEBPACK_IMPORTED_MODULE_0__addBindings_js__[\"a\" /* default */])(component, changes)\n  queue[depth][id].component = component\n\n  processQueue()\n}\n\nfunction processQueue () {\n  if (!processing) return\n\n  let queueItem = nextQueueItem()\n  while (queueItem) {\n    queueItem.component.sbPrivate.data = Object.assign(\n      queueItem.component.sbPrivate.bindings,\n      queueItem.component.sbPrivate.direct\n    )\n    Object(__WEBPACK_IMPORTED_MODULE_1__bindComponent_js__[\"b\" /* default */])(queueItem.component, queueItem.component.sbPrivate.data)\n    queueItem = nextQueueItem()\n  }\n}\n\nfunction nextQueueItem () {\n  const currentDepth = (() => {\n    for (let i = 0; i < queue.length; i++) {\n      if (!queue[i]) continue\n      return i\n    }\n    if (queue.length > 0) queue = [] // Queue was filled with undefined\n    return false\n  })()\n\n  if (currentDepth === false) return\n\n  for (const id in queue[currentDepth]) {\n    const queueItem = queue[currentDepth][id]\n    delete queue[currentDepth][id]\n    if (Object.keys(queue[currentDepth]).length === 0) {\n      queue[currentDepth] = undefined\n    }\n    return queueItem\n  }\n}\n\n\n/***/ }),\n/* 8 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = walkElement;\n// Run callback on every attribute of a dom element\nfunction walkElement (element, callback) {\n  for (const attribute of element.attributes) {\n    if (!attribute.name) return\n    callback(attribute)\n  }\n}\n\n\n/***/ }),\n/* 9 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = parseAttribute;\n// Convert attributes into data-binding instructions\nfunction parseAttribute (attr) {\n  const key = attr.value\n\n  let matches = /^:(text|html|if|show|publish|tag|value)$/.exec(attr.name)\n  if (matches) return { type: matches[1], subtype: null, key }\n\n  matches = /^(bind|attr|prop|on|css|class):(.{1,})$/.exec(attr.name)\n  if (matches) return { type: matches[1], subtype: matches[2], key }\n\n  return null\n}\n\nconst priorityAttributes = ['value']\n/* harmony export (immutable) */ __webpack_exports__[\"b\"] = priorityAttributes;\n\n\n\n/***/ }),\n/* 10 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = bindAttribute;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__bindComponent_js__ = __webpack_require__(3);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__trace_js__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__error_js__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__assertType_js__ = __webpack_require__(4);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__applyDots_js__ = __webpack_require__(20);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__util_getType_js__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__util_toCamelCase_js__ = __webpack_require__(21);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__util_walkElement_js__ = __webpack_require__(8);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__bindIf_js__ = __webpack_require__(22);\n\n\n\n\n\n\n\n\n\n\nfunction bindAttribute (\n  component,\n  element,\n  bindings,\n  type,\n  subtype,\n  key\n) {\n  if (type === 'on') {\n    return bindEvent(component, element, bindings, subtype, key)\n  }\n\n  let value\n\n  if (key.indexOf('.') === -1) {\n    if (!Object.keys(bindings).includes(key)) {\n      const searchSource = __WEBPACK_IMPORTED_MODULE_1__trace_js__[\"a\" /* default */].get().bindReturned\n        ? 'bindings'\n        : 'subscribed state'\n\n      Object(__WEBPACK_IMPORTED_MODULE_2__error_js__[\"a\" /* default */])(\n        'shadowbind_key_not_found',\n        `The key \"${key}\" could not be found in ${searchSource}`\n      )\n    }\n\n    value = bindings[key]\n  } else {\n    value = Object(__WEBPACK_IMPORTED_MODULE_4__applyDots_js__[\"a\" /* default */])(\n      bindings,\n      key,\n      __WEBPACK_IMPORTED_MODULE_0__bindComponent_js__[\"a\" /* bindingsMethodUsed */] ? 'localState' : 'subscribedState',\n      __WEBPACK_IMPORTED_MODULE_0__bindComponent_js__[\"a\" /* bindingsMethodUsed */] ? 'local state' : 'subscribed state',\n      'shadowbind_key_not_found'\n    )\n  }\n\n  __WEBPACK_IMPORTED_MODULE_1__trace_js__[\"a\" /* default */].add('attributeState', value)\n  const valueType = Object(__WEBPACK_IMPORTED_MODULE_5__util_getType_js__[\"a\" /* default */])(value)\n\n  if (\n    (valueType === 'object' || valueType === 'array') &&\n    (type === 'attr' || type === 'text' || type === 'html')\n  ) {\n    const bindSubnote = type === 'attr'\n      ? ` or use prop:${subtype} to bind the data as a property instead of ` +\n        'an attribute'\n      : ''\n    Object(__WEBPACK_IMPORTED_MODULE_2__error_js__[\"a\" /* default */])(\n      'shadowbind_binding_array_or_object',\n      `Objects and arrays cannot be bound with \"${type}\" directly. Try ` +\n        `calling JSON.stringify on the ${valueType} first${bindSubnote}.`\n    )\n  }\n\n  switch (type) {\n    case 'attr':\n      if (value === true) {\n        element.setAttribute(subtype, '')\n      } else if (value != null && value !== false) {\n        element.setAttribute(subtype, value)\n      } else {\n        element.removeAttribute(subtype)\n      }\n      break\n\n    case 'prop':\n      const camelCaseSubtype = Object(__WEBPACK_IMPORTED_MODULE_6__util_toCamelCase_js__[\"a\" /* default */])(subtype)\n      const methodType = Object(__WEBPACK_IMPORTED_MODULE_5__util_getType_js__[\"a\" /* default */])(element[camelCaseSubtype])\n\n      if (methodType !== 'function') {\n        if (methodType === 'undefined') {\n          Object(__WEBPACK_IMPORTED_MODULE_2__error_js__[\"a\" /* default */])(\n            'shadowbind_prop_undefined',\n            `Cannot call prop \"${camelCaseSubtype}\" because it is undefined`\n          )\n        }\n        Object(__WEBPACK_IMPORTED_MODULE_2__error_js__[\"a\" /* default */])(\n          'shadowbind_prop_type',\n          `Prop \"${camelCaseSubtype}\" must be a function, but it is type ` +\n            `${methodType}`\n        )\n      }\n\n      element[camelCaseSubtype](value)\n      break\n\n    case 'text':\n    case 'html':\n      Object(__WEBPACK_IMPORTED_MODULE_3__assertType_js__[\"a\" /* default */])(value, ['string', 'number', 'null'], 'inner content type')\n\n      if (value != null) {\n        type === 'text' ? element.innerText = value : element.innerHTML = value\n      }\n      break\n\n    case 'show':\n      if (!value) element.style.display = 'none'\n      else element.style.display = ''\n      break\n\n    case 'if':\n      const placeholderId = element.getAttribute('sb:i')\n      if (value) {\n        if (!placeholderId) return\n        Object(__WEBPACK_IMPORTED_MODULE_8__bindIf_js__[\"a\" /* putElementBack */])(element)\n      } else {\n        if (placeholderId) return\n        Object(__WEBPACK_IMPORTED_MODULE_8__bindIf_js__[\"b\" /* replaceWithPlaceholder */])(element)\n      }\n      break\n\n    case 'css':\n      if (value != null) {\n        element.style.setProperty(`--${subtype}`, value)\n      } else {\n        element.style.removeProperty(`--${subtype}`)\n      }\n      break\n\n    case 'class':\n      if (value) {\n        element.classList.add(subtype)\n      } else {\n        element.classList.remove(subtype)\n      }\n      break\n\n    case 'tag':\n      const validTagName = (() => {\n        if (valueType !== 'string') return false\n        value = value.toLowerCase()\n        return /^[a-z][a-z0-9_-]+$/.test(value)\n      })()\n\n      if (!validTagName) {\n        Object(__WEBPACK_IMPORTED_MODULE_2__error_js__[\"a\" /* default */])(\n          'shadowbind_tag_name',\n          `The value given for :tag must be a valid element name`\n        )\n      }\n\n      if (element.tagName.toLowerCase() === value.toLowerCase()) return\n      const replacement = document.createElement(value)\n      replacement.innerHTML = element.innerHTML\n      Object(__WEBPACK_IMPORTED_MODULE_7__util_walkElement_js__[\"a\" /* default */])(element, attribute => {\n        replacement.setAttribute(attribute.name, attribute.value)\n      })\n\n      const parent = element.parentNode\n      const sibling = element.nextElementSibling\n      parent.removeChild(element)\n      parent.insertBefore(replacement, sibling)\n      break\n\n    case 'value':\n      if (element.options && element.multiple) {\n        for (const option of element.options) {\n          if (value.includes(option.value)) option.selected = true\n        }\n      } else if (element.type === 'checkbox') {\n        if (value === true) element.checked = true\n        else if (value === false) element.checked = false\n        else {\n          if (value.includes(element.value)) element.checked = true\n        }\n      } else if (element.type === 'radio') {\n        if (value === element.value) element.checked = true\n      } else {\n        element.value = value\n      }\n      break\n  }\n\n  __WEBPACK_IMPORTED_MODULE_1__trace_js__[\"a\" /* default */].remove('attributeState')\n}\n\nfunction bindEvent (component, element, bindings, subtype, key) {\n  Object(__WEBPACK_IMPORTED_MODULE_3__assertType_js__[\"a\" /* default */])(component[key], 'function', 'event type')\n\n  if (\n    !(element.sbPrivate && element.sbPrivate.eventsAlreadyBound)\n  ) {\n    subtype.split(',').forEach(trigger => {\n      element.addEventListener(trigger, event => {\n        const shouldPropagate = component[key](event)\n        if (shouldPropagate !== false) return\n        event.preventDefault()\n        event.stopPropagation()\n      })\n      if (!element.sbPrivate) element.sbPrivate = {}\n      element.sbPrivate.eventsAlreadyBound = true\n    })\n  }\n}\n\n\n/***/ }),\n/* 11 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__publish_js__ = __webpack_require__(5);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__define_js__ = __webpack_require__(6);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__redux_js__ = __webpack_require__(25);\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({ define: __WEBPACK_IMPORTED_MODULE_1__define_js__[\"b\" /* default */], publish: __WEBPACK_IMPORTED_MODULE_0__publish_js__[\"a\" /* default */], redux: __WEBPACK_IMPORTED_MODULE_2__redux_js__[\"a\" /* default */] });\nwindow.Shadowbind = { define: __WEBPACK_IMPORTED_MODULE_1__define_js__[\"b\" /* default */], publish: __WEBPACK_IMPORTED_MODULE_0__publish_js__[\"a\" /* default */], redux: __WEBPACK_IMPORTED_MODULE_2__redux_js__[\"a\" /* default */] }\n\n\n/***/ }),\n/* 12 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = deepClone;\nfunction deepClone (obj) {\n  return JSON.parse(JSON.stringify(obj)) // Yup, that's how I did it\n}\n\n\n/***/ }),\n/* 13 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = deepCompare;\nfunction deepCompare (val1, val2) {\n  return JSON.stringify(val1) === JSON.stringify(val2)\n}\n\n\n/***/ }),\n/* 14 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"b\"] = titleToTrain;\n/* harmony export (immutable) */ __webpack_exports__[\"c\"] = trainToCamel;\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = camelToTrain;\nfunction titleToTrain (TitleCase) {\n  return TitleCase.replace(\n    /[A-Z]/g,\n    (letter, offset) => {\n      if (offset === 0) return letter.toLowerCase()\n      return '-' + letter.toLowerCase()\n    }\n  )\n}\n\nfunction trainToCamel (trainCase) {\n  return trainCase.replace(\n    /-[a-z]/g,\n    letters => letters.charAt(1).toUpperCase()\n  ).replace(/-/g, '')\n}\n\nfunction camelToTrain (camelCase) {\n  return titleToTrain(camelCase)\n}\n\n\n/***/ }),\n/* 15 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = addBindings;\nfunction addBindings (component, changes = {}) {\n  const subscriptions = component.sbPrivate.subscriptions\n  let bindings = {}\n\n  for (const [bindKey, watchers] of Object.entries(subscriptions)) {\n    for (const { source, watchKey, callback } of watchers) {\n      const sourceChanges = (() => {\n        if (source === 'attr') return changes['attrs']\n        if (source === 'prop') return changes['props']\n        return changes[source]\n      })() || {}\n\n      const startValue = sourceChanges[watchKey]\n      const value = startValue && callback ? callback(startValue) : startValue\n      if (value !== undefined) {\n        bindings[bindKey] = value\n        break\n      }\n    }\n  }\n\n  const newPublished = Object.assign(\n    component.sbPrivate.bindings || {},\n    bindings\n  )\n\n  component.sbPrivate.direct = Object.assign(\n    component.sbPrivate.direct || {},\n    changes.direct\n  )\n\n  component.sbPrivate.bindings = newPublished\n  return newPublished\n}\n\n\n/***/ }),\n/* 16 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = bindRepeater;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__util_getType_js__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__trace_js__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__error_js__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__bindComponent_js__ = __webpack_require__(3);\n\n\n\n\n\nlet emptyExamples = {}\nlet placeholderId = 0\n\nfunction bindRepeater (element, bindings) {\n  const emptyRepeaterId = getEmptyRepeaterId(element)\n  if (!firstElementInRepeat(element) && !emptyRepeaterId) return\n\n  let { key, value } = loadKeyValue(element, emptyRepeaterId, bindings)\n\n  if (Object(__WEBPACK_IMPORTED_MODULE_0__util_getType_js__[\"a\" /* default */])(value) !== 'array') {\n    Object(__WEBPACK_IMPORTED_MODULE_2__error_js__[\"a\" /* default */])(\n      'shadowbind_map_type',\n      `\"${key}\" must be an array when using \":map\", but it was ` +\n        `\"${Object(__WEBPACK_IMPORTED_MODULE_0__util_getType_js__[\"a\" /* default */])(value)}\"`\n    )\n  }\n\n  __WEBPACK_IMPORTED_MODULE_1__trace_js__[\"a\" /* default */].add('repeaterState', value)\n\n  const elements = emptyRepeaterId ? [] : currentRepeaterElements(element)\n  const currentCount = elements.length\n  const expectedCount = value.length\n\n  if (currentCount < expectedCount) {\n    const count = expectedCount - currentCount\n    element = createElements(element, elements, emptyRepeaterId, count)\n  } else if (currentCount > expectedCount) {\n    removeElements(elements, element.parentNode, currentCount - expectedCount)\n  }\n\n  if (expectedCount === 0) return\n\n  if (!element.sbPrivate) {\n    Object(__WEBPACK_IMPORTED_MODULE_2__error_js__[\"a\" /* default */])(\n      'shadowbind_map_non_component',\n      `\":map\" must be used on a shadowbind web component`\n    )\n  }\n\n  for (let i = 0; i < expectedCount; i++) {\n    Object(__WEBPACK_IMPORTED_MODULE_3__bindComponent_js__[\"b\" /* default */])(element, value[i])\n    element = element.nextElementSibling\n  }\n\n  __WEBPACK_IMPORTED_MODULE_1__trace_js__[\"a\" /* default */].remove('repeaterState')\n}\n\nfunction firstElementInRepeat (element) {\n  if (!element.getAttribute(':map')) return false\n  const partOfRepeat = PartOfRepeat(element)\n  if (element.previousElementSibling === null) return true\n  return !partOfRepeat(element.previousElementSibling)\n}\n\nfunction PartOfRepeat (element) {\n  const elementKey = element.getAttribute(':map')\n  return compare => {\n    if (compare === null) return false\n    const key = compare.getAttribute(':map')\n    return elementKey === key\n  }\n}\n\nfunction loadKeyValue (element, emptyRepeaterId, bindings) {\n  const key = (() => {\n    if (!emptyRepeaterId) return element.getAttribute(':map')\n    return emptyExamples[emptyRepeaterId].getAttribute(':map')\n  })()\n  const value = bindings[key]\n  return { key, value }\n}\n\nfunction currentRepeaterElements (element) {\n  const partOfRepeat = PartOfRepeat(element)\n  let elements = []\n  do {\n    elements.push(element)\n    element = element.nextElementSibling\n  } while (partOfRepeat(element))\n\n  return elements\n}\n\nfunction getEmptyRepeaterId (element) {\n  return element.getAttribute('sb:r')\n}\n\nfunction createElements (element, elements, emptyRepeaterId, count) {\n  const example = (() => {\n    if (emptyRepeaterId) return emptyExamples[emptyRepeaterId]\n    return element\n  })()\n\n  const prependElement = (() => {\n    if (emptyRepeaterId) return element.nextElementSibling\n    return elements[elements.length - 1].nextElementSibling\n  })()\n\n  const previousElement = element.previousElementSibling\n  const parent = element.parentNode\n\n  for (let i = 0; i < count; i++) {\n    const newElement = example.cloneNode(true)\n    parent.insertBefore(newElement, prependElement)\n  }\n\n  if (emptyRepeaterId) {\n    parent.removeChild(element)\n    if (!previousElement) return parent.firstElementChild\n    return previousElement.nextElementSibling\n  }\n  return element\n}\n\nfunction removeElements (elements, parent, count) {\n  if (elements.length === count) {\n    const placeholder = generatePlaceholder()\n    emptyExamples[placeholderId] = elements[0].cloneNode(true)\n    const prependElement = elements[elements.length - 1].nextElementSibling\n    parent.insertBefore(placeholder, prependElement)\n  }\n  const toRemove = elements.slice(-count)\n  toRemove.forEach(element => parent.removeChild(element))\n}\n\nfunction generatePlaceholder () {\n  placeholderId++\n  const placeholder = document.createElement('span')\n  placeholder.setAttribute('sb:r', placeholderId)\n  return placeholder\n}\n\n\n/***/ }),\n/* 17 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = walkFragment;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__lib_trace_js__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__lib_error_js__ = __webpack_require__(1);\n\n\n\n// Run callback on every element in the shadowDom, applying repeaters as needed\nfunction walkFragment (component, callback) {\n  let previousNode\n\n  function recursiveWalk (node) {\n    const wasAttachedToDom = node.parentNode\n    const nodeIsAnElement = node.nodeType === 1\n    if (nodeIsAnElement) callback(node)\n    const stillAttachedAfterCallback = node.parentNode\n\n    if (wasAttachedToDom && !stillAttachedAfterCallback) {\n      // Some elements get removed by the callback, which would mess up the walk\n      return true\n    }\n\n    previousNode = node\n    node = node.firstChild\n\n    while (node) {\n      const wasJustRemovedFromDom = recursiveWalk(node)\n\n      if (wasJustRemovedFromDom) {\n        node = previousNode\n      } else {\n        previousNode = node\n        node = node.nextSibling\n      }\n    }\n  }\n\n  if (!component.shadowRoot) shadowRootError(component)\n  recursiveWalk(component.shadowRoot)\n}\n\nfunction shadowRootError (component) {\n  try {\n    component.attachShadow({ mode: 'open' })\n  } catch (err) {\n    Object(__WEBPACK_IMPORTED_MODULE_1__lib_error_js__[\"a\" /* default */])(\n      'shadowbind_closed_shadow_root',\n      'Subscribed component has a closed shadowRoot, but only open ' +\n        'shadowRoots are supported'\n    )\n  }\n  Object(__WEBPACK_IMPORTED_MODULE_1__lib_error_js__[\"a\" /* default */])(\n    'shadowbind_no_shadow_root',\n    'Subscribed web component has no shadowRoot. Be sure to define ' +\n      \"template() { return 'YOUR HTML' } in your component class\"\n  )\n}\n\n\n/***/ }),\n/* 18 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = arrayToSentence;\nfunction arrayToSentence (arr) {\n  if (arr.length === 0) return ''\n  if (arr.length === 1) return arr[0]\n  if (arr.length === 2) return `${arr[0]} and ${arr[1]}`\n  if (arr.length >= 3) {\n    return `${arr.slice(0, -1).join(', ')} and ${arr.slice(-1)}`\n  }\n}\n\n\n/***/ }),\n/* 19 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = bindElement;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__util_walkElement_js__ = __webpack_require__(8);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__parseAttribute_js__ = __webpack_require__(9);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__bindAttribute_js__ = __webpack_require__(10);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__trace_js__ = __webpack_require__(0);\n\n\n\n\n\nfunction bindElement (component, element, bindings) {\n  if (element.attributes.length === 0) return\n\n  for (const priorityAttribute of __WEBPACK_IMPORTED_MODULE_1__parseAttribute_js__[\"b\" /* priorityAttributes */]) {\n    if (element.attributes[priorityAttribute]) {\n      const attribute = element.attributes[priorityAttribute]\n      tryApplyAttribute(component, element, bindings, attribute)\n    }\n  }\n\n  Object(__WEBPACK_IMPORTED_MODULE_0__util_walkElement_js__[\"a\" /* default */])(element, attribute => {\n    if (__WEBPACK_IMPORTED_MODULE_1__parseAttribute_js__[\"b\" /* priorityAttributes */].includes(attribute)) return\n    tryApplyAttribute(component, element, bindings, attribute)\n  })\n}\n\nfunction tryApplyAttribute(component, element, bindings, attribute) {\n  const parsedAttribute = Object(__WEBPACK_IMPORTED_MODULE_1__parseAttribute_js__[\"a\" /* default */])(attribute)\n  if (parsedAttribute) {\n    __WEBPACK_IMPORTED_MODULE_3__trace_js__[\"a\" /* default */].add('attribute', attribute)\n    const { type, subtype, key } = parsedAttribute\n    Object(__WEBPACK_IMPORTED_MODULE_2__bindAttribute_js__[\"a\" /* default */])(component, element, bindings, type, subtype, key)\n    __WEBPACK_IMPORTED_MODULE_3__trace_js__[\"a\" /* default */].remove('attribute')\n  }\n}\n\n\n/***/ }),\n/* 20 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = applyDots;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__trace_js__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__error_js__ = __webpack_require__(1);\n\n\n\nfunction applyDots (\n  baseData,\n  key,\n  baseName,\n  errorSource,\n  errorCode\n) {\n  traceSearch([`${baseName}:`, baseData])\n  let search = baseData\n  let keySearch = baseName\n\n  for (const keyPart of key.split('.')) {\n    keySearch = `${keySearch}.${keyPart}`\n    if (!Object.keys(search).includes(keyPart)) {\n      traceSearch([`${keySearch}:`, 'not found'])\n      __WEBPACK_IMPORTED_MODULE_0__trace_js__[\"a\" /* default */].remove('publishedState')\n\n      Object(__WEBPACK_IMPORTED_MODULE_1__error_js__[\"a\" /* default */])(\n        errorCode,\n        `The key \"${keyPart}\" in \"${key}\" could not be found in the ` +\n          errorSource\n      )\n    }\n\n    search = search[keyPart]\n    traceSearch([`${keySearch}:`, search])\n  }\n\n  __WEBPACK_IMPORTED_MODULE_0__trace_js__[\"a\" /* default */].remove('search')\n  return search\n}\n\nfunction traceSearch (item) {\n  if (!__WEBPACK_IMPORTED_MODULE_0__trace_js__[\"a\" /* default */].get().search) __WEBPACK_IMPORTED_MODULE_0__trace_js__[\"a\" /* default */].add('search', [])\n  __WEBPACK_IMPORTED_MODULE_0__trace_js__[\"a\" /* default */].add('search', [ ...__WEBPACK_IMPORTED_MODULE_0__trace_js__[\"a\" /* default */].get().search, item ])\n}\n\n\n/***/ }),\n/* 21 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = toCamelCase;\nfunction toCamelCase (trainCase) {\n  return trainCase.replace(/-([a-z])/g, letters => letters[1].toUpperCase())\n}\n\n\n/***/ }),\n/* 22 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"b\"] = replaceWithPlaceholder;\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = putElementBack;\nlet removedByIf = {}\nlet removedCount = 0\n\nfunction replaceWithPlaceholder (element) {\n  const placeholder = createPlaceholder(element)\n  const sibling = element.nextElementSibling\n  const parent = element.parentNode\n  removedByIf[removedCount] = element\n  parent.removeChild(element)\n  parent.insertBefore(placeholder, sibling)\n}\n\nfunction putElementBack (placeholder) {\n  const placeholderId = placeholder.getAttribute('sb:i')\n  const element = removedByIf[placeholderId]\n  const sibling = placeholder.nextElementSibling\n  const parent = placeholder.parentNode\n  parent.removeChild(placeholder)\n  parent.insertBefore(element, sibling)\n}\n\nfunction createPlaceholder (element) {\n  removedCount++\n  const placeholder = document.createElement('span')\n  placeholder.setAttribute('sb:i', removedCount)\n  placeholder.setAttribute(':if', element.getAttribute(':if'))\n  return placeholder\n}\n\n\n/***/ }),\n/* 23 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = parseSubscriptions;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__util_getType_js__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__error_js__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__assertType_js__ = __webpack_require__(4);\n\n\n\n\nlet subscriptions\nlet observedAttrs\nlet observedProps\nlet observedState\n\nfunction parseSubscriptions (subscriptionObject) {\n  subscriptions = {}\n  observedAttrs = []\n  observedProps = []\n  observedState = []\n\n  for (const [bindKey, value] of Object.entries(subscriptionObject)) {\n    subscriptions[bindKey] = []\n\n    switch (Object(__WEBPACK_IMPORTED_MODULE_0__util_getType_js__[\"a\" /* default */])(value)) {\n      case 'string':\n        addBindingFromString(bindKey, value)\n        continue\n\n      case 'object':\n        addBindingFromObject(bindKey, value)\n        continue\n\n      case 'array':\n        for (const binder of value) {\n          const valueType = Object(__WEBPACK_IMPORTED_MODULE_0__util_getType_js__[\"a\" /* default */])(binder)\n          if (valueType === 'string') addBindingFromString(bindKey, binder)\n          if (valueType === 'object') addBindingFromObject(bindKey, binder)\n        }\n        continue\n    }\n\n    failureToParse()\n  }\n\n  return { subscriptions, observedAttrs, observedProps, observedState }\n}\n\nfunction addBinding ({ bindKey, source, watchKey, callback }) {\n  if (watchKey) {\n    if (source === 'state') observedState.push(watchKey)\n    else if (source === 'attr') observedAttrs.push(watchKey)\n    else if (source === 'prop') observedProps.push(watchKey)\n    else failureToParse()\n  }\n  Object(__WEBPACK_IMPORTED_MODULE_2__assertType_js__[\"a\" /* default */])(callback, ['function', 'undefined'], 'subscribe callback')\n  Object(__WEBPACK_IMPORTED_MODULE_2__assertType_js__[\"a\" /* default */])(watchKey, ['string'], 'subscribe watch key')\n  subscriptions[bindKey].push({ source, watchKey, callback })\n}\n\nfunction addBindingFromObject (bindKey, obj) {\n  const source = (() => {\n    if (obj.state) return 'state'\n    if (obj.prop) return 'prop'\n    if (obj.attr) return 'attr'\n  })()\n\n  addBinding({ bindKey, source, watchKey: obj[source], callback: obj.callback })\n}\n\nfunction addBindingFromString (bindKey, str) {\n  addBinding({ bindKey, source: str, watchKey: bindKey, callback: undefined })\n}\n\nfunction failureToParse() {\n  Object(__WEBPACK_IMPORTED_MODULE_1__error_js__[\"a\" /* default */])(\n    'shadowbind_invalid_subscribe',\n    'Your subscribe() response is invalid'\n  )\n}\n\n\n/***/ }),\n/* 24 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = getFormValues;\n/* harmony export (immutable) */ __webpack_exports__[\"b\"] = setFormValues;\n/* unused harmony export parseForm */\nfunction getFormValues (form) {\n  return parseForm(form).values\n}\n\nfunction setFormValues (form, newValues) {\n  const { elements } = parseForm(form)\n\n  for (const [name, value] of Object.entries(newValues)) {\n    const element = elements[name]\n    const isArray = Array.isArray(element)\n\n    if (isMultiSelect(element)) {\n      setSelectValues(element, value)\n    } else if (isArray || element.type === 'checkbox') {\n      const checkboxes = (() => {\n        if (!isArray) return [element]\n        return element\n      })()\n\n      for (const checkbox of checkboxes) {\n        if (value === true) {\n          checkbox.setAttribute('checked', '')\n        } else if (value === false) {\n          checkbox.removeAttribute('checked')\n        } else if (value.includes(checkbox.value)) {\n          checkbox.setAttribute('checked', '')\n        } else {\n          checkbox.removeAttribute('checked')\n        }\n      }\n    } else if (element.type === 'checkbox') {\n\n    } else {\n      element.value = value\n    }\n  }\n}\n\nfunction parseForm (form) {\n  let values = {}\n  let elements = {}\n  for (let element of Array.from(form.elements)) {\n    const name = element.name\n    let value\n\n    if (!name) continue\n\n    if (element.type === 'checkbox' && element.getAttribute('value') === null) {\n      value = element.checked\n    } else if (element.type === 'checkbox') {\n      if (element.checked) value = (values[name] || []).concat(element.value)\n      else value = values[name] || []\n\n      element = (elements[name] || []).concat(element)\n    } else if (element.type === 'radio') {\n      if (!values[name]) value = element.value\n      element = (elements[name] || []).concat(element)\n    } else if (isMultiSelect(element)) {\n      value = getSelectValues(element)\n    } else if (element.type === 'number') {\n      value = element.value !== '' ? Number(element.value) : ''\n    } else {\n      value = element.value\n    }\n\n    values[name] = value\n    elements[name] = element\n  }\n  return { values, elements }\n}\n\nfunction isMultiSelect (element) {\n  return element.options && element.multiple\n}\n\nfunction getSelectValues (options) {\n  let values = []\n  for (const option of Array.from(options)) {\n    values = option.selected ? values.concat(option.value) : values\n  }\n  return values\n}\n\nfunction setSelectValues (options, values) {\n  for (const option of Array.from(options)) {\n    if (values.includes(option.value)) {\n      option.setAttribute('selected', '')\n    } else {\n      option.removeAttribute('selected')\n    }\n  }\n}\n\n\n/***/ }),\n/* 25 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__publish__ = __webpack_require__(5);\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (store => {\n  Object(__WEBPACK_IMPORTED_MODULE_0__publish__[\"a\" /* default */])(store.getState())\n  return next => action => {\n    next(action)\n    Object(__WEBPACK_IMPORTED_MODULE_0__publish__[\"a\" /* default */])(store.getState())\n  }\n});\n\n\n/***/ })\n/******/ ]);\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vZGlzdC9zaGFkb3diaW5kLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uL2Rpc3Qvc2hhZG93YmluZC5qcz8wZWIyIl0sInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jylcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcblx0ZWxzZSBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG5cdFx0ZGVmaW5lKFtdLCBmYWN0b3J5KTtcblx0ZWxzZSBpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpXG5cdFx0ZXhwb3J0c1tcInNoYWRvd2JpbmRcIl0gPSBmYWN0b3J5KCk7XG5cdGVsc2Vcblx0XHRyb290W1wic2hhZG93YmluZFwiXSA9IGZhY3RvcnkoKTtcbn0pKHRoaXMsIGZ1bmN0aW9uKCkge1xucmV0dXJuIC8qKioqKiovIChmdW5jdGlvbihtb2R1bGVzKSB7IC8vIHdlYnBhY2tCb290c3RyYXBcbi8qKioqKiovIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbi8qKioqKiovIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbi8qKioqKiovIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuLyoqKioqKi8gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4vKioqKioqLyBcdFx0fVxuLyoqKioqKi8gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4vKioqKioqLyBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuLyoqKioqKi8gXHRcdFx0aTogbW9kdWxlSWQsXG4vKioqKioqLyBcdFx0XHRsOiBmYWxzZSxcbi8qKioqKiovIFx0XHRcdGV4cG9ydHM6IHt9XG4vKioqKioqLyBcdFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4vKioqKioqLyBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbi8qKioqKiovIFx0XHRtb2R1bGUubCA9IHRydWU7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4vKioqKioqLyBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuLyoqKioqKi8gXHR9XG4vKioqKioqL1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4vKioqKioqLyBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuLyoqKioqKi8gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHtcbi8qKioqKiovIFx0XHRcdFx0Y29uZmlndXJhYmxlOiBmYWxzZSxcbi8qKioqKiovIFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcbi8qKioqKiovIFx0XHRcdFx0Z2V0OiBnZXR0ZXJcbi8qKioqKiovIFx0XHRcdH0pO1xuLyoqKioqKi8gXHRcdH1cbi8qKioqKiovIFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuLyoqKioqKi8gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuLyoqKioqKi8gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbi8qKioqKiovIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4vKioqKioqLyBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuLyoqKioqKi8gXHRcdHJldHVybiBnZXR0ZXI7XG4vKioqKioqLyBcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuLyoqKioqKi8gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAxMSk7XG4vKioqKioqLyB9KVxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKioqKiovIChbXG4vKiAwICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuZnVuY3Rpb24gVHJhY2UgKCkge1xuICBsZXQgc3RhY2tUcmFjZSA9IHt9XG4gIHJldHVybiB7XG4gICAgZ2V0OiAoKSA9PiBzdGFja1RyYWNlLFxuICAgIGFkZDogKG5hbWUsIHZhbHVlKSA9PiB7XG4gICAgICBzdGFja1RyYWNlW25hbWVdID0gdmFsdWVcbiAgICB9LFxuICAgIHNldDogKG5ld1RyYWNlKSA9PiB7XG4gICAgICBzdGFja1RyYWNlID0gbmV3VHJhY2VcbiAgICB9LFxuICAgIHJlbW92ZTogKG5hbWUpID0+IHtcbiAgICAgIGRlbGV0ZSBzdGFja1RyYWNlW25hbWVdXG4gICAgfSxcbiAgICByZXNldDogKCkgPT4ge1xuICAgICAgc3RhY2tUcmFjZSA9IHt9XG4gICAgfVxuICB9XG59XG5cbmNvbnN0IHRyYWNlID0gVHJhY2UoKVxuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJhXCJdID0gKHRyYWNlKTtcblxuXG4vKioqLyB9KSxcbi8qIDEgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKiBoYXJtb255IGV4cG9ydCAoaW1tdXRhYmxlKSAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiYVwiXSA9IGVycm9yO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fdHJhY2VfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cblxuZnVuY3Rpb24gZXJyb3IgKGNvZGUsIGVycm9yTWVzc2FnZSwgbm90ZXMpIHtcbiAgY29uc3QgdHJhY2UgPSBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX3RyYWNlX2pzX19bXCJhXCIgLyogZGVmYXVsdCAqL10uZ2V0KClcblxuICBjb25zdCBUUkFDRV9TVEFSVCA9ICdcXG5cXG4gICAgJ1xuICBjb25zdCBUUkFDRV9MSU5FID0gJ1xcbiAgICAnXG5cbiAgbGV0IG1lc3NhZ2UgPSBbZXJyb3JNZXNzYWdlXVxuICBjb25zdCB0cmFjZU9yZGVyID0gW1xuICAgIC4uLih0cmFjZS5zZWFyY2ggPyB0cmFjZS5zZWFyY2ggOiBbXSksXG4gICAgWydjc3MgcHJvcGVydHk6JywgdHJhY2UuY3NzUHJvcF0sXG4gICAgWydhdHRyaWJ1dGUgc3RhdGU6JywgdHJhY2UuYXR0cmlidXRlU3RhdGVdLFxuICAgIFsnYmluZCByZXR1cm5lZDonLCB0cmFjZS5iaW5kUmV0dXJuZWRdLFxuICAgIFsnc3Vic2NyaWJlZCBzdGF0ZTonLCB0cmFjZS5zdWJzY3JpYmVkU3RhdGVdLFxuICAgIFsncHVibGlzaGVkIHN0YXRlOicsIHRyYWNlLnB1Ymxpc2hlZFN0YXRlXSxcbiAgICBbJ2FmZmVjdGVkIGF0dHJpYnV0ZTonLCB0cmFjZS5hdHRyaWJ1dGVdLFxuICAgIFsnYWZmZWN0ZWQgZWxlbWVudDonLCB0cmFjZS5lbGVtZW50XSxcbiAgICBbJ2FmZmVjdGVkIHdlYiBjb21wb25lbnQ6JywgdHJhY2UuY29tcG9uZW50XVxuICBdXG5cbiAgaWYgKE9iamVjdC5rZXlzKHRyYWNlKS5sZW5ndGgpIHtcbiAgICBtZXNzYWdlLnB1c2goVFJBQ0VfU1RBUlQpXG4gICAgZm9yIChjb25zdCBbdHJhY2VJbnRybywgdHJhY2VEYXRhXSBvZiB0cmFjZU9yZGVyKSB7XG4gICAgICBpZiAodHJhY2VEYXRhKSBtZXNzYWdlLnB1c2godHJhY2VJbnRybywgdHJhY2VEYXRhLCBUUkFDRV9MSU5FKVxuICAgIH1cbiAgfVxuXG4gIGlmIChub3RlcykgbWVzc2FnZS5wdXNoKCdcXG5cXG4nICsgbm90ZXMpXG5cbiAgY29uc29sZS5lcnJvciguLi5tZXNzYWdlKVxuICBjbGFzcyBTaGFkb3diaW5kRXJyb3IgZXh0ZW5kcyBFcnJvciB7fVxuICBjb25zdCBlcnJvciA9IG5ldyBTaGFkb3diaW5kRXJyb3IoY29kZSlcbiAgZXJyb3IuY29kZSA9IGNvZGVcbiAgdGhyb3cgZXJyb3Jcbn1cblxuXG4vKioqLyB9KSxcbi8qIDIgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKiBoYXJtb255IGV4cG9ydCAoaW1tdXRhYmxlKSAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiYVwiXSA9IGdldFR5cGU7XG5mdW5jdGlvbiBnZXRUeXBlIChpdGVtKSB7XG4gIGNvbnN0IGpzVHlwZSA9IHR5cGVvZiBpdGVtXG4gIGlmIChqc1R5cGUgIT09ICdvYmplY3QnKSByZXR1cm4gdHlwZW9mIGl0ZW1cbiAgaWYgKGl0ZW0gPT09IG51bGwpIHJldHVybiAnbnVsbCdcbiAgaWYgKEFycmF5LmlzQXJyYXkoaXRlbSkpIHJldHVybiAnYXJyYXknXG4gIHJldHVybiAnb2JqZWN0J1xufVxuXG5cbi8qKiovIH0pLFxuLyogMyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJhXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gYmluZGluZ3NNZXRob2RVc2VkOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChpbW11dGFibGUpICovIF9fd2VicGFja19leHBvcnRzX19bXCJiXCJdID0gYmluZENvbXBvbmVudDtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX2JpbmRSZXBlYXRlcl9qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX191dGlsX3dhbGtGcmFnbWVudF9qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19hc3NlcnRUeXBlX2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fYmluZEVsZW1lbnRfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMTkpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fdHJhY2VfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X19wYXJzZUF0dHJpYnV0ZV9qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfX2JpbmRBdHRyaWJ1dGVfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMTApO1xuXG5cblxuXG5cblxuXG5cbmxldCBiaW5kaW5nc01ldGhvZFVzZWRcblxuXG5mdW5jdGlvbiBiaW5kQ29tcG9uZW50IChjb21wb25lbnQsIGJpbmRpbmdzKSB7XG4gIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fdHJhY2VfanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXS5hZGQoJ2NvbXBvbmVudCcsIGNvbXBvbmVudClcbiAgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X190cmFjZV9qc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dLmFkZCgnc3Vic2NyaWJlZFN0YXRlJywgYmluZGluZ3MpXG5cbiAgaWYgKGNvbXBvbmVudC5iZWZvcmVCaW5kQ2FsbGJhY2spIGNvbXBvbmVudC5iZWZvcmVCaW5kQ2FsbGJhY2soKVxuXG4gIGlmIChjb21wb25lbnQuYmluZGluZ3MpIHtcbiAgICBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19hc3NlcnRUeXBlX2pzX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKGNvbXBvbmVudC5iaW5kaW5ncywgJ2Z1bmN0aW9uJywgJ2JpbmRpbmdzIHByb3BlcnR5IHR5cGUnKVxuXG4gICAgYmluZGluZ3MgPSBjb21wb25lbnQuYmluZGluZ3MoYmluZGluZ3MpXG4gICAgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X190cmFjZV9qc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dLmFkZCgnYmluZFJldHVybmVkJywgYmluZGluZ3MpXG4gICAgYmluZGluZ3NNZXRob2RVc2VkID0gdHJ1ZVxuXG4gICAgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fYXNzZXJ0VHlwZV9qc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShiaW5kaW5ncywgJ29iamVjdCcsICdiaW5kaW5ncyBtZXRob2QgcmV0dXJuIHR5cGUnKVxuICB9IGVsc2Uge1xuICAgIGJpbmRpbmdzTWV0aG9kVXNlZCA9IGZhbHNlXG4gIH1cblxuICBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX191dGlsX3dhbGtGcmFnbWVudF9qc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShjb21wb25lbnQsIGVsZW1lbnQgPT4ge1xuICAgIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fdHJhY2VfanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXS5hZGQoJ2VsZW1lbnQnLCBlbGVtZW50KVxuICAgIC8vIEJpbmQgdGhlIHRhZyBmaXJzdCBzbyBldmVudHMgY2FuIGJlIHJlYXR0YWNoZWQgYWZ0ZXIgZWxlbWVudCBpcyByZWNyZWF0ZWRcbiAgICAvLyBhbmQgcmVwZWF0ZXJzIGNhbiBydW5cbiAgICBjb25zdCB0YWdBdHRyaWJ1dGUgPSBlbGVtZW50LmF0dHJpYnV0ZXNbJzp0YWcnXVxuICAgIGlmICh0YWdBdHRyaWJ1dGUpIHtcbiAgICAgIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fdHJhY2VfanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXS5hZGQoJ2F0dHJpYnV0ZScsIHRhZ0F0dHJpYnV0ZSlcbiAgICAgIGJpbmRUYWcoY29tcG9uZW50LCBlbGVtZW50LCBiaW5kaW5ncylcbiAgICAgIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fdHJhY2VfanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXS5yZW1vdmUoJ2F0dHJpYnV0ZScpXG4gICAgICAvLyBJZiBlbGVtZW50IGhhcyBiZWVuIHJlbW92ZWQsIGNvbnRpbnVlIHRvIG5leHQgZWxlbWVudCwgaXRzIHJlcGxhY2VtZW50XG4gICAgICBpZiAoZWxlbWVudC5wYXJlbnROb2RlID09PSBudWxsKSByZXR1cm5cbiAgICB9XG5cbiAgICBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19iaW5kUmVwZWF0ZXJfanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkoZWxlbWVudCwgYmluZGluZ3MpXG4gICAgaWYgKCFlbGVtZW50LmF0dHJpYnV0ZXNbJzptYXAnXSkge1xuICAgICAgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fYmluZEVsZW1lbnRfanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkoY29tcG9uZW50LCBlbGVtZW50LCBiaW5kaW5ncylcbiAgICB9XG4gICAgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X190cmFjZV9qc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dLnJlbW92ZSgnZWxlbWVudCcpXG4gIH0pXG5cbiAgaWYgKGNvbXBvbmVudC5hZnRlckJpbmRDYWxsYmFjaykgY29tcG9uZW50LmFmdGVyQmluZENhbGxiYWNrKClcblxuICBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX3RyYWNlX2pzX19bXCJhXCIgLyogZGVmYXVsdCAqL10ucmVtb3ZlKCdiaW5kUmV0dXJuZWQnKVxuICBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX3RyYWNlX2pzX19bXCJhXCIgLyogZGVmYXVsdCAqL10ucmVtb3ZlKCdzdWJzY3JpYmVkU3RhdGUnKVxuICBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX3RyYWNlX2pzX19bXCJhXCIgLyogZGVmYXVsdCAqL10ucmVtb3ZlKCdjb21wb25lbnQnKVxufVxuXG5mdW5jdGlvbiBiaW5kVGFnIChjb21wb25lbnQsIGVsZW1lbnQsIGJpbmRpbmdzKSB7XG4gIGNvbnN0IHsgdHlwZSwgc3VidHlwZSwga2V5IH0gPSBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X19wYXJzZUF0dHJpYnV0ZV9qc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShlbGVtZW50LmF0dHJpYnV0ZXNbJzp0YWcnXSlcbiAgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9fYmluZEF0dHJpYnV0ZV9qc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShjb21wb25lbnQsIGVsZW1lbnQsIGJpbmRpbmdzLCB0eXBlLCBzdWJ0eXBlLCBrZXkpXG59XG5cblxuLyoqKi8gfSksXG4vKiA0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyogaGFybW9ueSBleHBvcnQgKGltbXV0YWJsZSkgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImFcIl0gPSBhc3NlcnRUeXBlO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fdXRpbF9nZXRUeXBlX2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fdXRpbF9hcnJheVRvU2VudGVuY2VfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMTgpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fZXJyb3JfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cblxuXG5cbmZ1bmN0aW9uIGFzc2VydFR5cGUgKHZhbHVlLCB0eXBlcywgbmFtZSkge1xuICBpZiAoIUFycmF5LmlzQXJyYXkodHlwZXMpKSB0eXBlcyA9IFt0eXBlc11cbiAgY29uc3QgYWN0dWFsID0gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fdXRpbF9nZXRUeXBlX2pzX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKHZhbHVlKVxuXG4gIGlmICh0eXBlcy5pbmNsdWRlcyhhY3R1YWwpKSByZXR1cm5cblxuICBjb25zdCBlcnJvck1lc3NhZ2UgPSAoKCkgPT4ge1xuICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSByZXR1cm4gYFRoZSAke25hbWV9IGNhbm5vdCBiZSB1bmRlZmluZWRgXG4gICAgcmV0dXJuIGBUaGUgJHtuYW1lfSB3YXMgXCIke2FjdHVhbH1cIiBidXQgZXhwZWN0ZWQgdHlwZSBgICtcbiAgICAgIGAke09iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX3V0aWxfYXJyYXlUb1NlbnRlbmNlX2pzX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKHR5cGVzLm1hcCh0eXBlID0+IGBcIiR7dHlwZX1cImApKX1gXG4gIH0pKClcblxuICBjb25zdCBlcnJvckNvZGUgPSBgc2hhZG93YmluZF8ke25hbWUucmVwbGFjZSgvW15hLXpdL2csICdfJyl9YFxuXG4gIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX2Vycm9yX2pzX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKGVycm9yQ29kZSwgZXJyb3JNZXNzYWdlKVxufVxuXG5cbi8qKiovIH0pLFxuLyogNSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qIHVudXNlZCBoYXJtb255IGV4cG9ydCBzdGF0ZSAqL1xuLyogaGFybW9ueSBleHBvcnQgKGltbXV0YWJsZSkgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImFcIl0gPSBwdWJsaXNoO1xuLyogdW51c2VkIGhhcm1vbnkgZXhwb3J0IGFwcGx5U3RhdGVLZXlEb3RzICovXG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19saWJfdHJhY2VfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX191dGlsX2dldFR5cGVfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX191dGlsX2RlZXBDbG9uZV9qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX191dGlsX2RlZXBDb21wYXJlX2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEzKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX2xpYl9lcnJvcl9qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfX2RlZmluZV9qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfX2xpYl9xdWV1ZV9qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KTtcblxuXG5cblxuXG5cblxuXG5sZXQgc3RhdGVcblxuXG4vLyBBcHBseSBkYXRhLWJpbmRpbmcgdG8gYWxsIGFmZmVjdGVkIHdlYiBjb21wb25lbnRzIHdoZW4gdGhlIHN0YXRlIGNoYW5nZXNcbmZ1bmN0aW9uIHB1Ymxpc2ggKG5ld1N0YXRlKSB7XG4gIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fbGliX3RyYWNlX2pzX19bXCJhXCIgLyogZGVmYXVsdCAqL10ucmVzZXQoKVxuICBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX2xpYl90cmFjZV9qc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dLmFkZCgncHVibGlzaGVkU3RhdGUnLCBuZXdTdGF0ZSlcbiAgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82X19saWJfcXVldWVfanNfX1tcImNcIiAvKiBzdG9wICovXSgpXG5cbiAgZm9yIChjb25zdCBjb21wb25lbnQgb2YgT2JqZWN0LnZhbHVlcyhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfX2RlZmluZV9qc19fW1wiYVwiIC8qIGNvbXBvbmVudHMgKi9dKSkge1xuICAgIGxldCBjaGFuZ2VkU3RhdGUgPSB7fVxuICAgIGNvbnN0IG9ic2VydmVkU3RhdGUgPSBjb21wb25lbnQuc2JQcml2YXRlLm9ic2VydmVkU3RhdGVcbiAgICBmb3IgKGNvbnN0IHdhdGNoS2V5IG9mIG9ic2VydmVkU3RhdGUpIHtcbiAgICAgIGNvbnN0IG9sZFZhbHVlID0gYXBwbHlTdGF0ZUtleURvdHMoc3RhdGUsIHdhdGNoS2V5KVxuICAgICAgY29uc3QgbmV3VmFsdWUgPSBhcHBseVN0YXRlS2V5RG90cyhuZXdTdGF0ZSwgd2F0Y2hLZXkpXG5cbiAgICAgIGlmICghT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fdXRpbF9kZWVwQ29tcGFyZV9qc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShuZXdWYWx1ZSwgb2xkVmFsdWUpKSBjaGFuZ2VkU3RhdGVbd2F0Y2hLZXldID0gbmV3VmFsdWVcbiAgICB9XG4gICAgaWYgKE9iamVjdC5rZXlzKGNoYW5nZWRTdGF0ZSkubGVuZ3RoKSB7XG4gICAgICBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfX2xpYl9xdWV1ZV9qc19fW1wiYVwiIC8qIGFkZCAqL10oY29tcG9uZW50LCB7IHN0YXRlOiBjaGFuZ2VkU3RhdGUgfSlcbiAgICB9XG4gIH1cblxuICBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfX2xpYl9xdWV1ZV9qc19fW1wiYlwiIC8qIHN0YXJ0ICovXSgpXG4gIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fbGliX3RyYWNlX2pzX19bXCJhXCIgLyogZGVmYXVsdCAqL10ucmVtb3ZlKCdwdWJsaXNoZWRTdGF0ZScpXG4gIHN0YXRlID0gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fdXRpbF9kZWVwQ2xvbmVfanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkobmV3U3RhdGUpXG59XG5cbmZ1bmN0aW9uIGFwcGx5U3RhdGVLZXlEb3RzIChzdGF0ZSwgd2F0Y2hLZXkpIHtcbiAgaWYgKE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX3V0aWxfZ2V0VHlwZV9qc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShzdGF0ZSkgIT09ICdvYmplY3QnKSByZXR1cm5cblxuICBpZiAoIS9eW14uXS4rW14uXSQvLnRlc3Qod2F0Y2hLZXkpKSB7IC8vIGNhbm5vdCBiZWdpbiBvciBlbmQgd2l0aCBkb3RcbiAgICBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19saWJfZXJyb3JfanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkoXG4gICAgICAnc2hhZG93YmluZF9zdWJzY3JpYmVfa2V5X2ludmFsaWQnLFxuICAgICAgYFRoZSBrZXkgXCIke3dhdGNoS2V5fVwiIGNvdWxkIG5vdCBiZSBwYXJzZWRgXG4gICAgKVxuICB9XG5cbiAgbGV0IHNlYXJjaCA9IHN0YXRlXG5cbiAgZm9yIChjb25zdCBrZXlQYXJ0IG9mIHdhdGNoS2V5LnNwbGl0KCcuJykpIHtcbiAgICBpZiAoc2VhcmNoW2tleVBhcnRdID09PSB1bmRlZmluZWQpIHJldHVyblxuICAgIHNlYXJjaCA9IHNlYXJjaFtrZXlQYXJ0XVxuICB9XG5cbiAgcmV0dXJuIHNlYXJjaFxufVxuXG5cbi8qKiovIH0pLFxuLyogNiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJhXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gY29tcG9uZW50czsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoaW1tdXRhYmxlKSAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiYlwiXSA9IGRlZmluZTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX2xpYl90cmFjZV9qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX2xpYl9lcnJvcl9qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX3V0aWxfZ2V0VHlwZV9qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX3V0aWxfY29udmVydENhc2VfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMTQpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fbGliX3F1ZXVlX2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fbGliX3BhcnNlU3Vic2NyaXB0aW9uc19qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMyk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82X191dGlsX2Zvcm1WYWx1ZXNfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMjQpO1xuXG5cblxuXG5cblxuXG5cbmxldCBjb21wb25lbnRzID0ge31cbmxldCBjb21wb25lbnRJZCA9IDBcblxuXG5mdW5jdGlvbiBkZWZpbmUgKG5hbWUsIENvbXBvbmVudCA9IHt9KSB7XG4gIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fbGliX3RyYWNlX2pzX19bXCJhXCIgLyogZGVmYXVsdCAqL10ucmVzZXQoKVxuICBpZiAoIWFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19saWJfZXJyb3JfanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkoXG4gICAgICAnc2hhZG93YmluZF9kZWZpbmVfd2l0aG91dF9hcmd1bWVudHMnLFxuICAgICAgJ1RoZSBmaXJzdCBhcmd1bWVudCBvZiBkZWZpbmUoKSBzaG91bGQgYmUgYSBjbGFzcyBleHRlbmRpbmcgJyArXG4gICAgICAgICdIVE1MRWxlbWVudCwgYnV0IG5vIGFyZ3VtZW50cyB3ZXJlIGdpdmVuJ1xuICAgIClcbiAgfVxuXG4gIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAxKSBDb21wb25lbnQgPSBuYW1lIC8vIE5hbWUgaXMgb3B0aW9uYWxcblxuICBpZiAoIShDb21wb25lbnQucHJvdG90eXBlIGluc3RhbmNlb2Ygd2luZG93LkhUTUxFbGVtZW50KSkge1xuICAgIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX2xpYl9lcnJvcl9qc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShcbiAgICAgICdzaGFkb3diaW5kX2RlZmluZV90eXBlJyxcbiAgICAgICdUaGUgZmlyc3QgYXJndW1lbnQgb2YgZGVmaW5lKCkgc2hvdWxkIGJlIGEgY2xhc3MgZXh0ZW5kaW5nICcgK1xuICAgICAgICBgSFRNTEVsZW1lbnQsIG5vdCBcIiR7T2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fdXRpbF9nZXRUeXBlX2pzX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKENvbXBvbmVudCl9XCJgXG4gICAgKVxuICB9XG5cbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDEpIG5hbWUgPSBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX191dGlsX2NvbnZlcnRDYXNlX2pzX19bXCJiXCIgLyogdGl0bGVUb1RyYWluICovXSkoQ29tcG9uZW50Lm5hbWUpXG4gIHZhbGlkYXRlTmFtZShDb21wb25lbnQsIG5hbWUsIGFyZ3VtZW50cy5sZW5ndGggPT09IDEpXG5cbiAgY29uc3QgcmF3U3Vic2NyaXB0aW9ucyA9IENvbXBvbmVudC5wcm90b3R5cGUuc3Vic2NyaWJlXG4gICAgPyBDb21wb25lbnQucHJvdG90eXBlLnN1YnNjcmliZSgpXG4gICAgOiB7fVxuXG4gIGNvbnN0IHsgb2JzZXJ2ZWRBdHRycyB9ID0gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fbGliX3BhcnNlU3Vic2NyaXB0aW9uc19qc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShyYXdTdWJzY3JpcHRpb25zKVxuXG4gIGNsYXNzIFNoYWRvd0NvbXBvbmVudCBleHRlbmRzIENvbXBvbmVudCB7XG4gICAgc3RhdGljIGdldCBvYnNlcnZlZEF0dHJpYnV0ZXMgKCkge1xuICAgICAgbGV0IG1hbnVhbEF0dHJzID0gKCgpID0+IHtcbiAgICAgICAgaWYgKE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX3V0aWxfZ2V0VHlwZV9qc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShDb21wb25lbnQub2JzZXJ2ZWRBdHRyaWJ1dGVzKSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHJldHVybiBDb21wb25lbnQub2JzZXJ2ZWRBdHRyaWJ1dGVzKClcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gW11cbiAgICAgIH0pKClcbiAgICAgIHJldHVybiBvYnNlcnZlZEF0dHJzLmNvbmNhdChtYW51YWxBdHRycykubWFwKGF0dHIgPT4gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fdXRpbF9jb252ZXJ0Q2FzZV9qc19fW1wiYVwiIC8qIGNhbWVsVG9UcmFpbiAqL10pKGF0dHIpKVxuICAgIH1cbiAgICBjb25zdHJ1Y3RvciAoKSB7XG4gICAgICBzdXBlcigpXG4gICAgICBpZiAoIXRoaXMuc2JQcml2YXRlKSB0aGlzLnNiUHJpdmF0ZSA9IHt9XG5cbiAgICAgIGNvbnN0IHtcbiAgICAgICAgc3Vic2NyaXB0aW9ucyxcbiAgICAgICAgb2JzZXJ2ZWRQcm9wcyxcbiAgICAgICAgb2JzZXJ2ZWRTdGF0ZVxuICAgICAgfSA9IE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfX2xpYl9wYXJzZVN1YnNjcmlwdGlvbnNfanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkodGhpcy5zdWJzY3JpYmUgPyB0aGlzLnN1YnNjcmliZSgpIDoge30pXG5cbiAgICAgIHRoaXMuc2JQcml2YXRlLm9ic2VydmVkU3RhdGUgPSBvYnNlcnZlZFN0YXRlXG4gICAgICB0aGlzLnNiUHJpdmF0ZS5vYnNlcnZlZFByb3BzID0gb2JzZXJ2ZWRQcm9wc1xuICAgICAgdGhpcy5zYlByaXZhdGUuc3Vic2NyaXB0aW9ucyA9IHN1YnNjcmlwdGlvbnNcblxuICAgICAgaWYgKENvbXBvbmVudC5wcm90b3R5cGUudGVtcGxhdGUpIHtcbiAgICAgICAgdGhpcy5hdHRhY2hTaGFkb3coeyBtb2RlOiAnb3BlbicgfSlcbiAgICAgICAgY29uc3QgdGVtcGxhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZW1wbGF0ZScpXG4gICAgICAgIHRlbXBsYXRlLmlubmVySFRNTCA9IENvbXBvbmVudC5wcm90b3R5cGUudGVtcGxhdGUuY2FsbCh0aGlzKVxuICAgICAgICB0aGlzLnNoYWRvd1Jvb3QuYXBwZW5kQ2hpbGQodGVtcGxhdGUuY29udGVudC5jbG9uZU5vZGUodHJ1ZSkpXG4gICAgICB9XG5cbiAgICAgIGlmIChvYnNlcnZlZFByb3BzLmxlbmd0aCkge1xuICAgICAgICBmb3IgKGNvbnN0IHByb3Agb2Ygb2JzZXJ2ZWRQcm9wcykge1xuICAgICAgICAgIHRoaXNbcHJvcF0gPSB2YWx1ZSA9PiB7XG4gICAgICAgICAgICBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX2xpYl9xdWV1ZV9qc19fW1wiYVwiIC8qIGFkZCAqL10odGhpcywgeyBwcm9wczogeyBbcHJvcF06IHZhbHVlIH0gfSlcbiAgICAgICAgICAgIC8vIFRPRE86IGZvcndhcmQgcHJvcGVydGllc1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB0aGlzLnNiUHJpdmF0ZS5nZXREZXB0aCA9ICgpID0+IHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgICF0aGlzLnBhcmVudE5vZGUgfHxcbiAgICAgICAgICAhdGhpcy5wYXJlbnROb2RlLmhvc3QgfHxcbiAgICAgICAgICAhdGhpcy5wYXJlbnROb2RlLmhvc3Quc2JQcml2YXRlXG4gICAgICAgICkge1xuICAgICAgICAgIHJldHVybiAwXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMucGFyZW50Tm9kZS5ob3N0LnNiUHJpdmF0ZS5nZXREZXB0aCgpICsgMVxuICAgICAgfVxuICAgIH1cbiAgICBjb25uZWN0ZWRDYWxsYmFjayAoKSB7XG4gICAgICBjb21wb25lbnRJZCsrXG4gICAgICB0aGlzLnNiUHJpdmF0ZS5pZCA9IGNvbXBvbmVudElkXG4gICAgICBjb21wb25lbnRzW2NvbXBvbmVudElkXSA9IHRoaXNcbiAgICAgIGZvcndhcmRQcm9wZXJ0eSh0aGlzLCBDb21wb25lbnQsICdjb25uZWN0ZWRDYWxsYmFjaycpXG4gICAgfVxuICAgIGRpc2Nvbm5lY3RlZENhbGxiYWNrICgpIHtcbiAgICAgIGRlbGV0ZSBjb21wb25lbnRzW2NvbXBvbmVudElkXVxuICAgICAgZm9yd2FyZFByb3BlcnR5KHRoaXMsIENvbXBvbmVudCwgJ2Rpc2Nvbm5lY3RlZENhbGxiYWNrJylcbiAgICB9XG4gICAgYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrIChhdHRyTmFtZSwgb2xkVmFsdWUsIG5ld1ZhbHVlKSB7XG4gICAgICBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX2xpYl9xdWV1ZV9qc19fW1wiYVwiIC8qIGFkZCAqL10odGhpcywgeyBhdHRyczogeyBbT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fdXRpbF9jb252ZXJ0Q2FzZV9qc19fW1wiY1wiIC8qIHRyYWluVG9DYW1lbCAqL10pKGF0dHJOYW1lKV06IG5ld1ZhbHVlIH0gfSlcbiAgICAgIGZvcndhcmRQcm9wZXJ0eSh0aGlzLCBDb21wb25lbnQsICdhdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2snLCBhcmd1bWVudHMpXG4gICAgfVxuICAgIGRhdGEgKGJpbmRpbmdzKSB7XG4gICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIHRoaXMuc2JQcml2YXRlLmRhdGFcbiAgICAgIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fbGliX3F1ZXVlX2pzX19bXCJhXCIgLyogYWRkICovXSh0aGlzLCB7IGRpcmVjdDogYmluZGluZ3MgfSlcbiAgICB9XG4gICAgZm9ybSAobmV3VmFsdWVzKSB7XG4gICAgICBjb25zdCBmaXJzdEZvcm0gPSB0aGlzLnNoYWRvd1Jvb3QucXVlcnlTZWxlY3RvcignZm9ybScpXG4gICAgICBpZiAoIWZpcnN0Rm9ybSkge1xuICAgICAgICBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19saWJfZXJyb3JfanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkoXG4gICAgICAgICAgJ3NoYWRvd2JpbmRfbWlzc2luZ19mb3JtJyxcbiAgICAgICAgICAnQ2Fubm90IHVzZSB0aGlzLmZvcm0oKSBiZWNhdXNlIHRoZXJlIGlzIG5vIGZvcm0gaW4gdGhpcyBjb21wb25lbnQnXG4gICAgICAgIClcbiAgICAgIH1cbiAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMCkge1xuICAgICAgICByZXR1cm4gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9fdXRpbF9mb3JtVmFsdWVzX2pzX19bXCJiXCIgLyogc2V0Rm9ybVZhbHVlcyAqL10pKGZpcnN0Rm9ybSwgbmV3VmFsdWVzKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfX3V0aWxfZm9ybVZhbHVlc19qc19fW1wiYVwiIC8qIGdldEZvcm1WYWx1ZXMgKi9dKShmaXJzdEZvcm0pXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgd2luZG93LmN1c3RvbUVsZW1lbnRzLmRlZmluZShuYW1lLCBTaGFkb3dDb21wb25lbnQpXG59XG5cbmZ1bmN0aW9uIGZvcndhcmRQcm9wZXJ0eSAoY29tcG9uZW50LCBDb21wb25lbnQsIHByb3BlcnR5TmFtZSwgYXJncyA9IFtdKSB7XG4gIGlmIChDb21wb25lbnQucHJvdG90eXBlW3Byb3BlcnR5TmFtZV0pIHtcbiAgICBDb21wb25lbnQucHJvdG90eXBlW3Byb3BlcnR5TmFtZV0uY2FsbChjb21wb25lbnQsIC4uLmFyZ3MpXG4gIH1cbn1cblxuZnVuY3Rpb24gdmFsaWRhdGVOYW1lKENvbXBvbmVudCwgbmFtZSwgaXNJbXBsaWNpdCkge1xuICBpZiAoIShcbiAgICBuYW1lLmluZGV4T2YoJy0tJykgIT09IC0xIHx8XG4gICAgbmFtZS5pbmRleE9mKCctJykgPT09IC0xIHx8XG4gICAgL14tLy50ZXN0KG5hbWUpICE9PSBmYWxzZSB8fFxuICAgIC8tJC8udGVzdChuYW1lKSAhPT0gZmFsc2UgfHxcbiAgICAvW15hLXpBLVowLTktXS8udGVzdChuYW1lKSAhPT0gZmFsc2VcbiAgKSkgcmV0dXJuXG5cbiAgY29uc3QgZXJyTmFtZSA9IGlzSW1wbGljaXQgPyAnaW1wbGljaXRfY29tcG9uZW50X25hbWUnIDogJ2NvbXBvbmVudF9uYW1lJ1xuICBjb25zdCBkZXRhaWxzID0gaXNJbXBsaWNpdFxuICAgID8gYCBUaGUgbmFtZSB3YXMgYXV0b21hdGljYWxseSBkZXRlcm1pbmVkIGZyb20geW91ciBjbGFzcyBuYW1lIGAgK1xuICAgICAgYFwiJHtDb21wb25lbnQubmFtZX1cIi5gXG4gICAgOiAnJ1xuXG4gIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX2xpYl9lcnJvcl9qc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShcbiAgICBgc2hhZG93YmluZF8ke2Vyck5hbWV9YCxcbiAgICBgV2ViIGNvbXBvbmVudCBuYW1lIFwiJHtuYW1lfVwiIHdhcyBpbnZhbGlkIC0gbm90ZSB0aGF0IG5hbWVzIG11c3QgYmUgdHdvIGAgK1xuICAgICAgYHdvcmRzLiR7ZGV0YWlsc31gXG4gIClcbn1cblxuXG4vKioqLyB9KSxcbi8qIDcgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKiBoYXJtb255IGV4cG9ydCAoaW1tdXRhYmxlKSAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiYlwiXSA9IHN0YXJ0O1xuLyogaGFybW9ueSBleHBvcnQgKGltbXV0YWJsZSkgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImNcIl0gPSBzdG9wO1xuLyogaGFybW9ueSBleHBvcnQgKGltbXV0YWJsZSkgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImFcIl0gPSBhZGQ7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19hZGRCaW5kaW5nc19qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19iaW5kQ29tcG9uZW50X2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXG5cblxubGV0IHF1ZXVlID0gW11cbmxldCBwcm9jZXNzaW5nID0gdHJ1ZVxuXG5mdW5jdGlvbiBzdGFydCAoKSB7XG4gIHByb2Nlc3NpbmcgPSB0cnVlXG4gIHByb2Nlc3NRdWV1ZSgpXG59XG5cbmZ1bmN0aW9uIHN0b3AgKCkge1xuICBwcm9jZXNzaW5nID0gZmFsc2Vcbn1cblxuZnVuY3Rpb24gYWRkIChjb21wb25lbnQsIGNoYW5nZXMgPSB7fSkge1xuICBsZXQgeyBpZCB9ID0gY29tcG9uZW50LnNiUHJpdmF0ZVxuICBjb25zdCBkZXB0aCA9IGNvbXBvbmVudC5zYlByaXZhdGUuZ2V0RGVwdGgoKVxuICBpZiAoIXF1ZXVlW2RlcHRoXSkgcXVldWVbZGVwdGhdID0ge31cbiAgaWYgKCFxdWV1ZVtkZXB0aF1baWRdKSBxdWV1ZVtkZXB0aF1baWRdID0ge31cbiAgaWYgKCFxdWV1ZVtkZXB0aF1baWRdLmNoYW5nZXMpIHF1ZXVlW2RlcHRoXVtpZF0uY2hhbmdlcyA9IHt9XG5cbiAgT2JqZWN0LmFzc2lnbihxdWV1ZVtkZXB0aF1baWRdLmNoYW5nZXMsIGNoYW5nZXMpXG4gIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX2FkZEJpbmRpbmdzX2pzX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKGNvbXBvbmVudCwgY2hhbmdlcylcbiAgcXVldWVbZGVwdGhdW2lkXS5jb21wb25lbnQgPSBjb21wb25lbnRcblxuICBwcm9jZXNzUXVldWUoKVxufVxuXG5mdW5jdGlvbiBwcm9jZXNzUXVldWUgKCkge1xuICBpZiAoIXByb2Nlc3NpbmcpIHJldHVyblxuXG4gIGxldCBxdWV1ZUl0ZW0gPSBuZXh0UXVldWVJdGVtKClcbiAgd2hpbGUgKHF1ZXVlSXRlbSkge1xuICAgIHF1ZXVlSXRlbS5jb21wb25lbnQuc2JQcml2YXRlLmRhdGEgPSBPYmplY3QuYXNzaWduKFxuICAgICAgcXVldWVJdGVtLmNvbXBvbmVudC5zYlByaXZhdGUuYmluZGluZ3MsXG4gICAgICBxdWV1ZUl0ZW0uY29tcG9uZW50LnNiUHJpdmF0ZS5kaXJlY3RcbiAgICApXG4gICAgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fYmluZENvbXBvbmVudF9qc19fW1wiYlwiIC8qIGRlZmF1bHQgKi9dKShxdWV1ZUl0ZW0uY29tcG9uZW50LCBxdWV1ZUl0ZW0uY29tcG9uZW50LnNiUHJpdmF0ZS5kYXRhKVxuICAgIHF1ZXVlSXRlbSA9IG5leHRRdWV1ZUl0ZW0oKVxuICB9XG59XG5cbmZ1bmN0aW9uIG5leHRRdWV1ZUl0ZW0gKCkge1xuICBjb25zdCBjdXJyZW50RGVwdGggPSAoKCkgPT4ge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcXVldWUubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICghcXVldWVbaV0pIGNvbnRpbnVlXG4gICAgICByZXR1cm4gaVxuICAgIH1cbiAgICBpZiAocXVldWUubGVuZ3RoID4gMCkgcXVldWUgPSBbXSAvLyBRdWV1ZSB3YXMgZmlsbGVkIHdpdGggdW5kZWZpbmVkXG4gICAgcmV0dXJuIGZhbHNlXG4gIH0pKClcblxuICBpZiAoY3VycmVudERlcHRoID09PSBmYWxzZSkgcmV0dXJuXG5cbiAgZm9yIChjb25zdCBpZCBpbiBxdWV1ZVtjdXJyZW50RGVwdGhdKSB7XG4gICAgY29uc3QgcXVldWVJdGVtID0gcXVldWVbY3VycmVudERlcHRoXVtpZF1cbiAgICBkZWxldGUgcXVldWVbY3VycmVudERlcHRoXVtpZF1cbiAgICBpZiAoT2JqZWN0LmtleXMocXVldWVbY3VycmVudERlcHRoXSkubGVuZ3RoID09PSAwKSB7XG4gICAgICBxdWV1ZVtjdXJyZW50RGVwdGhdID0gdW5kZWZpbmVkXG4gICAgfVxuICAgIHJldHVybiBxdWV1ZUl0ZW1cbiAgfVxufVxuXG5cbi8qKiovIH0pLFxuLyogOCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qIGhhcm1vbnkgZXhwb3J0IChpbW11dGFibGUpICovIF9fd2VicGFja19leHBvcnRzX19bXCJhXCJdID0gd2Fsa0VsZW1lbnQ7XG4vLyBSdW4gY2FsbGJhY2sgb24gZXZlcnkgYXR0cmlidXRlIG9mIGEgZG9tIGVsZW1lbnRcbmZ1bmN0aW9uIHdhbGtFbGVtZW50IChlbGVtZW50LCBjYWxsYmFjaykge1xuICBmb3IgKGNvbnN0IGF0dHJpYnV0ZSBvZiBlbGVtZW50LmF0dHJpYnV0ZXMpIHtcbiAgICBpZiAoIWF0dHJpYnV0ZS5uYW1lKSByZXR1cm5cbiAgICBjYWxsYmFjayhhdHRyaWJ1dGUpXG4gIH1cbn1cblxuXG4vKioqLyB9KSxcbi8qIDkgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKiBoYXJtb255IGV4cG9ydCAoaW1tdXRhYmxlKSAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiYVwiXSA9IHBhcnNlQXR0cmlidXRlO1xuLy8gQ29udmVydCBhdHRyaWJ1dGVzIGludG8gZGF0YS1iaW5kaW5nIGluc3RydWN0aW9uc1xuZnVuY3Rpb24gcGFyc2VBdHRyaWJ1dGUgKGF0dHIpIHtcbiAgY29uc3Qga2V5ID0gYXR0ci52YWx1ZVxuXG4gIGxldCBtYXRjaGVzID0gL146KHRleHR8aHRtbHxpZnxzaG93fHB1Ymxpc2h8dGFnfHZhbHVlKSQvLmV4ZWMoYXR0ci5uYW1lKVxuICBpZiAobWF0Y2hlcykgcmV0dXJuIHsgdHlwZTogbWF0Y2hlc1sxXSwgc3VidHlwZTogbnVsbCwga2V5IH1cblxuICBtYXRjaGVzID0gL14oYmluZHxhdHRyfHByb3B8b258Y3NzfGNsYXNzKTooLnsxLH0pJC8uZXhlYyhhdHRyLm5hbWUpXG4gIGlmIChtYXRjaGVzKSByZXR1cm4geyB0eXBlOiBtYXRjaGVzWzFdLCBzdWJ0eXBlOiBtYXRjaGVzWzJdLCBrZXkgfVxuXG4gIHJldHVybiBudWxsXG59XG5cbmNvbnN0IHByaW9yaXR5QXR0cmlidXRlcyA9IFsndmFsdWUnXVxuLyogaGFybW9ueSBleHBvcnQgKGltbXV0YWJsZSkgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImJcIl0gPSBwcmlvcml0eUF0dHJpYnV0ZXM7XG5cblxuXG4vKioqLyB9KSxcbi8qIDEwICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyogaGFybW9ueSBleHBvcnQgKGltbXV0YWJsZSkgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImFcIl0gPSBiaW5kQXR0cmlidXRlO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fYmluZENvbXBvbmVudF9qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX3RyYWNlX2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fZXJyb3JfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19hc3NlcnRUeXBlX2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fYXBwbHlEb3RzX2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIwKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfX3V0aWxfZ2V0VHlwZV9qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfX3V0aWxfdG9DYW1lbENhc2VfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMjEpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfN19fdXRpbF93YWxrRWxlbWVudF9qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzhfX2JpbmRJZl9qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMik7XG5cblxuXG5cblxuXG5cblxuXG5cbmZ1bmN0aW9uIGJpbmRBdHRyaWJ1dGUgKFxuICBjb21wb25lbnQsXG4gIGVsZW1lbnQsXG4gIGJpbmRpbmdzLFxuICB0eXBlLFxuICBzdWJ0eXBlLFxuICBrZXlcbikge1xuICBpZiAodHlwZSA9PT0gJ29uJykge1xuICAgIHJldHVybiBiaW5kRXZlbnQoY29tcG9uZW50LCBlbGVtZW50LCBiaW5kaW5ncywgc3VidHlwZSwga2V5KVxuICB9XG5cbiAgbGV0IHZhbHVlXG5cbiAgaWYgKGtleS5pbmRleE9mKCcuJykgPT09IC0xKSB7XG4gICAgaWYgKCFPYmplY3Qua2V5cyhiaW5kaW5ncykuaW5jbHVkZXMoa2V5KSkge1xuICAgICAgY29uc3Qgc2VhcmNoU291cmNlID0gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX190cmFjZV9qc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dLmdldCgpLmJpbmRSZXR1cm5lZFxuICAgICAgICA/ICdiaW5kaW5ncydcbiAgICAgICAgOiAnc3Vic2NyaWJlZCBzdGF0ZSdcblxuICAgICAgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fZXJyb3JfanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkoXG4gICAgICAgICdzaGFkb3diaW5kX2tleV9ub3RfZm91bmQnLFxuICAgICAgICBgVGhlIGtleSBcIiR7a2V5fVwiIGNvdWxkIG5vdCBiZSBmb3VuZCBpbiAke3NlYXJjaFNvdXJjZX1gXG4gICAgICApXG4gICAgfVxuXG4gICAgdmFsdWUgPSBiaW5kaW5nc1trZXldXG4gIH0gZWxzZSB7XG4gICAgdmFsdWUgPSBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19hcHBseURvdHNfanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkoXG4gICAgICBiaW5kaW5ncyxcbiAgICAgIGtleSxcbiAgICAgIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fYmluZENvbXBvbmVudF9qc19fW1wiYVwiIC8qIGJpbmRpbmdzTWV0aG9kVXNlZCAqL10gPyAnbG9jYWxTdGF0ZScgOiAnc3Vic2NyaWJlZFN0YXRlJyxcbiAgICAgIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fYmluZENvbXBvbmVudF9qc19fW1wiYVwiIC8qIGJpbmRpbmdzTWV0aG9kVXNlZCAqL10gPyAnbG9jYWwgc3RhdGUnIDogJ3N1YnNjcmliZWQgc3RhdGUnLFxuICAgICAgJ3NoYWRvd2JpbmRfa2V5X25vdF9mb3VuZCdcbiAgICApXG4gIH1cblxuICBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX3RyYWNlX2pzX19bXCJhXCIgLyogZGVmYXVsdCAqL10uYWRkKCdhdHRyaWJ1dGVTdGF0ZScsIHZhbHVlKVxuICBjb25zdCB2YWx1ZVR5cGUgPSBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X191dGlsX2dldFR5cGVfanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkodmFsdWUpXG5cbiAgaWYgKFxuICAgICh2YWx1ZVR5cGUgPT09ICdvYmplY3QnIHx8IHZhbHVlVHlwZSA9PT0gJ2FycmF5JykgJiZcbiAgICAodHlwZSA9PT0gJ2F0dHInIHx8IHR5cGUgPT09ICd0ZXh0JyB8fCB0eXBlID09PSAnaHRtbCcpXG4gICkge1xuICAgIGNvbnN0IGJpbmRTdWJub3RlID0gdHlwZSA9PT0gJ2F0dHInXG4gICAgICA/IGAgb3IgdXNlIHByb3A6JHtzdWJ0eXBlfSB0byBiaW5kIHRoZSBkYXRhIGFzIGEgcHJvcGVydHkgaW5zdGVhZCBvZiBgICtcbiAgICAgICAgJ2FuIGF0dHJpYnV0ZSdcbiAgICAgIDogJydcbiAgICBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19lcnJvcl9qc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShcbiAgICAgICdzaGFkb3diaW5kX2JpbmRpbmdfYXJyYXlfb3Jfb2JqZWN0JyxcbiAgICAgIGBPYmplY3RzIGFuZCBhcnJheXMgY2Fubm90IGJlIGJvdW5kIHdpdGggXCIke3R5cGV9XCIgZGlyZWN0bHkuIFRyeSBgICtcbiAgICAgICAgYGNhbGxpbmcgSlNPTi5zdHJpbmdpZnkgb24gdGhlICR7dmFsdWVUeXBlfSBmaXJzdCR7YmluZFN1Ym5vdGV9LmBcbiAgICApXG4gIH1cblxuICBzd2l0Y2ggKHR5cGUpIHtcbiAgICBjYXNlICdhdHRyJzpcbiAgICAgIGlmICh2YWx1ZSA9PT0gdHJ1ZSkge1xuICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShzdWJ0eXBlLCAnJylcbiAgICAgIH0gZWxzZSBpZiAodmFsdWUgIT0gbnVsbCAmJiB2YWx1ZSAhPT0gZmFsc2UpIHtcbiAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoc3VidHlwZSwgdmFsdWUpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBlbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShzdWJ0eXBlKVxuICAgICAgfVxuICAgICAgYnJlYWtcblxuICAgIGNhc2UgJ3Byb3AnOlxuICAgICAgY29uc3QgY2FtZWxDYXNlU3VidHlwZSA9IE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfX3V0aWxfdG9DYW1lbENhc2VfanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkoc3VidHlwZSlcbiAgICAgIGNvbnN0IG1ldGhvZFR5cGUgPSBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X191dGlsX2dldFR5cGVfanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkoZWxlbWVudFtjYW1lbENhc2VTdWJ0eXBlXSlcblxuICAgICAgaWYgKG1ldGhvZFR5cGUgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgaWYgKG1ldGhvZFR5cGUgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fZXJyb3JfanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkoXG4gICAgICAgICAgICAnc2hhZG93YmluZF9wcm9wX3VuZGVmaW5lZCcsXG4gICAgICAgICAgICBgQ2Fubm90IGNhbGwgcHJvcCBcIiR7Y2FtZWxDYXNlU3VidHlwZX1cIiBiZWNhdXNlIGl0IGlzIHVuZGVmaW5lZGBcbiAgICAgICAgICApXG4gICAgICAgIH1cbiAgICAgICAgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fZXJyb3JfanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkoXG4gICAgICAgICAgJ3NoYWRvd2JpbmRfcHJvcF90eXBlJyxcbiAgICAgICAgICBgUHJvcCBcIiR7Y2FtZWxDYXNlU3VidHlwZX1cIiBtdXN0IGJlIGEgZnVuY3Rpb24sIGJ1dCBpdCBpcyB0eXBlIGAgK1xuICAgICAgICAgICAgYCR7bWV0aG9kVHlwZX1gXG4gICAgICAgIClcbiAgICAgIH1cblxuICAgICAgZWxlbWVudFtjYW1lbENhc2VTdWJ0eXBlXSh2YWx1ZSlcbiAgICAgIGJyZWFrXG5cbiAgICBjYXNlICd0ZXh0JzpcbiAgICBjYXNlICdodG1sJzpcbiAgICAgIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX2Fzc2VydFR5cGVfanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkodmFsdWUsIFsnc3RyaW5nJywgJ251bWJlcicsICdudWxsJ10sICdpbm5lciBjb250ZW50IHR5cGUnKVxuXG4gICAgICBpZiAodmFsdWUgIT0gbnVsbCkge1xuICAgICAgICB0eXBlID09PSAndGV4dCcgPyBlbGVtZW50LmlubmVyVGV4dCA9IHZhbHVlIDogZWxlbWVudC5pbm5lckhUTUwgPSB2YWx1ZVxuICAgICAgfVxuICAgICAgYnJlYWtcblxuICAgIGNhc2UgJ3Nob3cnOlxuICAgICAgaWYgKCF2YWx1ZSkgZWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnXG4gICAgICBlbHNlIGVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICcnXG4gICAgICBicmVha1xuXG4gICAgY2FzZSAnaWYnOlxuICAgICAgY29uc3QgcGxhY2Vob2xkZXJJZCA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdzYjppJylcbiAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICBpZiAoIXBsYWNlaG9sZGVySWQpIHJldHVyblxuICAgICAgICBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV84X19iaW5kSWZfanNfX1tcImFcIiAvKiBwdXRFbGVtZW50QmFjayAqL10pKGVsZW1lbnQpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAocGxhY2Vob2xkZXJJZCkgcmV0dXJuXG4gICAgICAgIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzhfX2JpbmRJZl9qc19fW1wiYlwiIC8qIHJlcGxhY2VXaXRoUGxhY2Vob2xkZXIgKi9dKShlbGVtZW50KVxuICAgICAgfVxuICAgICAgYnJlYWtcblxuICAgIGNhc2UgJ2Nzcyc6XG4gICAgICBpZiAodmFsdWUgIT0gbnVsbCkge1xuICAgICAgICBlbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KGAtLSR7c3VidHlwZX1gLCB2YWx1ZSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGVsZW1lbnQuc3R5bGUucmVtb3ZlUHJvcGVydHkoYC0tJHtzdWJ0eXBlfWApXG4gICAgICB9XG4gICAgICBicmVha1xuXG4gICAgY2FzZSAnY2xhc3MnOlxuICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZChzdWJ0eXBlKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHN1YnR5cGUpXG4gICAgICB9XG4gICAgICBicmVha1xuXG4gICAgY2FzZSAndGFnJzpcbiAgICAgIGNvbnN0IHZhbGlkVGFnTmFtZSA9ICgoKSA9PiB7XG4gICAgICAgIGlmICh2YWx1ZVR5cGUgIT09ICdzdHJpbmcnKSByZXR1cm4gZmFsc2VcbiAgICAgICAgdmFsdWUgPSB2YWx1ZS50b0xvd2VyQ2FzZSgpXG4gICAgICAgIHJldHVybiAvXlthLXpdW2EtejAtOV8tXSskLy50ZXN0KHZhbHVlKVxuICAgICAgfSkoKVxuXG4gICAgICBpZiAoIXZhbGlkVGFnTmFtZSkge1xuICAgICAgICBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19lcnJvcl9qc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShcbiAgICAgICAgICAnc2hhZG93YmluZF90YWdfbmFtZScsXG4gICAgICAgICAgYFRoZSB2YWx1ZSBnaXZlbiBmb3IgOnRhZyBtdXN0IGJlIGEgdmFsaWQgZWxlbWVudCBuYW1lYFxuICAgICAgICApXG4gICAgICB9XG5cbiAgICAgIGlmIChlbGVtZW50LnRhZ05hbWUudG9Mb3dlckNhc2UoKSA9PT0gdmFsdWUudG9Mb3dlckNhc2UoKSkgcmV0dXJuXG4gICAgICBjb25zdCByZXBsYWNlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodmFsdWUpXG4gICAgICByZXBsYWNlbWVudC5pbm5lckhUTUwgPSBlbGVtZW50LmlubmVySFRNTFxuICAgICAgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfN19fdXRpbF93YWxrRWxlbWVudF9qc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShlbGVtZW50LCBhdHRyaWJ1dGUgPT4ge1xuICAgICAgICByZXBsYWNlbWVudC5zZXRBdHRyaWJ1dGUoYXR0cmlidXRlLm5hbWUsIGF0dHJpYnV0ZS52YWx1ZSlcbiAgICAgIH0pXG5cbiAgICAgIGNvbnN0IHBhcmVudCA9IGVsZW1lbnQucGFyZW50Tm9kZVxuICAgICAgY29uc3Qgc2libGluZyA9IGVsZW1lbnQubmV4dEVsZW1lbnRTaWJsaW5nXG4gICAgICBwYXJlbnQucmVtb3ZlQ2hpbGQoZWxlbWVudClcbiAgICAgIHBhcmVudC5pbnNlcnRCZWZvcmUocmVwbGFjZW1lbnQsIHNpYmxpbmcpXG4gICAgICBicmVha1xuXG4gICAgY2FzZSAndmFsdWUnOlxuICAgICAgaWYgKGVsZW1lbnQub3B0aW9ucyAmJiBlbGVtZW50Lm11bHRpcGxlKSB7XG4gICAgICAgIGZvciAoY29uc3Qgb3B0aW9uIG9mIGVsZW1lbnQub3B0aW9ucykge1xuICAgICAgICAgIGlmICh2YWx1ZS5pbmNsdWRlcyhvcHRpb24udmFsdWUpKSBvcHRpb24uc2VsZWN0ZWQgPSB0cnVlXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoZWxlbWVudC50eXBlID09PSAnY2hlY2tib3gnKSB7XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gdHJ1ZSkgZWxlbWVudC5jaGVja2VkID0gdHJ1ZVxuICAgICAgICBlbHNlIGlmICh2YWx1ZSA9PT0gZmFsc2UpIGVsZW1lbnQuY2hlY2tlZCA9IGZhbHNlXG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIGlmICh2YWx1ZS5pbmNsdWRlcyhlbGVtZW50LnZhbHVlKSkgZWxlbWVudC5jaGVja2VkID0gdHJ1ZVxuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGVsZW1lbnQudHlwZSA9PT0gJ3JhZGlvJykge1xuICAgICAgICBpZiAodmFsdWUgPT09IGVsZW1lbnQudmFsdWUpIGVsZW1lbnQuY2hlY2tlZCA9IHRydWVcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGVsZW1lbnQudmFsdWUgPSB2YWx1ZVxuICAgICAgfVxuICAgICAgYnJlYWtcbiAgfVxuXG4gIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fdHJhY2VfanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXS5yZW1vdmUoJ2F0dHJpYnV0ZVN0YXRlJylcbn1cblxuZnVuY3Rpb24gYmluZEV2ZW50IChjb21wb25lbnQsIGVsZW1lbnQsIGJpbmRpbmdzLCBzdWJ0eXBlLCBrZXkpIHtcbiAgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fYXNzZXJ0VHlwZV9qc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShjb21wb25lbnRba2V5XSwgJ2Z1bmN0aW9uJywgJ2V2ZW50IHR5cGUnKVxuXG4gIGlmIChcbiAgICAhKGVsZW1lbnQuc2JQcml2YXRlICYmIGVsZW1lbnQuc2JQcml2YXRlLmV2ZW50c0FscmVhZHlCb3VuZClcbiAgKSB7XG4gICAgc3VidHlwZS5zcGxpdCgnLCcpLmZvckVhY2godHJpZ2dlciA9PiB7XG4gICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIodHJpZ2dlciwgZXZlbnQgPT4ge1xuICAgICAgICBjb25zdCBzaG91bGRQcm9wYWdhdGUgPSBjb21wb25lbnRba2V5XShldmVudClcbiAgICAgICAgaWYgKHNob3VsZFByb3BhZ2F0ZSAhPT0gZmFsc2UpIHJldHVyblxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpXG4gICAgICB9KVxuICAgICAgaWYgKCFlbGVtZW50LnNiUHJpdmF0ZSkgZWxlbWVudC5zYlByaXZhdGUgPSB7fVxuICAgICAgZWxlbWVudC5zYlByaXZhdGUuZXZlbnRzQWxyZWFkeUJvdW5kID0gdHJ1ZVxuICAgIH0pXG4gIH1cbn1cblxuXG4vKioqLyB9KSxcbi8qIDExICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KF9fd2VicGFja19leHBvcnRzX18sIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fcHVibGlzaF9qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX2RlZmluZV9qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX3JlZHV4X2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI1KTtcblxuXG5cblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiZGVmYXVsdFwiXSA9ICh7IGRlZmluZTogX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19kZWZpbmVfanNfX1tcImJcIiAvKiBkZWZhdWx0ICovXSwgcHVibGlzaDogX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19wdWJsaXNoX2pzX19bXCJhXCIgLyogZGVmYXVsdCAqL10sIHJlZHV4OiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX3JlZHV4X2pzX19bXCJhXCIgLyogZGVmYXVsdCAqL10gfSk7XG53aW5kb3cuU2hhZG93YmluZCA9IHsgZGVmaW5lOiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX2RlZmluZV9qc19fW1wiYlwiIC8qIGRlZmF1bHQgKi9dLCBwdWJsaXNoOiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX3B1Ymxpc2hfanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSwgcmVkdXg6IF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fcmVkdXhfanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSB9XG5cblxuLyoqKi8gfSksXG4vKiAxMiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qIGhhcm1vbnkgZXhwb3J0IChpbW11dGFibGUpICovIF9fd2VicGFja19leHBvcnRzX19bXCJhXCJdID0gZGVlcENsb25lO1xuZnVuY3Rpb24gZGVlcENsb25lIChvYmopIHtcbiAgcmV0dXJuIEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkob2JqKSkgLy8gWXVwLCB0aGF0J3MgaG93IEkgZGlkIGl0XG59XG5cblxuLyoqKi8gfSksXG4vKiAxMyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qIGhhcm1vbnkgZXhwb3J0IChpbW11dGFibGUpICovIF9fd2VicGFja19leHBvcnRzX19bXCJhXCJdID0gZGVlcENvbXBhcmU7XG5mdW5jdGlvbiBkZWVwQ29tcGFyZSAodmFsMSwgdmFsMikge1xuICByZXR1cm4gSlNPTi5zdHJpbmdpZnkodmFsMSkgPT09IEpTT04uc3RyaW5naWZ5KHZhbDIpXG59XG5cblxuLyoqKi8gfSksXG4vKiAxNCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qIGhhcm1vbnkgZXhwb3J0IChpbW11dGFibGUpICovIF9fd2VicGFja19leHBvcnRzX19bXCJiXCJdID0gdGl0bGVUb1RyYWluO1xuLyogaGFybW9ueSBleHBvcnQgKGltbXV0YWJsZSkgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImNcIl0gPSB0cmFpblRvQ2FtZWw7XG4vKiBoYXJtb255IGV4cG9ydCAoaW1tdXRhYmxlKSAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiYVwiXSA9IGNhbWVsVG9UcmFpbjtcbmZ1bmN0aW9uIHRpdGxlVG9UcmFpbiAoVGl0bGVDYXNlKSB7XG4gIHJldHVybiBUaXRsZUNhc2UucmVwbGFjZShcbiAgICAvW0EtWl0vZyxcbiAgICAobGV0dGVyLCBvZmZzZXQpID0+IHtcbiAgICAgIGlmIChvZmZzZXQgPT09IDApIHJldHVybiBsZXR0ZXIudG9Mb3dlckNhc2UoKVxuICAgICAgcmV0dXJuICctJyArIGxldHRlci50b0xvd2VyQ2FzZSgpXG4gICAgfVxuICApXG59XG5cbmZ1bmN0aW9uIHRyYWluVG9DYW1lbCAodHJhaW5DYXNlKSB7XG4gIHJldHVybiB0cmFpbkNhc2UucmVwbGFjZShcbiAgICAvLVthLXpdL2csXG4gICAgbGV0dGVycyA9PiBsZXR0ZXJzLmNoYXJBdCgxKS50b1VwcGVyQ2FzZSgpXG4gICkucmVwbGFjZSgvLS9nLCAnJylcbn1cblxuZnVuY3Rpb24gY2FtZWxUb1RyYWluIChjYW1lbENhc2UpIHtcbiAgcmV0dXJuIHRpdGxlVG9UcmFpbihjYW1lbENhc2UpXG59XG5cblxuLyoqKi8gfSksXG4vKiAxNSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qIGhhcm1vbnkgZXhwb3J0IChpbW11dGFibGUpICovIF9fd2VicGFja19leHBvcnRzX19bXCJhXCJdID0gYWRkQmluZGluZ3M7XG5mdW5jdGlvbiBhZGRCaW5kaW5ncyAoY29tcG9uZW50LCBjaGFuZ2VzID0ge30pIHtcbiAgY29uc3Qgc3Vic2NyaXB0aW9ucyA9IGNvbXBvbmVudC5zYlByaXZhdGUuc3Vic2NyaXB0aW9uc1xuICBsZXQgYmluZGluZ3MgPSB7fVxuXG4gIGZvciAoY29uc3QgW2JpbmRLZXksIHdhdGNoZXJzXSBvZiBPYmplY3QuZW50cmllcyhzdWJzY3JpcHRpb25zKSkge1xuICAgIGZvciAoY29uc3QgeyBzb3VyY2UsIHdhdGNoS2V5LCBjYWxsYmFjayB9IG9mIHdhdGNoZXJzKSB7XG4gICAgICBjb25zdCBzb3VyY2VDaGFuZ2VzID0gKCgpID0+IHtcbiAgICAgICAgaWYgKHNvdXJjZSA9PT0gJ2F0dHInKSByZXR1cm4gY2hhbmdlc1snYXR0cnMnXVxuICAgICAgICBpZiAoc291cmNlID09PSAncHJvcCcpIHJldHVybiBjaGFuZ2VzWydwcm9wcyddXG4gICAgICAgIHJldHVybiBjaGFuZ2VzW3NvdXJjZV1cbiAgICAgIH0pKCkgfHwge31cblxuICAgICAgY29uc3Qgc3RhcnRWYWx1ZSA9IHNvdXJjZUNoYW5nZXNbd2F0Y2hLZXldXG4gICAgICBjb25zdCB2YWx1ZSA9IHN0YXJ0VmFsdWUgJiYgY2FsbGJhY2sgPyBjYWxsYmFjayhzdGFydFZhbHVlKSA6IHN0YXJ0VmFsdWVcbiAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGJpbmRpbmdzW2JpbmRLZXldID0gdmFsdWVcbiAgICAgICAgYnJlYWtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBjb25zdCBuZXdQdWJsaXNoZWQgPSBPYmplY3QuYXNzaWduKFxuICAgIGNvbXBvbmVudC5zYlByaXZhdGUuYmluZGluZ3MgfHwge30sXG4gICAgYmluZGluZ3NcbiAgKVxuXG4gIGNvbXBvbmVudC5zYlByaXZhdGUuZGlyZWN0ID0gT2JqZWN0LmFzc2lnbihcbiAgICBjb21wb25lbnQuc2JQcml2YXRlLmRpcmVjdCB8fCB7fSxcbiAgICBjaGFuZ2VzLmRpcmVjdFxuICApXG5cbiAgY29tcG9uZW50LnNiUHJpdmF0ZS5iaW5kaW5ncyA9IG5ld1B1Ymxpc2hlZFxuICByZXR1cm4gbmV3UHVibGlzaGVkXG59XG5cblxuLyoqKi8gfSksXG4vKiAxNiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qIGhhcm1vbnkgZXhwb3J0IChpbW11dGFibGUpICovIF9fd2VicGFja19leHBvcnRzX19bXCJhXCJdID0gYmluZFJlcGVhdGVyO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fdXRpbF9nZXRUeXBlX2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fdHJhY2VfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19lcnJvcl9qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX2JpbmRDb21wb25lbnRfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cblxuXG5cblxubGV0IGVtcHR5RXhhbXBsZXMgPSB7fVxubGV0IHBsYWNlaG9sZGVySWQgPSAwXG5cbmZ1bmN0aW9uIGJpbmRSZXBlYXRlciAoZWxlbWVudCwgYmluZGluZ3MpIHtcbiAgY29uc3QgZW1wdHlSZXBlYXRlcklkID0gZ2V0RW1wdHlSZXBlYXRlcklkKGVsZW1lbnQpXG4gIGlmICghZmlyc3RFbGVtZW50SW5SZXBlYXQoZWxlbWVudCkgJiYgIWVtcHR5UmVwZWF0ZXJJZCkgcmV0dXJuXG5cbiAgbGV0IHsga2V5LCB2YWx1ZSB9ID0gbG9hZEtleVZhbHVlKGVsZW1lbnQsIGVtcHR5UmVwZWF0ZXJJZCwgYmluZGluZ3MpXG5cbiAgaWYgKE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX3V0aWxfZ2V0VHlwZV9qc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKSh2YWx1ZSkgIT09ICdhcnJheScpIHtcbiAgICBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19lcnJvcl9qc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShcbiAgICAgICdzaGFkb3diaW5kX21hcF90eXBlJyxcbiAgICAgIGBcIiR7a2V5fVwiIG11c3QgYmUgYW4gYXJyYXkgd2hlbiB1c2luZyBcIjptYXBcIiwgYnV0IGl0IHdhcyBgICtcbiAgICAgICAgYFwiJHtPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX191dGlsX2dldFR5cGVfanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkodmFsdWUpfVwiYFxuICAgIClcbiAgfVxuXG4gIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fdHJhY2VfanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXS5hZGQoJ3JlcGVhdGVyU3RhdGUnLCB2YWx1ZSlcblxuICBjb25zdCBlbGVtZW50cyA9IGVtcHR5UmVwZWF0ZXJJZCA/IFtdIDogY3VycmVudFJlcGVhdGVyRWxlbWVudHMoZWxlbWVudClcbiAgY29uc3QgY3VycmVudENvdW50ID0gZWxlbWVudHMubGVuZ3RoXG4gIGNvbnN0IGV4cGVjdGVkQ291bnQgPSB2YWx1ZS5sZW5ndGhcblxuICBpZiAoY3VycmVudENvdW50IDwgZXhwZWN0ZWRDb3VudCkge1xuICAgIGNvbnN0IGNvdW50ID0gZXhwZWN0ZWRDb3VudCAtIGN1cnJlbnRDb3VudFxuICAgIGVsZW1lbnQgPSBjcmVhdGVFbGVtZW50cyhlbGVtZW50LCBlbGVtZW50cywgZW1wdHlSZXBlYXRlcklkLCBjb3VudClcbiAgfSBlbHNlIGlmIChjdXJyZW50Q291bnQgPiBleHBlY3RlZENvdW50KSB7XG4gICAgcmVtb3ZlRWxlbWVudHMoZWxlbWVudHMsIGVsZW1lbnQucGFyZW50Tm9kZSwgY3VycmVudENvdW50IC0gZXhwZWN0ZWRDb3VudClcbiAgfVxuXG4gIGlmIChleHBlY3RlZENvdW50ID09PSAwKSByZXR1cm5cblxuICBpZiAoIWVsZW1lbnQuc2JQcml2YXRlKSB7XG4gICAgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fZXJyb3JfanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkoXG4gICAgICAnc2hhZG93YmluZF9tYXBfbm9uX2NvbXBvbmVudCcsXG4gICAgICBgXCI6bWFwXCIgbXVzdCBiZSB1c2VkIG9uIGEgc2hhZG93YmluZCB3ZWIgY29tcG9uZW50YFxuICAgIClcbiAgfVxuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgZXhwZWN0ZWRDb3VudDsgaSsrKSB7XG4gICAgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fYmluZENvbXBvbmVudF9qc19fW1wiYlwiIC8qIGRlZmF1bHQgKi9dKShlbGVtZW50LCB2YWx1ZVtpXSlcbiAgICBlbGVtZW50ID0gZWxlbWVudC5uZXh0RWxlbWVudFNpYmxpbmdcbiAgfVxuXG4gIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fdHJhY2VfanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXS5yZW1vdmUoJ3JlcGVhdGVyU3RhdGUnKVxufVxuXG5mdW5jdGlvbiBmaXJzdEVsZW1lbnRJblJlcGVhdCAoZWxlbWVudCkge1xuICBpZiAoIWVsZW1lbnQuZ2V0QXR0cmlidXRlKCc6bWFwJykpIHJldHVybiBmYWxzZVxuICBjb25zdCBwYXJ0T2ZSZXBlYXQgPSBQYXJ0T2ZSZXBlYXQoZWxlbWVudClcbiAgaWYgKGVsZW1lbnQucHJldmlvdXNFbGVtZW50U2libGluZyA9PT0gbnVsbCkgcmV0dXJuIHRydWVcbiAgcmV0dXJuICFwYXJ0T2ZSZXBlYXQoZWxlbWVudC5wcmV2aW91c0VsZW1lbnRTaWJsaW5nKVxufVxuXG5mdW5jdGlvbiBQYXJ0T2ZSZXBlYXQgKGVsZW1lbnQpIHtcbiAgY29uc3QgZWxlbWVudEtleSA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCc6bWFwJylcbiAgcmV0dXJuIGNvbXBhcmUgPT4ge1xuICAgIGlmIChjb21wYXJlID09PSBudWxsKSByZXR1cm4gZmFsc2VcbiAgICBjb25zdCBrZXkgPSBjb21wYXJlLmdldEF0dHJpYnV0ZSgnOm1hcCcpXG4gICAgcmV0dXJuIGVsZW1lbnRLZXkgPT09IGtleVxuICB9XG59XG5cbmZ1bmN0aW9uIGxvYWRLZXlWYWx1ZSAoZWxlbWVudCwgZW1wdHlSZXBlYXRlcklkLCBiaW5kaW5ncykge1xuICBjb25zdCBrZXkgPSAoKCkgPT4ge1xuICAgIGlmICghZW1wdHlSZXBlYXRlcklkKSByZXR1cm4gZWxlbWVudC5nZXRBdHRyaWJ1dGUoJzptYXAnKVxuICAgIHJldHVybiBlbXB0eUV4YW1wbGVzW2VtcHR5UmVwZWF0ZXJJZF0uZ2V0QXR0cmlidXRlKCc6bWFwJylcbiAgfSkoKVxuICBjb25zdCB2YWx1ZSA9IGJpbmRpbmdzW2tleV1cbiAgcmV0dXJuIHsga2V5LCB2YWx1ZSB9XG59XG5cbmZ1bmN0aW9uIGN1cnJlbnRSZXBlYXRlckVsZW1lbnRzIChlbGVtZW50KSB7XG4gIGNvbnN0IHBhcnRPZlJlcGVhdCA9IFBhcnRPZlJlcGVhdChlbGVtZW50KVxuICBsZXQgZWxlbWVudHMgPSBbXVxuICBkbyB7XG4gICAgZWxlbWVudHMucHVzaChlbGVtZW50KVxuICAgIGVsZW1lbnQgPSBlbGVtZW50Lm5leHRFbGVtZW50U2libGluZ1xuICB9IHdoaWxlIChwYXJ0T2ZSZXBlYXQoZWxlbWVudCkpXG5cbiAgcmV0dXJuIGVsZW1lbnRzXG59XG5cbmZ1bmN0aW9uIGdldEVtcHR5UmVwZWF0ZXJJZCAoZWxlbWVudCkge1xuICByZXR1cm4gZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ3NiOnInKVxufVxuXG5mdW5jdGlvbiBjcmVhdGVFbGVtZW50cyAoZWxlbWVudCwgZWxlbWVudHMsIGVtcHR5UmVwZWF0ZXJJZCwgY291bnQpIHtcbiAgY29uc3QgZXhhbXBsZSA9ICgoKSA9PiB7XG4gICAgaWYgKGVtcHR5UmVwZWF0ZXJJZCkgcmV0dXJuIGVtcHR5RXhhbXBsZXNbZW1wdHlSZXBlYXRlcklkXVxuICAgIHJldHVybiBlbGVtZW50XG4gIH0pKClcblxuICBjb25zdCBwcmVwZW5kRWxlbWVudCA9ICgoKSA9PiB7XG4gICAgaWYgKGVtcHR5UmVwZWF0ZXJJZCkgcmV0dXJuIGVsZW1lbnQubmV4dEVsZW1lbnRTaWJsaW5nXG4gICAgcmV0dXJuIGVsZW1lbnRzW2VsZW1lbnRzLmxlbmd0aCAtIDFdLm5leHRFbGVtZW50U2libGluZ1xuICB9KSgpXG5cbiAgY29uc3QgcHJldmlvdXNFbGVtZW50ID0gZWxlbWVudC5wcmV2aW91c0VsZW1lbnRTaWJsaW5nXG4gIGNvbnN0IHBhcmVudCA9IGVsZW1lbnQucGFyZW50Tm9kZVxuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgY291bnQ7IGkrKykge1xuICAgIGNvbnN0IG5ld0VsZW1lbnQgPSBleGFtcGxlLmNsb25lTm9kZSh0cnVlKVxuICAgIHBhcmVudC5pbnNlcnRCZWZvcmUobmV3RWxlbWVudCwgcHJlcGVuZEVsZW1lbnQpXG4gIH1cblxuICBpZiAoZW1wdHlSZXBlYXRlcklkKSB7XG4gICAgcGFyZW50LnJlbW92ZUNoaWxkKGVsZW1lbnQpXG4gICAgaWYgKCFwcmV2aW91c0VsZW1lbnQpIHJldHVybiBwYXJlbnQuZmlyc3RFbGVtZW50Q2hpbGRcbiAgICByZXR1cm4gcHJldmlvdXNFbGVtZW50Lm5leHRFbGVtZW50U2libGluZ1xuICB9XG4gIHJldHVybiBlbGVtZW50XG59XG5cbmZ1bmN0aW9uIHJlbW92ZUVsZW1lbnRzIChlbGVtZW50cywgcGFyZW50LCBjb3VudCkge1xuICBpZiAoZWxlbWVudHMubGVuZ3RoID09PSBjb3VudCkge1xuICAgIGNvbnN0IHBsYWNlaG9sZGVyID0gZ2VuZXJhdGVQbGFjZWhvbGRlcigpXG4gICAgZW1wdHlFeGFtcGxlc1twbGFjZWhvbGRlcklkXSA9IGVsZW1lbnRzWzBdLmNsb25lTm9kZSh0cnVlKVxuICAgIGNvbnN0IHByZXBlbmRFbGVtZW50ID0gZWxlbWVudHNbZWxlbWVudHMubGVuZ3RoIC0gMV0ubmV4dEVsZW1lbnRTaWJsaW5nXG4gICAgcGFyZW50Lmluc2VydEJlZm9yZShwbGFjZWhvbGRlciwgcHJlcGVuZEVsZW1lbnQpXG4gIH1cbiAgY29uc3QgdG9SZW1vdmUgPSBlbGVtZW50cy5zbGljZSgtY291bnQpXG4gIHRvUmVtb3ZlLmZvckVhY2goZWxlbWVudCA9PiBwYXJlbnQucmVtb3ZlQ2hpbGQoZWxlbWVudCkpXG59XG5cbmZ1bmN0aW9uIGdlbmVyYXRlUGxhY2Vob2xkZXIgKCkge1xuICBwbGFjZWhvbGRlcklkKytcbiAgY29uc3QgcGxhY2Vob2xkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJylcbiAgcGxhY2Vob2xkZXIuc2V0QXR0cmlidXRlKCdzYjpyJywgcGxhY2Vob2xkZXJJZClcbiAgcmV0dXJuIHBsYWNlaG9sZGVyXG59XG5cblxuLyoqKi8gfSksXG4vKiAxNyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qIGhhcm1vbnkgZXhwb3J0IChpbW11dGFibGUpICovIF9fd2VicGFja19leHBvcnRzX19bXCJhXCJdID0gd2Fsa0ZyYWdtZW50O1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fbGliX3RyYWNlX2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fbGliX2Vycm9yX2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXG5cblxuLy8gUnVuIGNhbGxiYWNrIG9uIGV2ZXJ5IGVsZW1lbnQgaW4gdGhlIHNoYWRvd0RvbSwgYXBwbHlpbmcgcmVwZWF0ZXJzIGFzIG5lZWRlZFxuZnVuY3Rpb24gd2Fsa0ZyYWdtZW50IChjb21wb25lbnQsIGNhbGxiYWNrKSB7XG4gIGxldCBwcmV2aW91c05vZGVcblxuICBmdW5jdGlvbiByZWN1cnNpdmVXYWxrIChub2RlKSB7XG4gICAgY29uc3Qgd2FzQXR0YWNoZWRUb0RvbSA9IG5vZGUucGFyZW50Tm9kZVxuICAgIGNvbnN0IG5vZGVJc0FuRWxlbWVudCA9IG5vZGUubm9kZVR5cGUgPT09IDFcbiAgICBpZiAobm9kZUlzQW5FbGVtZW50KSBjYWxsYmFjayhub2RlKVxuICAgIGNvbnN0IHN0aWxsQXR0YWNoZWRBZnRlckNhbGxiYWNrID0gbm9kZS5wYXJlbnROb2RlXG5cbiAgICBpZiAod2FzQXR0YWNoZWRUb0RvbSAmJiAhc3RpbGxBdHRhY2hlZEFmdGVyQ2FsbGJhY2spIHtcbiAgICAgIC8vIFNvbWUgZWxlbWVudHMgZ2V0IHJlbW92ZWQgYnkgdGhlIGNhbGxiYWNrLCB3aGljaCB3b3VsZCBtZXNzIHVwIHRoZSB3YWxrXG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH1cblxuICAgIHByZXZpb3VzTm9kZSA9IG5vZGVcbiAgICBub2RlID0gbm9kZS5maXJzdENoaWxkXG5cbiAgICB3aGlsZSAobm9kZSkge1xuICAgICAgY29uc3Qgd2FzSnVzdFJlbW92ZWRGcm9tRG9tID0gcmVjdXJzaXZlV2Fsayhub2RlKVxuXG4gICAgICBpZiAod2FzSnVzdFJlbW92ZWRGcm9tRG9tKSB7XG4gICAgICAgIG5vZGUgPSBwcmV2aW91c05vZGVcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHByZXZpb3VzTm9kZSA9IG5vZGVcbiAgICAgICAgbm9kZSA9IG5vZGUubmV4dFNpYmxpbmdcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBpZiAoIWNvbXBvbmVudC5zaGFkb3dSb290KSBzaGFkb3dSb290RXJyb3IoY29tcG9uZW50KVxuICByZWN1cnNpdmVXYWxrKGNvbXBvbmVudC5zaGFkb3dSb290KVxufVxuXG5mdW5jdGlvbiBzaGFkb3dSb290RXJyb3IgKGNvbXBvbmVudCkge1xuICB0cnkge1xuICAgIGNvbXBvbmVudC5hdHRhY2hTaGFkb3coeyBtb2RlOiAnb3BlbicgfSlcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fbGliX2Vycm9yX2pzX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKFxuICAgICAgJ3NoYWRvd2JpbmRfY2xvc2VkX3NoYWRvd19yb290JyxcbiAgICAgICdTdWJzY3JpYmVkIGNvbXBvbmVudCBoYXMgYSBjbG9zZWQgc2hhZG93Um9vdCwgYnV0IG9ubHkgb3BlbiAnICtcbiAgICAgICAgJ3NoYWRvd1Jvb3RzIGFyZSBzdXBwb3J0ZWQnXG4gICAgKVxuICB9XG4gIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX2xpYl9lcnJvcl9qc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShcbiAgICAnc2hhZG93YmluZF9ub19zaGFkb3dfcm9vdCcsXG4gICAgJ1N1YnNjcmliZWQgd2ViIGNvbXBvbmVudCBoYXMgbm8gc2hhZG93Um9vdC4gQmUgc3VyZSB0byBkZWZpbmUgJyArXG4gICAgICBcInRlbXBsYXRlKCkgeyByZXR1cm4gJ1lPVVIgSFRNTCcgfSBpbiB5b3VyIGNvbXBvbmVudCBjbGFzc1wiXG4gIClcbn1cblxuXG4vKioqLyB9KSxcbi8qIDE4ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyogaGFybW9ueSBleHBvcnQgKGltbXV0YWJsZSkgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImFcIl0gPSBhcnJheVRvU2VudGVuY2U7XG5mdW5jdGlvbiBhcnJheVRvU2VudGVuY2UgKGFycikge1xuICBpZiAoYXJyLmxlbmd0aCA9PT0gMCkgcmV0dXJuICcnXG4gIGlmIChhcnIubGVuZ3RoID09PSAxKSByZXR1cm4gYXJyWzBdXG4gIGlmIChhcnIubGVuZ3RoID09PSAyKSByZXR1cm4gYCR7YXJyWzBdfSBhbmQgJHthcnJbMV19YFxuICBpZiAoYXJyLmxlbmd0aCA+PSAzKSB7XG4gICAgcmV0dXJuIGAke2Fyci5zbGljZSgwLCAtMSkuam9pbignLCAnKX0gYW5kICR7YXJyLnNsaWNlKC0xKX1gXG4gIH1cbn1cblxuXG4vKioqLyB9KSxcbi8qIDE5ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyogaGFybW9ueSBleHBvcnQgKGltbXV0YWJsZSkgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImFcIl0gPSBiaW5kRWxlbWVudDtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX3V0aWxfd2Fsa0VsZW1lbnRfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19wYXJzZUF0dHJpYnV0ZV9qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX2JpbmRBdHRyaWJ1dGVfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMTApO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fdHJhY2VfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cblxuXG5cblxuZnVuY3Rpb24gYmluZEVsZW1lbnQgKGNvbXBvbmVudCwgZWxlbWVudCwgYmluZGluZ3MpIHtcbiAgaWYgKGVsZW1lbnQuYXR0cmlidXRlcy5sZW5ndGggPT09IDApIHJldHVyblxuXG4gIGZvciAoY29uc3QgcHJpb3JpdHlBdHRyaWJ1dGUgb2YgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19wYXJzZUF0dHJpYnV0ZV9qc19fW1wiYlwiIC8qIHByaW9yaXR5QXR0cmlidXRlcyAqL10pIHtcbiAgICBpZiAoZWxlbWVudC5hdHRyaWJ1dGVzW3ByaW9yaXR5QXR0cmlidXRlXSkge1xuICAgICAgY29uc3QgYXR0cmlidXRlID0gZWxlbWVudC5hdHRyaWJ1dGVzW3ByaW9yaXR5QXR0cmlidXRlXVxuICAgICAgdHJ5QXBwbHlBdHRyaWJ1dGUoY29tcG9uZW50LCBlbGVtZW50LCBiaW5kaW5ncywgYXR0cmlidXRlKVxuICAgIH1cbiAgfVxuXG4gIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX3V0aWxfd2Fsa0VsZW1lbnRfanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkoZWxlbWVudCwgYXR0cmlidXRlID0+IHtcbiAgICBpZiAoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19wYXJzZUF0dHJpYnV0ZV9qc19fW1wiYlwiIC8qIHByaW9yaXR5QXR0cmlidXRlcyAqL10uaW5jbHVkZXMoYXR0cmlidXRlKSkgcmV0dXJuXG4gICAgdHJ5QXBwbHlBdHRyaWJ1dGUoY29tcG9uZW50LCBlbGVtZW50LCBiaW5kaW5ncywgYXR0cmlidXRlKVxuICB9KVxufVxuXG5mdW5jdGlvbiB0cnlBcHBseUF0dHJpYnV0ZShjb21wb25lbnQsIGVsZW1lbnQsIGJpbmRpbmdzLCBhdHRyaWJ1dGUpIHtcbiAgY29uc3QgcGFyc2VkQXR0cmlidXRlID0gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fcGFyc2VBdHRyaWJ1dGVfanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkoYXR0cmlidXRlKVxuICBpZiAocGFyc2VkQXR0cmlidXRlKSB7XG4gICAgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX190cmFjZV9qc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dLmFkZCgnYXR0cmlidXRlJywgYXR0cmlidXRlKVxuICAgIGNvbnN0IHsgdHlwZSwgc3VidHlwZSwga2V5IH0gPSBwYXJzZWRBdHRyaWJ1dGVcbiAgICBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19iaW5kQXR0cmlidXRlX2pzX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKGNvbXBvbmVudCwgZWxlbWVudCwgYmluZGluZ3MsIHR5cGUsIHN1YnR5cGUsIGtleSlcbiAgICBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX3RyYWNlX2pzX19bXCJhXCIgLyogZGVmYXVsdCAqL10ucmVtb3ZlKCdhdHRyaWJ1dGUnKVxuICB9XG59XG5cblxuLyoqKi8gfSksXG4vKiAyMCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qIGhhcm1vbnkgZXhwb3J0IChpbW11dGFibGUpICovIF9fd2VicGFja19leHBvcnRzX19bXCJhXCJdID0gYXBwbHlEb3RzO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fdHJhY2VfanNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19lcnJvcl9qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblxuXG5cbmZ1bmN0aW9uIGFwcGx5RG90cyAoXG4gIGJhc2VEYXRhLFxuICBrZXksXG4gIGJhc2VOYW1lLFxuICBlcnJvclNvdXJjZSxcbiAgZXJyb3JDb2RlXG4pIHtcbiAgdHJhY2VTZWFyY2goW2Ake2Jhc2VOYW1lfTpgLCBiYXNlRGF0YV0pXG4gIGxldCBzZWFyY2ggPSBiYXNlRGF0YVxuICBsZXQga2V5U2VhcmNoID0gYmFzZU5hbWVcblxuICBmb3IgKGNvbnN0IGtleVBhcnQgb2Yga2V5LnNwbGl0KCcuJykpIHtcbiAgICBrZXlTZWFyY2ggPSBgJHtrZXlTZWFyY2h9LiR7a2V5UGFydH1gXG4gICAgaWYgKCFPYmplY3Qua2V5cyhzZWFyY2gpLmluY2x1ZGVzKGtleVBhcnQpKSB7XG4gICAgICB0cmFjZVNlYXJjaChbYCR7a2V5U2VhcmNofTpgLCAnbm90IGZvdW5kJ10pXG4gICAgICBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX3RyYWNlX2pzX19bXCJhXCIgLyogZGVmYXVsdCAqL10ucmVtb3ZlKCdwdWJsaXNoZWRTdGF0ZScpXG5cbiAgICAgIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX2Vycm9yX2pzX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKFxuICAgICAgICBlcnJvckNvZGUsXG4gICAgICAgIGBUaGUga2V5IFwiJHtrZXlQYXJ0fVwiIGluIFwiJHtrZXl9XCIgY291bGQgbm90IGJlIGZvdW5kIGluIHRoZSBgICtcbiAgICAgICAgICBlcnJvclNvdXJjZVxuICAgICAgKVxuICAgIH1cblxuICAgIHNlYXJjaCA9IHNlYXJjaFtrZXlQYXJ0XVxuICAgIHRyYWNlU2VhcmNoKFtgJHtrZXlTZWFyY2h9OmAsIHNlYXJjaF0pXG4gIH1cblxuICBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX3RyYWNlX2pzX19bXCJhXCIgLyogZGVmYXVsdCAqL10ucmVtb3ZlKCdzZWFyY2gnKVxuICByZXR1cm4gc2VhcmNoXG59XG5cbmZ1bmN0aW9uIHRyYWNlU2VhcmNoIChpdGVtKSB7XG4gIGlmICghX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX190cmFjZV9qc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dLmdldCgpLnNlYXJjaCkgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX190cmFjZV9qc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dLmFkZCgnc2VhcmNoJywgW10pXG4gIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fdHJhY2VfanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXS5hZGQoJ3NlYXJjaCcsIFsgLi4uX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX190cmFjZV9qc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dLmdldCgpLnNlYXJjaCwgaXRlbSBdKVxufVxuXG5cbi8qKiovIH0pLFxuLyogMjEgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKiBoYXJtb255IGV4cG9ydCAoaW1tdXRhYmxlKSAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiYVwiXSA9IHRvQ2FtZWxDYXNlO1xuZnVuY3Rpb24gdG9DYW1lbENhc2UgKHRyYWluQ2FzZSkge1xuICByZXR1cm4gdHJhaW5DYXNlLnJlcGxhY2UoLy0oW2Etel0pL2csIGxldHRlcnMgPT4gbGV0dGVyc1sxXS50b1VwcGVyQ2FzZSgpKVxufVxuXG5cbi8qKiovIH0pLFxuLyogMjIgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKiBoYXJtb255IGV4cG9ydCAoaW1tdXRhYmxlKSAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiYlwiXSA9IHJlcGxhY2VXaXRoUGxhY2Vob2xkZXI7XG4vKiBoYXJtb255IGV4cG9ydCAoaW1tdXRhYmxlKSAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiYVwiXSA9IHB1dEVsZW1lbnRCYWNrO1xubGV0IHJlbW92ZWRCeUlmID0ge31cbmxldCByZW1vdmVkQ291bnQgPSAwXG5cbmZ1bmN0aW9uIHJlcGxhY2VXaXRoUGxhY2Vob2xkZXIgKGVsZW1lbnQpIHtcbiAgY29uc3QgcGxhY2Vob2xkZXIgPSBjcmVhdGVQbGFjZWhvbGRlcihlbGVtZW50KVxuICBjb25zdCBzaWJsaW5nID0gZWxlbWVudC5uZXh0RWxlbWVudFNpYmxpbmdcbiAgY29uc3QgcGFyZW50ID0gZWxlbWVudC5wYXJlbnROb2RlXG4gIHJlbW92ZWRCeUlmW3JlbW92ZWRDb3VudF0gPSBlbGVtZW50XG4gIHBhcmVudC5yZW1vdmVDaGlsZChlbGVtZW50KVxuICBwYXJlbnQuaW5zZXJ0QmVmb3JlKHBsYWNlaG9sZGVyLCBzaWJsaW5nKVxufVxuXG5mdW5jdGlvbiBwdXRFbGVtZW50QmFjayAocGxhY2Vob2xkZXIpIHtcbiAgY29uc3QgcGxhY2Vob2xkZXJJZCA9IHBsYWNlaG9sZGVyLmdldEF0dHJpYnV0ZSgnc2I6aScpXG4gIGNvbnN0IGVsZW1lbnQgPSByZW1vdmVkQnlJZltwbGFjZWhvbGRlcklkXVxuICBjb25zdCBzaWJsaW5nID0gcGxhY2Vob2xkZXIubmV4dEVsZW1lbnRTaWJsaW5nXG4gIGNvbnN0IHBhcmVudCA9IHBsYWNlaG9sZGVyLnBhcmVudE5vZGVcbiAgcGFyZW50LnJlbW92ZUNoaWxkKHBsYWNlaG9sZGVyKVxuICBwYXJlbnQuaW5zZXJ0QmVmb3JlKGVsZW1lbnQsIHNpYmxpbmcpXG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVBsYWNlaG9sZGVyIChlbGVtZW50KSB7XG4gIHJlbW92ZWRDb3VudCsrXG4gIGNvbnN0IHBsYWNlaG9sZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpXG4gIHBsYWNlaG9sZGVyLnNldEF0dHJpYnV0ZSgnc2I6aScsIHJlbW92ZWRDb3VudClcbiAgcGxhY2Vob2xkZXIuc2V0QXR0cmlidXRlKCc6aWYnLCBlbGVtZW50LmdldEF0dHJpYnV0ZSgnOmlmJykpXG4gIHJldHVybiBwbGFjZWhvbGRlclxufVxuXG5cbi8qKiovIH0pLFxuLyogMjMgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKiBoYXJtb255IGV4cG9ydCAoaW1tdXRhYmxlKSAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiYVwiXSA9IHBhcnNlU3Vic2NyaXB0aW9ucztcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX3V0aWxfZ2V0VHlwZV9qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX2Vycm9yX2pzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fYXNzZXJ0VHlwZV9qc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblxuXG5cblxubGV0IHN1YnNjcmlwdGlvbnNcbmxldCBvYnNlcnZlZEF0dHJzXG5sZXQgb2JzZXJ2ZWRQcm9wc1xubGV0IG9ic2VydmVkU3RhdGVcblxuZnVuY3Rpb24gcGFyc2VTdWJzY3JpcHRpb25zIChzdWJzY3JpcHRpb25PYmplY3QpIHtcbiAgc3Vic2NyaXB0aW9ucyA9IHt9XG4gIG9ic2VydmVkQXR0cnMgPSBbXVxuICBvYnNlcnZlZFByb3BzID0gW11cbiAgb2JzZXJ2ZWRTdGF0ZSA9IFtdXG5cbiAgZm9yIChjb25zdCBbYmluZEtleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKHN1YnNjcmlwdGlvbk9iamVjdCkpIHtcbiAgICBzdWJzY3JpcHRpb25zW2JpbmRLZXldID0gW11cblxuICAgIHN3aXRjaCAoT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fdXRpbF9nZXRUeXBlX2pzX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKHZhbHVlKSkge1xuICAgICAgY2FzZSAnc3RyaW5nJzpcbiAgICAgICAgYWRkQmluZGluZ0Zyb21TdHJpbmcoYmluZEtleSwgdmFsdWUpXG4gICAgICAgIGNvbnRpbnVlXG5cbiAgICAgIGNhc2UgJ29iamVjdCc6XG4gICAgICAgIGFkZEJpbmRpbmdGcm9tT2JqZWN0KGJpbmRLZXksIHZhbHVlKVxuICAgICAgICBjb250aW51ZVxuXG4gICAgICBjYXNlICdhcnJheSc6XG4gICAgICAgIGZvciAoY29uc3QgYmluZGVyIG9mIHZhbHVlKSB7XG4gICAgICAgICAgY29uc3QgdmFsdWVUeXBlID0gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fdXRpbF9nZXRUeXBlX2pzX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKGJpbmRlcilcbiAgICAgICAgICBpZiAodmFsdWVUeXBlID09PSAnc3RyaW5nJykgYWRkQmluZGluZ0Zyb21TdHJpbmcoYmluZEtleSwgYmluZGVyKVxuICAgICAgICAgIGlmICh2YWx1ZVR5cGUgPT09ICdvYmplY3QnKSBhZGRCaW5kaW5nRnJvbU9iamVjdChiaW5kS2V5LCBiaW5kZXIpXG4gICAgICAgIH1cbiAgICAgICAgY29udGludWVcbiAgICB9XG5cbiAgICBmYWlsdXJlVG9QYXJzZSgpXG4gIH1cblxuICByZXR1cm4geyBzdWJzY3JpcHRpb25zLCBvYnNlcnZlZEF0dHJzLCBvYnNlcnZlZFByb3BzLCBvYnNlcnZlZFN0YXRlIH1cbn1cblxuZnVuY3Rpb24gYWRkQmluZGluZyAoeyBiaW5kS2V5LCBzb3VyY2UsIHdhdGNoS2V5LCBjYWxsYmFjayB9KSB7XG4gIGlmICh3YXRjaEtleSkge1xuICAgIGlmIChzb3VyY2UgPT09ICdzdGF0ZScpIG9ic2VydmVkU3RhdGUucHVzaCh3YXRjaEtleSlcbiAgICBlbHNlIGlmIChzb3VyY2UgPT09ICdhdHRyJykgb2JzZXJ2ZWRBdHRycy5wdXNoKHdhdGNoS2V5KVxuICAgIGVsc2UgaWYgKHNvdXJjZSA9PT0gJ3Byb3AnKSBvYnNlcnZlZFByb3BzLnB1c2god2F0Y2hLZXkpXG4gICAgZWxzZSBmYWlsdXJlVG9QYXJzZSgpXG4gIH1cbiAgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fYXNzZXJ0VHlwZV9qc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShjYWxsYmFjaywgWydmdW5jdGlvbicsICd1bmRlZmluZWQnXSwgJ3N1YnNjcmliZSBjYWxsYmFjaycpXG4gIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX2Fzc2VydFR5cGVfanNfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkod2F0Y2hLZXksIFsnc3RyaW5nJ10sICdzdWJzY3JpYmUgd2F0Y2gga2V5JylcbiAgc3Vic2NyaXB0aW9uc1tiaW5kS2V5XS5wdXNoKHsgc291cmNlLCB3YXRjaEtleSwgY2FsbGJhY2sgfSlcbn1cblxuZnVuY3Rpb24gYWRkQmluZGluZ0Zyb21PYmplY3QgKGJpbmRLZXksIG9iaikge1xuICBjb25zdCBzb3VyY2UgPSAoKCkgPT4ge1xuICAgIGlmIChvYmouc3RhdGUpIHJldHVybiAnc3RhdGUnXG4gICAgaWYgKG9iai5wcm9wKSByZXR1cm4gJ3Byb3AnXG4gICAgaWYgKG9iai5hdHRyKSByZXR1cm4gJ2F0dHInXG4gIH0pKClcblxuICBhZGRCaW5kaW5nKHsgYmluZEtleSwgc291cmNlLCB3YXRjaEtleTogb2JqW3NvdXJjZV0sIGNhbGxiYWNrOiBvYmouY2FsbGJhY2sgfSlcbn1cblxuZnVuY3Rpb24gYWRkQmluZGluZ0Zyb21TdHJpbmcgKGJpbmRLZXksIHN0cikge1xuICBhZGRCaW5kaW5nKHsgYmluZEtleSwgc291cmNlOiBzdHIsIHdhdGNoS2V5OiBiaW5kS2V5LCBjYWxsYmFjazogdW5kZWZpbmVkIH0pXG59XG5cbmZ1bmN0aW9uIGZhaWx1cmVUb1BhcnNlKCkge1xuICBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19lcnJvcl9qc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShcbiAgICAnc2hhZG93YmluZF9pbnZhbGlkX3N1YnNjcmliZScsXG4gICAgJ1lvdXIgc3Vic2NyaWJlKCkgcmVzcG9uc2UgaXMgaW52YWxpZCdcbiAgKVxufVxuXG5cbi8qKiovIH0pLFxuLyogMjQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKiBoYXJtb255IGV4cG9ydCAoaW1tdXRhYmxlKSAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiYVwiXSA9IGdldEZvcm1WYWx1ZXM7XG4vKiBoYXJtb255IGV4cG9ydCAoaW1tdXRhYmxlKSAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiYlwiXSA9IHNldEZvcm1WYWx1ZXM7XG4vKiB1bnVzZWQgaGFybW9ueSBleHBvcnQgcGFyc2VGb3JtICovXG5mdW5jdGlvbiBnZXRGb3JtVmFsdWVzIChmb3JtKSB7XG4gIHJldHVybiBwYXJzZUZvcm0oZm9ybSkudmFsdWVzXG59XG5cbmZ1bmN0aW9uIHNldEZvcm1WYWx1ZXMgKGZvcm0sIG5ld1ZhbHVlcykge1xuICBjb25zdCB7IGVsZW1lbnRzIH0gPSBwYXJzZUZvcm0oZm9ybSlcblxuICBmb3IgKGNvbnN0IFtuYW1lLCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMobmV3VmFsdWVzKSkge1xuICAgIGNvbnN0IGVsZW1lbnQgPSBlbGVtZW50c1tuYW1lXVxuICAgIGNvbnN0IGlzQXJyYXkgPSBBcnJheS5pc0FycmF5KGVsZW1lbnQpXG5cbiAgICBpZiAoaXNNdWx0aVNlbGVjdChlbGVtZW50KSkge1xuICAgICAgc2V0U2VsZWN0VmFsdWVzKGVsZW1lbnQsIHZhbHVlKVxuICAgIH0gZWxzZSBpZiAoaXNBcnJheSB8fCBlbGVtZW50LnR5cGUgPT09ICdjaGVja2JveCcpIHtcbiAgICAgIGNvbnN0IGNoZWNrYm94ZXMgPSAoKCkgPT4ge1xuICAgICAgICBpZiAoIWlzQXJyYXkpIHJldHVybiBbZWxlbWVudF1cbiAgICAgICAgcmV0dXJuIGVsZW1lbnRcbiAgICAgIH0pKClcblxuICAgICAgZm9yIChjb25zdCBjaGVja2JveCBvZiBjaGVja2JveGVzKSB7XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgIGNoZWNrYm94LnNldEF0dHJpYnV0ZSgnY2hlY2tlZCcsICcnKVxuICAgICAgICB9IGVsc2UgaWYgKHZhbHVlID09PSBmYWxzZSkge1xuICAgICAgICAgIGNoZWNrYm94LnJlbW92ZUF0dHJpYnV0ZSgnY2hlY2tlZCcpXG4gICAgICAgIH0gZWxzZSBpZiAodmFsdWUuaW5jbHVkZXMoY2hlY2tib3gudmFsdWUpKSB7XG4gICAgICAgICAgY2hlY2tib3guc2V0QXR0cmlidXRlKCdjaGVja2VkJywgJycpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY2hlY2tib3gucmVtb3ZlQXR0cmlidXRlKCdjaGVja2VkJylcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoZWxlbWVudC50eXBlID09PSAnY2hlY2tib3gnKSB7XG5cbiAgICB9IGVsc2Uge1xuICAgICAgZWxlbWVudC52YWx1ZSA9IHZhbHVlXG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHBhcnNlRm9ybSAoZm9ybSkge1xuICBsZXQgdmFsdWVzID0ge31cbiAgbGV0IGVsZW1lbnRzID0ge31cbiAgZm9yIChsZXQgZWxlbWVudCBvZiBBcnJheS5mcm9tKGZvcm0uZWxlbWVudHMpKSB7XG4gICAgY29uc3QgbmFtZSA9IGVsZW1lbnQubmFtZVxuICAgIGxldCB2YWx1ZVxuXG4gICAgaWYgKCFuYW1lKSBjb250aW51ZVxuXG4gICAgaWYgKGVsZW1lbnQudHlwZSA9PT0gJ2NoZWNrYm94JyAmJiBlbGVtZW50LmdldEF0dHJpYnV0ZSgndmFsdWUnKSA9PT0gbnVsbCkge1xuICAgICAgdmFsdWUgPSBlbGVtZW50LmNoZWNrZWRcbiAgICB9IGVsc2UgaWYgKGVsZW1lbnQudHlwZSA9PT0gJ2NoZWNrYm94Jykge1xuICAgICAgaWYgKGVsZW1lbnQuY2hlY2tlZCkgdmFsdWUgPSAodmFsdWVzW25hbWVdIHx8IFtdKS5jb25jYXQoZWxlbWVudC52YWx1ZSlcbiAgICAgIGVsc2UgdmFsdWUgPSB2YWx1ZXNbbmFtZV0gfHwgW11cblxuICAgICAgZWxlbWVudCA9IChlbGVtZW50c1tuYW1lXSB8fCBbXSkuY29uY2F0KGVsZW1lbnQpXG4gICAgfSBlbHNlIGlmIChlbGVtZW50LnR5cGUgPT09ICdyYWRpbycpIHtcbiAgICAgIGlmICghdmFsdWVzW25hbWVdKSB2YWx1ZSA9IGVsZW1lbnQudmFsdWVcbiAgICAgIGVsZW1lbnQgPSAoZWxlbWVudHNbbmFtZV0gfHwgW10pLmNvbmNhdChlbGVtZW50KVxuICAgIH0gZWxzZSBpZiAoaXNNdWx0aVNlbGVjdChlbGVtZW50KSkge1xuICAgICAgdmFsdWUgPSBnZXRTZWxlY3RWYWx1ZXMoZWxlbWVudClcbiAgICB9IGVsc2UgaWYgKGVsZW1lbnQudHlwZSA9PT0gJ251bWJlcicpIHtcbiAgICAgIHZhbHVlID0gZWxlbWVudC52YWx1ZSAhPT0gJycgPyBOdW1iZXIoZWxlbWVudC52YWx1ZSkgOiAnJ1xuICAgIH0gZWxzZSB7XG4gICAgICB2YWx1ZSA9IGVsZW1lbnQudmFsdWVcbiAgICB9XG5cbiAgICB2YWx1ZXNbbmFtZV0gPSB2YWx1ZVxuICAgIGVsZW1lbnRzW25hbWVdID0gZWxlbWVudFxuICB9XG4gIHJldHVybiB7IHZhbHVlcywgZWxlbWVudHMgfVxufVxuXG5mdW5jdGlvbiBpc011bHRpU2VsZWN0IChlbGVtZW50KSB7XG4gIHJldHVybiBlbGVtZW50Lm9wdGlvbnMgJiYgZWxlbWVudC5tdWx0aXBsZVxufVxuXG5mdW5jdGlvbiBnZXRTZWxlY3RWYWx1ZXMgKG9wdGlvbnMpIHtcbiAgbGV0IHZhbHVlcyA9IFtdXG4gIGZvciAoY29uc3Qgb3B0aW9uIG9mIEFycmF5LmZyb20ob3B0aW9ucykpIHtcbiAgICB2YWx1ZXMgPSBvcHRpb24uc2VsZWN0ZWQgPyB2YWx1ZXMuY29uY2F0KG9wdGlvbi52YWx1ZSkgOiB2YWx1ZXNcbiAgfVxuICByZXR1cm4gdmFsdWVzXG59XG5cbmZ1bmN0aW9uIHNldFNlbGVjdFZhbHVlcyAob3B0aW9ucywgdmFsdWVzKSB7XG4gIGZvciAoY29uc3Qgb3B0aW9uIG9mIEFycmF5LmZyb20ob3B0aW9ucykpIHtcbiAgICBpZiAodmFsdWVzLmluY2x1ZGVzKG9wdGlvbi52YWx1ZSkpIHtcbiAgICAgIG9wdGlvbi5zZXRBdHRyaWJ1dGUoJ3NlbGVjdGVkJywgJycpXG4gICAgfSBlbHNlIHtcbiAgICAgIG9wdGlvbi5yZW1vdmVBdHRyaWJ1dGUoJ3NlbGVjdGVkJylcbiAgICB9XG4gIH1cbn1cblxuXG4vKioqLyB9KSxcbi8qIDI1ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fcHVibGlzaF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcblxuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJhXCJdID0gKHN0b3JlID0+IHtcbiAgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fcHVibGlzaF9fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShzdG9yZS5nZXRTdGF0ZSgpKVxuICByZXR1cm4gbmV4dCA9PiBhY3Rpb24gPT4ge1xuICAgIG5leHQoYWN0aW9uKVxuICAgIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX3B1Ymxpc2hfX1tcImFcIiAvKiBkZWZhdWx0ICovXSkoc3RvcmUuZ2V0U3RhdGUoKSlcbiAgfVxufSk7XG5cblxuLyoqKi8gfSlcbi8qKioqKiovIF0pO1xufSk7Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQSxRQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../dist/shadowbind.js\n");

/***/ }),

/***/ "./node_modules/redux/es/redux.js":
/*!****************************************!*\
  !*** ./node_modules/redux/es/redux.js ***!
  \****************************************/
/*! exports provided: createStore, combineReducers, bindActionCreators, applyMiddleware, compose, __DO_NOT_USE__ActionTypes */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"createStore\", function() { return createStore; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"combineReducers\", function() { return combineReducers; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"bindActionCreators\", function() { return bindActionCreators; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"applyMiddleware\", function() { return applyMiddleware; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"compose\", function() { return compose; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__DO_NOT_USE__ActionTypes\", function() { return ActionTypes; });\n/* harmony import */ var symbol_observable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! symbol-observable */ \"./node_modules/symbol-observable/es/index.js\");\n\n\n/**\n * These are private action types reserved by Redux.\n * For any unknown actions, you must return the current state.\n * If the current state is undefined, you must return the initial state.\n * Do not reference these action types directly in your code.\n */\nvar ActionTypes = {\n  INIT: '@@redux/INIT' + Math.random().toString(36).substring(7).split('').join('.'),\n  REPLACE: '@@redux/REPLACE' + Math.random().toString(36).substring(7).split('').join('.')\n};\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\n/**\n * @param {any} obj The object to inspect.\n * @returns {boolean} True if the argument appears to be a plain object.\n */\nfunction isPlainObject(obj) {\n  if ((typeof obj === 'undefined' ? 'undefined' : _typeof(obj)) !== 'object' || obj === null) return false;\n\n  var proto = obj;\n  while (Object.getPrototypeOf(proto) !== null) {\n    proto = Object.getPrototypeOf(proto);\n  }\n\n  return Object.getPrototypeOf(obj) === proto;\n}\n\n/**\n * Creates a Redux store that holds the state tree.\n * The only way to change the data in the store is to call `dispatch()` on it.\n *\n * There should only be a single store in your app. To specify how different\n * parts of the state tree respond to actions, you may combine several reducers\n * into a single reducer function by using `combineReducers`.\n *\n * @param {Function} reducer A function that returns the next state tree, given\n * the current state tree and the action to handle.\n *\n * @param {any} [preloadedState] The initial state. You may optionally specify it\n * to hydrate the state from the server in universal apps, or to restore a\n * previously serialized user session.\n * If you use `combineReducers` to produce the root reducer function, this must be\n * an object with the same shape as `combineReducers` keys.\n *\n * @param {Function} [enhancer] The store enhancer. You may optionally specify it\n * to enhance the store with third-party capabilities such as middleware,\n * time travel, persistence, etc. The only store enhancer that ships with Redux\n * is `applyMiddleware()`.\n *\n * @returns {Store} A Redux store that lets you read the state, dispatch actions\n * and subscribe to changes.\n */\nfunction createStore(reducer, preloadedState, enhancer) {\n  var _ref2;\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'undefined') {\n    enhancer = preloadedState;\n    preloadedState = undefined;\n  }\n\n  if (typeof enhancer !== 'undefined') {\n    if (typeof enhancer !== 'function') {\n      throw new Error('Expected the enhancer to be a function.');\n    }\n\n    return enhancer(createStore)(reducer, preloadedState);\n  }\n\n  if (typeof reducer !== 'function') {\n    throw new Error('Expected the reducer to be a function.');\n  }\n\n  var currentReducer = reducer;\n  var currentState = preloadedState;\n  var currentListeners = [];\n  var nextListeners = currentListeners;\n  var isDispatching = false;\n\n  function ensureCanMutateNextListeners() {\n    if (nextListeners === currentListeners) {\n      nextListeners = currentListeners.slice();\n    }\n  }\n\n  /**\n   * Reads the state tree managed by the store.\n   *\n   * @returns {any} The current state tree of your application.\n   */\n  function getState() {\n    if (isDispatching) {\n      throw new Error('You may not call store.getState() while the reducer is executing. ' + 'The reducer has already received the state as an argument. ' + 'Pass it down from the top reducer instead of reading it from the store.');\n    }\n\n    return currentState;\n  }\n\n  /**\n   * Adds a change listener. It will be called any time an action is dispatched,\n   * and some part of the state tree may potentially have changed. You may then\n   * call `getState()` to read the current state tree inside the callback.\n   *\n   * You may call `dispatch()` from a change listener, with the following\n   * caveats:\n   *\n   * 1. The subscriptions are snapshotted just before every `dispatch()` call.\n   * If you subscribe or unsubscribe while the listeners are being invoked, this\n   * will not have any effect on the `dispatch()` that is currently in progress.\n   * However, the next `dispatch()` call, whether nested or not, will use a more\n   * recent snapshot of the subscription list.\n   *\n   * 2. The listener should not expect to see all state changes, as the state\n   * might have been updated multiple times during a nested `dispatch()` before\n   * the listener is called. It is, however, guaranteed that all subscribers\n   * registered before the `dispatch()` started will be called with the latest\n   * state by the time it exits.\n   *\n   * @param {Function} listener A callback to be invoked on every dispatch.\n   * @returns {Function} A function to remove this change listener.\n   */\n  function subscribe(listener) {\n    if (typeof listener !== 'function') {\n      throw new Error('Expected the listener to be a function.');\n    }\n\n    if (isDispatching) {\n      throw new Error('You may not call store.subscribe() while the reducer is executing. ' + 'If you would like to be notified after the store has been updated, subscribe from a ' + 'component and invoke store.getState() in the callback to access the latest state. ' + 'See https://redux.js.org/api-reference/store#subscribe(listener) for more details.');\n    }\n\n    var isSubscribed = true;\n\n    ensureCanMutateNextListeners();\n    nextListeners.push(listener);\n\n    return function unsubscribe() {\n      if (!isSubscribed) {\n        return;\n      }\n\n      if (isDispatching) {\n        throw new Error('You may not unsubscribe from a store listener while the reducer is executing. ' + 'See https://redux.js.org/api-reference/store#subscribe(listener) for more details.');\n      }\n\n      isSubscribed = false;\n\n      ensureCanMutateNextListeners();\n      var index = nextListeners.indexOf(listener);\n      nextListeners.splice(index, 1);\n    };\n  }\n\n  /**\n   * Dispatches an action. It is the only way to trigger a state change.\n   *\n   * The `reducer` function, used to create the store, will be called with the\n   * current state tree and the given `action`. Its return value will\n   * be considered the **next** state of the tree, and the change listeners\n   * will be notified.\n   *\n   * The base implementation only supports plain object actions. If you want to\n   * dispatch a Promise, an Observable, a thunk, or something else, you need to\n   * wrap your store creating function into the corresponding middleware. For\n   * example, see the documentation for the `redux-thunk` package. Even the\n   * middleware will eventually dispatch plain object actions using this method.\n   *\n   * @param {Object} action A plain object representing “what changed”. It is\n   * a good idea to keep actions serializable so you can record and replay user\n   * sessions, or use the time travelling `redux-devtools`. An action must have\n   * a `type` property which may not be `undefined`. It is a good idea to use\n   * string constants for action types.\n   *\n   * @returns {Object} For convenience, the same action object you dispatched.\n   *\n   * Note that, if you use a custom middleware, it may wrap `dispatch()` to\n   * return something else (for example, a Promise you can await).\n   */\n  function dispatch(action) {\n    if (!isPlainObject(action)) {\n      throw new Error('Actions must be plain objects. ' + 'Use custom middleware for async actions.');\n    }\n\n    if (typeof action.type === 'undefined') {\n      throw new Error('Actions may not have an undefined \"type\" property. ' + 'Have you misspelled a constant?');\n    }\n\n    if (isDispatching) {\n      throw new Error('Reducers may not dispatch actions.');\n    }\n\n    try {\n      isDispatching = true;\n      currentState = currentReducer(currentState, action);\n    } finally {\n      isDispatching = false;\n    }\n\n    var listeners = currentListeners = nextListeners;\n    for (var i = 0; i < listeners.length; i++) {\n      var listener = listeners[i];\n      listener();\n    }\n\n    return action;\n  }\n\n  /**\n   * Replaces the reducer currently used by the store to calculate the state.\n   *\n   * You might need this if your app implements code splitting and you want to\n   * load some of the reducers dynamically. You might also need this if you\n   * implement a hot reloading mechanism for Redux.\n   *\n   * @param {Function} nextReducer The reducer for the store to use instead.\n   * @returns {void}\n   */\n  function replaceReducer(nextReducer) {\n    if (typeof nextReducer !== 'function') {\n      throw new Error('Expected the nextReducer to be a function.');\n    }\n\n    currentReducer = nextReducer;\n    dispatch({ type: ActionTypes.REPLACE });\n  }\n\n  /**\n   * Interoperability point for observable/reactive libraries.\n   * @returns {observable} A minimal observable of state changes.\n   * For more information, see the observable proposal:\n   * https://github.com/tc39/proposal-observable\n   */\n  function observable() {\n    var _ref;\n\n    var outerSubscribe = subscribe;\n    return _ref = {\n      /**\n       * The minimal observable subscription method.\n       * @param {Object} observer Any object that can be used as an observer.\n       * The observer object should have a `next` method.\n       * @returns {subscription} An object with an `unsubscribe` method that can\n       * be used to unsubscribe the observable from the store, and prevent further\n       * emission of values from the observable.\n       */\n      subscribe: function subscribe(observer) {\n        if ((typeof observer === 'undefined' ? 'undefined' : _typeof(observer)) !== 'object' || observer === null) {\n          throw new TypeError('Expected the observer to be an object.');\n        }\n\n        function observeState() {\n          if (observer.next) {\n            observer.next(getState());\n          }\n        }\n\n        observeState();\n        var unsubscribe = outerSubscribe(observeState);\n        return { unsubscribe: unsubscribe };\n      }\n    }, _ref[symbol_observable__WEBPACK_IMPORTED_MODULE_0__[\"default\"]] = function () {\n      return this;\n    }, _ref;\n  }\n\n  // When a store is created, an \"INIT\" action is dispatched so that every\n  // reducer returns their initial state. This effectively populates\n  // the initial state tree.\n  dispatch({ type: ActionTypes.INIT });\n\n  return _ref2 = {\n    dispatch: dispatch,\n    subscribe: subscribe,\n    getState: getState,\n    replaceReducer: replaceReducer\n  }, _ref2[symbol_observable__WEBPACK_IMPORTED_MODULE_0__[\"default\"]] = observable, _ref2;\n}\n\n/**\n * Prints a warning in the console if it exists.\n *\n * @param {String} message The warning message.\n * @returns {void}\n */\nfunction warning(message) {\n  /* eslint-disable no-console */\n  if (typeof console !== 'undefined' && typeof console.error === 'function') {\n    console.error(message);\n  }\n  /* eslint-enable no-console */\n  try {\n    // This error was thrown as a convenience so that if you enable\n    // \"break on all exceptions\" in your console,\n    // it would pause the execution at this line.\n    throw new Error(message);\n  } catch (e) {} // eslint-disable-line no-empty\n}\n\nfunction getUndefinedStateErrorMessage(key, action) {\n  var actionType = action && action.type;\n  var actionDescription = actionType && 'action \"' + String(actionType) + '\"' || 'an action';\n\n  return 'Given ' + actionDescription + ', reducer \"' + key + '\" returned undefined. ' + 'To ignore an action, you must explicitly return the previous state. ' + 'If you want this reducer to hold no value, you can return null instead of undefined.';\n}\n\nfunction getUnexpectedStateShapeWarningMessage(inputState, reducers, action, unexpectedKeyCache) {\n  var reducerKeys = Object.keys(reducers);\n  var argumentName = action && action.type === ActionTypes.INIT ? 'preloadedState argument passed to createStore' : 'previous state received by the reducer';\n\n  if (reducerKeys.length === 0) {\n    return 'Store does not have a valid reducer. Make sure the argument passed ' + 'to combineReducers is an object whose values are reducers.';\n  }\n\n  if (!isPlainObject(inputState)) {\n    return 'The ' + argumentName + ' has unexpected type of \"' + {}.toString.call(inputState).match(/\\s([a-z|A-Z]+)/)[1] + '\". Expected argument to be an object with the following ' + ('keys: \"' + reducerKeys.join('\", \"') + '\"');\n  }\n\n  var unexpectedKeys = Object.keys(inputState).filter(function (key) {\n    return !reducers.hasOwnProperty(key) && !unexpectedKeyCache[key];\n  });\n\n  unexpectedKeys.forEach(function (key) {\n    unexpectedKeyCache[key] = true;\n  });\n\n  if (action && action.type === ActionTypes.REPLACE) return;\n\n  if (unexpectedKeys.length > 0) {\n    return 'Unexpected ' + (unexpectedKeys.length > 1 ? 'keys' : 'key') + ' ' + ('\"' + unexpectedKeys.join('\", \"') + '\" found in ' + argumentName + '. ') + 'Expected to find one of the known reducer keys instead: ' + ('\"' + reducerKeys.join('\", \"') + '\". Unexpected keys will be ignored.');\n  }\n}\n\nfunction assertReducerShape(reducers) {\n  Object.keys(reducers).forEach(function (key) {\n    var reducer = reducers[key];\n    var initialState = reducer(undefined, { type: ActionTypes.INIT });\n\n    if (typeof initialState === 'undefined') {\n      throw new Error('Reducer \"' + key + '\" returned undefined during initialization. ' + 'If the state passed to the reducer is undefined, you must ' + 'explicitly return the initial state. The initial state may ' + 'not be undefined. If you don\\'t want to set a value for this reducer, ' + 'you can use null instead of undefined.');\n    }\n\n    var type = '@@redux/PROBE_UNKNOWN_ACTION_' + Math.random().toString(36).substring(7).split('').join('.');\n    if (typeof reducer(undefined, { type: type }) === 'undefined') {\n      throw new Error('Reducer \"' + key + '\" returned undefined when probed with a random type. ' + ('Don\\'t try to handle ' + ActionTypes.INIT + ' or other actions in \"redux/*\" ') + 'namespace. They are considered private. Instead, you must return the ' + 'current state for any unknown actions, unless it is undefined, ' + 'in which case you must return the initial state, regardless of the ' + 'action type. The initial state may not be undefined, but can be null.');\n    }\n  });\n}\n\n/**\n * Turns an object whose values are different reducer functions, into a single\n * reducer function. It will call every child reducer, and gather their results\n * into a single state object, whose keys correspond to the keys of the passed\n * reducer functions.\n *\n * @param {Object} reducers An object whose values correspond to different\n * reducer functions that need to be combined into one. One handy way to obtain\n * it is to use ES6 `import * as reducers` syntax. The reducers may never return\n * undefined for any action. Instead, they should return their initial state\n * if the state passed to them was undefined, and the current state for any\n * unrecognized action.\n *\n * @returns {Function} A reducer function that invokes every reducer inside the\n * passed object, and builds a state object with the same shape.\n */\nfunction combineReducers(reducers) {\n  var reducerKeys = Object.keys(reducers);\n  var finalReducers = {};\n  for (var i = 0; i < reducerKeys.length; i++) {\n    var key = reducerKeys[i];\n\n    if (true) {\n      if (typeof reducers[key] === 'undefined') {\n        warning('No reducer provided for key \"' + key + '\"');\n      }\n    }\n\n    if (typeof reducers[key] === 'function') {\n      finalReducers[key] = reducers[key];\n    }\n  }\n  var finalReducerKeys = Object.keys(finalReducers);\n\n  var unexpectedKeyCache = void 0;\n  if (true) {\n    unexpectedKeyCache = {};\n  }\n\n  var shapeAssertionError = void 0;\n  try {\n    assertReducerShape(finalReducers);\n  } catch (e) {\n    shapeAssertionError = e;\n  }\n\n  return function combination() {\n    var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var action = arguments[1];\n\n    if (shapeAssertionError) {\n      throw shapeAssertionError;\n    }\n\n    if (true) {\n      var warningMessage = getUnexpectedStateShapeWarningMessage(state, finalReducers, action, unexpectedKeyCache);\n      if (warningMessage) {\n        warning(warningMessage);\n      }\n    }\n\n    var hasChanged = false;\n    var nextState = {};\n    for (var _i = 0; _i < finalReducerKeys.length; _i++) {\n      var _key = finalReducerKeys[_i];\n      var reducer = finalReducers[_key];\n      var previousStateForKey = state[_key];\n      var nextStateForKey = reducer(previousStateForKey, action);\n      if (typeof nextStateForKey === 'undefined') {\n        var errorMessage = getUndefinedStateErrorMessage(_key, action);\n        throw new Error(errorMessage);\n      }\n      nextState[_key] = nextStateForKey;\n      hasChanged = hasChanged || nextStateForKey !== previousStateForKey;\n    }\n    return hasChanged ? nextState : state;\n  };\n}\n\nfunction bindActionCreator(actionCreator, dispatch) {\n  return function () {\n    return dispatch(actionCreator.apply(this, arguments));\n  };\n}\n\n/**\n * Turns an object whose values are action creators, into an object with the\n * same keys, but with every function wrapped into a `dispatch` call so they\n * may be invoked directly. This is just a convenience method, as you can call\n * `store.dispatch(MyActionCreators.doSomething())` yourself just fine.\n *\n * For convenience, you can also pass a single function as the first argument,\n * and get a function in return.\n *\n * @param {Function|Object} actionCreators An object whose values are action\n * creator functions. One handy way to obtain it is to use ES6 `import * as`\n * syntax. You may also pass a single function.\n *\n * @param {Function} dispatch The `dispatch` function available on your Redux\n * store.\n *\n * @returns {Function|Object} The object mimicking the original object, but with\n * every action creator wrapped into the `dispatch` call. If you passed a\n * function as `actionCreators`, the return value will also be a single\n * function.\n */\nfunction bindActionCreators(actionCreators, dispatch) {\n  if (typeof actionCreators === 'function') {\n    return bindActionCreator(actionCreators, dispatch);\n  }\n\n  if ((typeof actionCreators === 'undefined' ? 'undefined' : _typeof(actionCreators)) !== 'object' || actionCreators === null) {\n    throw new Error('bindActionCreators expected an object or a function, instead received ' + (actionCreators === null ? 'null' : typeof actionCreators === 'undefined' ? 'undefined' : _typeof(actionCreators)) + '. ' + 'Did you write \"import ActionCreators from\" instead of \"import * as ActionCreators from\"?');\n  }\n\n  var keys = Object.keys(actionCreators);\n  var boundActionCreators = {};\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    var actionCreator = actionCreators[key];\n    if (typeof actionCreator === 'function') {\n      boundActionCreators[key] = bindActionCreator(actionCreator, dispatch);\n    }\n  }\n  return boundActionCreators;\n}\n\n/**\n * Composes single-argument functions from right to left. The rightmost\n * function can take multiple arguments as it provides the signature for\n * the resulting composite function.\n *\n * @param {...Function} funcs The functions to compose.\n * @returns {Function} A function obtained by composing the argument functions\n * from right to left. For example, compose(f, g, h) is identical to doing\n * (...args) => f(g(h(...args))).\n */\n\nfunction compose() {\n  for (var _len = arguments.length, funcs = Array(_len), _key = 0; _key < _len; _key++) {\n    funcs[_key] = arguments[_key];\n  }\n\n  if (funcs.length === 0) {\n    return function (arg) {\n      return arg;\n    };\n  }\n\n  if (funcs.length === 1) {\n    return funcs[0];\n  }\n\n  return funcs.reduce(function (a, b) {\n    return function () {\n      return a(b.apply(undefined, arguments));\n    };\n  });\n}\n\n/**\n * Creates a store enhancer that applies middleware to the dispatch method\n * of the Redux store. This is handy for a variety of tasks, such as expressing\n * asynchronous actions in a concise manner, or logging every action payload.\n *\n * See `redux-thunk` package as an example of the Redux middleware.\n *\n * Because middleware is potentially asynchronous, this should be the first\n * store enhancer in the composition chain.\n *\n * Note that each middleware will be given the `dispatch` and `getState` functions\n * as named arguments.\n *\n * @param {...Function} middlewares The middleware chain to be applied.\n * @returns {Function} A store enhancer applying the middleware.\n */\nfunction applyMiddleware() {\n  for (var _len = arguments.length, middlewares = Array(_len), _key = 0; _key < _len; _key++) {\n    middlewares[_key] = arguments[_key];\n  }\n\n  return function (createStore) {\n    return function () {\n      for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      var store = createStore.apply(undefined, args);\n      var _dispatch = function dispatch() {\n        throw new Error('Dispatching while constructing your middleware is not allowed. ' + 'Other middleware would not be applied to this dispatch.');\n      };\n\n      var middlewareAPI = {\n        getState: store.getState,\n        dispatch: function dispatch() {\n          return _dispatch.apply(undefined, arguments);\n        }\n      };\n      var chain = middlewares.map(function (middleware) {\n        return middleware(middlewareAPI);\n      });\n      _dispatch = compose.apply(undefined, chain)(store.dispatch);\n\n      return _extends({}, store, {\n        dispatch: _dispatch\n      });\n    };\n  };\n}\n\n/*\n * This is a dummy function to check if the function name has been altered by minification.\n * If the function has been minified and NODE_ENV !== 'production', warn the user.\n */\nfunction isCrushed() {}\n\nif (\"development\" !== 'production' && typeof isCrushed.name === 'string' && isCrushed.name !== 'isCrushed') {\n  warning(\"You are currently using minified code outside of NODE_ENV === 'production'. \" + 'This means that you are running a slower development build of Redux. ' + 'You can use loose-envify (https://github.com/zertosh/loose-envify) for browserify ' + 'or DefinePlugin for webpack (http://stackoverflow.com/questions/30030031) ' + 'to ensure you have the correct code for your production build.');\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmVkdXgvZXMvcmVkdXguanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVkdXgvZXMvcmVkdXguanM/MDBkOCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgJCRvYnNlcnZhYmxlIGZyb20gJ3N5bWJvbC1vYnNlcnZhYmxlJztcblxuLyoqXG4gKiBUaGVzZSBhcmUgcHJpdmF0ZSBhY3Rpb24gdHlwZXMgcmVzZXJ2ZWQgYnkgUmVkdXguXG4gKiBGb3IgYW55IHVua25vd24gYWN0aW9ucywgeW91IG11c3QgcmV0dXJuIHRoZSBjdXJyZW50IHN0YXRlLlxuICogSWYgdGhlIGN1cnJlbnQgc3RhdGUgaXMgdW5kZWZpbmVkLCB5b3UgbXVzdCByZXR1cm4gdGhlIGluaXRpYWwgc3RhdGUuXG4gKiBEbyBub3QgcmVmZXJlbmNlIHRoZXNlIGFjdGlvbiB0eXBlcyBkaXJlY3RseSBpbiB5b3VyIGNvZGUuXG4gKi9cbnZhciBBY3Rpb25UeXBlcyA9IHtcbiAgSU5JVDogJ0BAcmVkdXgvSU5JVCcgKyBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoNykuc3BsaXQoJycpLmpvaW4oJy4nKSxcbiAgUkVQTEFDRTogJ0BAcmVkdXgvUkVQTEFDRScgKyBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoNykuc3BsaXQoJycpLmpvaW4oJy4nKVxufTtcblxudmFyIF90eXBlb2YgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHtcbiAgcmV0dXJuIHR5cGVvZiBvYmo7XG59IDogZnVuY3Rpb24gKG9iaikge1xuICByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajtcbn07XG5cbnZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkge1xuICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07XG5cbiAgICBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7XG4gICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkge1xuICAgICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0YXJnZXQ7XG59O1xuXG4vKipcbiAqIEBwYXJhbSB7YW55fSBvYmogVGhlIG9iamVjdCB0byBpbnNwZWN0LlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdGhlIGFyZ3VtZW50IGFwcGVhcnMgdG8gYmUgYSBwbGFpbiBvYmplY3QuXG4gKi9cbmZ1bmN0aW9uIGlzUGxhaW5PYmplY3Qob2JqKSB7XG4gIGlmICgodHlwZW9mIG9iaiA9PT0gJ3VuZGVmaW5lZCcgPyAndW5kZWZpbmVkJyA6IF90eXBlb2Yob2JqKSkgIT09ICdvYmplY3QnIHx8IG9iaiA9PT0gbnVsbCkgcmV0dXJuIGZhbHNlO1xuXG4gIHZhciBwcm90byA9IG9iajtcbiAgd2hpbGUgKE9iamVjdC5nZXRQcm90b3R5cGVPZihwcm90bykgIT09IG51bGwpIHtcbiAgICBwcm90byA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihwcm90byk7XG4gIH1cblxuICByZXR1cm4gT2JqZWN0LmdldFByb3RvdHlwZU9mKG9iaikgPT09IHByb3RvO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBSZWR1eCBzdG9yZSB0aGF0IGhvbGRzIHRoZSBzdGF0ZSB0cmVlLlxuICogVGhlIG9ubHkgd2F5IHRvIGNoYW5nZSB0aGUgZGF0YSBpbiB0aGUgc3RvcmUgaXMgdG8gY2FsbCBgZGlzcGF0Y2goKWAgb24gaXQuXG4gKlxuICogVGhlcmUgc2hvdWxkIG9ubHkgYmUgYSBzaW5nbGUgc3RvcmUgaW4geW91ciBhcHAuIFRvIHNwZWNpZnkgaG93IGRpZmZlcmVudFxuICogcGFydHMgb2YgdGhlIHN0YXRlIHRyZWUgcmVzcG9uZCB0byBhY3Rpb25zLCB5b3UgbWF5IGNvbWJpbmUgc2V2ZXJhbCByZWR1Y2Vyc1xuICogaW50byBhIHNpbmdsZSByZWR1Y2VyIGZ1bmN0aW9uIGJ5IHVzaW5nIGBjb21iaW5lUmVkdWNlcnNgLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IHJlZHVjZXIgQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgdGhlIG5leHQgc3RhdGUgdHJlZSwgZ2l2ZW5cbiAqIHRoZSBjdXJyZW50IHN0YXRlIHRyZWUgYW5kIHRoZSBhY3Rpb24gdG8gaGFuZGxlLlxuICpcbiAqIEBwYXJhbSB7YW55fSBbcHJlbG9hZGVkU3RhdGVdIFRoZSBpbml0aWFsIHN0YXRlLiBZb3UgbWF5IG9wdGlvbmFsbHkgc3BlY2lmeSBpdFxuICogdG8gaHlkcmF0ZSB0aGUgc3RhdGUgZnJvbSB0aGUgc2VydmVyIGluIHVuaXZlcnNhbCBhcHBzLCBvciB0byByZXN0b3JlIGFcbiAqIHByZXZpb3VzbHkgc2VyaWFsaXplZCB1c2VyIHNlc3Npb24uXG4gKiBJZiB5b3UgdXNlIGBjb21iaW5lUmVkdWNlcnNgIHRvIHByb2R1Y2UgdGhlIHJvb3QgcmVkdWNlciBmdW5jdGlvbiwgdGhpcyBtdXN0IGJlXG4gKiBhbiBvYmplY3Qgd2l0aCB0aGUgc2FtZSBzaGFwZSBhcyBgY29tYmluZVJlZHVjZXJzYCBrZXlzLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtlbmhhbmNlcl0gVGhlIHN0b3JlIGVuaGFuY2VyLiBZb3UgbWF5IG9wdGlvbmFsbHkgc3BlY2lmeSBpdFxuICogdG8gZW5oYW5jZSB0aGUgc3RvcmUgd2l0aCB0aGlyZC1wYXJ0eSBjYXBhYmlsaXRpZXMgc3VjaCBhcyBtaWRkbGV3YXJlLFxuICogdGltZSB0cmF2ZWwsIHBlcnNpc3RlbmNlLCBldGMuIFRoZSBvbmx5IHN0b3JlIGVuaGFuY2VyIHRoYXQgc2hpcHMgd2l0aCBSZWR1eFxuICogaXMgYGFwcGx5TWlkZGxld2FyZSgpYC5cbiAqXG4gKiBAcmV0dXJucyB7U3RvcmV9IEEgUmVkdXggc3RvcmUgdGhhdCBsZXRzIHlvdSByZWFkIHRoZSBzdGF0ZSwgZGlzcGF0Y2ggYWN0aW9uc1xuICogYW5kIHN1YnNjcmliZSB0byBjaGFuZ2VzLlxuICovXG5mdW5jdGlvbiBjcmVhdGVTdG9yZShyZWR1Y2VyLCBwcmVsb2FkZWRTdGF0ZSwgZW5oYW5jZXIpIHtcbiAgdmFyIF9yZWYyO1xuXG4gIGlmICh0eXBlb2YgcHJlbG9hZGVkU3RhdGUgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIGVuaGFuY2VyID09PSAndW5kZWZpbmVkJykge1xuICAgIGVuaGFuY2VyID0gcHJlbG9hZGVkU3RhdGU7XG4gICAgcHJlbG9hZGVkU3RhdGUgPSB1bmRlZmluZWQ7XG4gIH1cblxuICBpZiAodHlwZW9mIGVuaGFuY2VyICE9PSAndW5kZWZpbmVkJykge1xuICAgIGlmICh0eXBlb2YgZW5oYW5jZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignRXhwZWN0ZWQgdGhlIGVuaGFuY2VyIHRvIGJlIGEgZnVuY3Rpb24uJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGVuaGFuY2VyKGNyZWF0ZVN0b3JlKShyZWR1Y2VyLCBwcmVsb2FkZWRTdGF0ZSk7XG4gIH1cblxuICBpZiAodHlwZW9mIHJlZHVjZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0V4cGVjdGVkIHRoZSByZWR1Y2VyIHRvIGJlIGEgZnVuY3Rpb24uJyk7XG4gIH1cblxuICB2YXIgY3VycmVudFJlZHVjZXIgPSByZWR1Y2VyO1xuICB2YXIgY3VycmVudFN0YXRlID0gcHJlbG9hZGVkU3RhdGU7XG4gIHZhciBjdXJyZW50TGlzdGVuZXJzID0gW107XG4gIHZhciBuZXh0TGlzdGVuZXJzID0gY3VycmVudExpc3RlbmVycztcbiAgdmFyIGlzRGlzcGF0Y2hpbmcgPSBmYWxzZTtcblxuICBmdW5jdGlvbiBlbnN1cmVDYW5NdXRhdGVOZXh0TGlzdGVuZXJzKCkge1xuICAgIGlmIChuZXh0TGlzdGVuZXJzID09PSBjdXJyZW50TGlzdGVuZXJzKSB7XG4gICAgICBuZXh0TGlzdGVuZXJzID0gY3VycmVudExpc3RlbmVycy5zbGljZSgpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZWFkcyB0aGUgc3RhdGUgdHJlZSBtYW5hZ2VkIGJ5IHRoZSBzdG9yZS5cbiAgICpcbiAgICogQHJldHVybnMge2FueX0gVGhlIGN1cnJlbnQgc3RhdGUgdHJlZSBvZiB5b3VyIGFwcGxpY2F0aW9uLlxuICAgKi9cbiAgZnVuY3Rpb24gZ2V0U3RhdGUoKSB7XG4gICAgaWYgKGlzRGlzcGF0Y2hpbmcpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignWW91IG1heSBub3QgY2FsbCBzdG9yZS5nZXRTdGF0ZSgpIHdoaWxlIHRoZSByZWR1Y2VyIGlzIGV4ZWN1dGluZy4gJyArICdUaGUgcmVkdWNlciBoYXMgYWxyZWFkeSByZWNlaXZlZCB0aGUgc3RhdGUgYXMgYW4gYXJndW1lbnQuICcgKyAnUGFzcyBpdCBkb3duIGZyb20gdGhlIHRvcCByZWR1Y2VyIGluc3RlYWQgb2YgcmVhZGluZyBpdCBmcm9tIHRoZSBzdG9yZS4nKTtcbiAgICB9XG5cbiAgICByZXR1cm4gY3VycmVudFN0YXRlO1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZHMgYSBjaGFuZ2UgbGlzdGVuZXIuIEl0IHdpbGwgYmUgY2FsbGVkIGFueSB0aW1lIGFuIGFjdGlvbiBpcyBkaXNwYXRjaGVkLFxuICAgKiBhbmQgc29tZSBwYXJ0IG9mIHRoZSBzdGF0ZSB0cmVlIG1heSBwb3RlbnRpYWxseSBoYXZlIGNoYW5nZWQuIFlvdSBtYXkgdGhlblxuICAgKiBjYWxsIGBnZXRTdGF0ZSgpYCB0byByZWFkIHRoZSBjdXJyZW50IHN0YXRlIHRyZWUgaW5zaWRlIHRoZSBjYWxsYmFjay5cbiAgICpcbiAgICogWW91IG1heSBjYWxsIGBkaXNwYXRjaCgpYCBmcm9tIGEgY2hhbmdlIGxpc3RlbmVyLCB3aXRoIHRoZSBmb2xsb3dpbmdcbiAgICogY2F2ZWF0czpcbiAgICpcbiAgICogMS4gVGhlIHN1YnNjcmlwdGlvbnMgYXJlIHNuYXBzaG90dGVkIGp1c3QgYmVmb3JlIGV2ZXJ5IGBkaXNwYXRjaCgpYCBjYWxsLlxuICAgKiBJZiB5b3Ugc3Vic2NyaWJlIG9yIHVuc3Vic2NyaWJlIHdoaWxlIHRoZSBsaXN0ZW5lcnMgYXJlIGJlaW5nIGludm9rZWQsIHRoaXNcbiAgICogd2lsbCBub3QgaGF2ZSBhbnkgZWZmZWN0IG9uIHRoZSBgZGlzcGF0Y2goKWAgdGhhdCBpcyBjdXJyZW50bHkgaW4gcHJvZ3Jlc3MuXG4gICAqIEhvd2V2ZXIsIHRoZSBuZXh0IGBkaXNwYXRjaCgpYCBjYWxsLCB3aGV0aGVyIG5lc3RlZCBvciBub3QsIHdpbGwgdXNlIGEgbW9yZVxuICAgKiByZWNlbnQgc25hcHNob3Qgb2YgdGhlIHN1YnNjcmlwdGlvbiBsaXN0LlxuICAgKlxuICAgKiAyLiBUaGUgbGlzdGVuZXIgc2hvdWxkIG5vdCBleHBlY3QgdG8gc2VlIGFsbCBzdGF0ZSBjaGFuZ2VzLCBhcyB0aGUgc3RhdGVcbiAgICogbWlnaHQgaGF2ZSBiZWVuIHVwZGF0ZWQgbXVsdGlwbGUgdGltZXMgZHVyaW5nIGEgbmVzdGVkIGBkaXNwYXRjaCgpYCBiZWZvcmVcbiAgICogdGhlIGxpc3RlbmVyIGlzIGNhbGxlZC4gSXQgaXMsIGhvd2V2ZXIsIGd1YXJhbnRlZWQgdGhhdCBhbGwgc3Vic2NyaWJlcnNcbiAgICogcmVnaXN0ZXJlZCBiZWZvcmUgdGhlIGBkaXNwYXRjaCgpYCBzdGFydGVkIHdpbGwgYmUgY2FsbGVkIHdpdGggdGhlIGxhdGVzdFxuICAgKiBzdGF0ZSBieSB0aGUgdGltZSBpdCBleGl0cy5cbiAgICpcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gbGlzdGVuZXIgQSBjYWxsYmFjayB0byBiZSBpbnZva2VkIG9uIGV2ZXJ5IGRpc3BhdGNoLlxuICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IEEgZnVuY3Rpb24gdG8gcmVtb3ZlIHRoaXMgY2hhbmdlIGxpc3RlbmVyLlxuICAgKi9cbiAgZnVuY3Rpb24gc3Vic2NyaWJlKGxpc3RlbmVyKSB7XG4gICAgaWYgKHR5cGVvZiBsaXN0ZW5lciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdFeHBlY3RlZCB0aGUgbGlzdGVuZXIgdG8gYmUgYSBmdW5jdGlvbi4nKTtcbiAgICB9XG5cbiAgICBpZiAoaXNEaXNwYXRjaGluZykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdZb3UgbWF5IG5vdCBjYWxsIHN0b3JlLnN1YnNjcmliZSgpIHdoaWxlIHRoZSByZWR1Y2VyIGlzIGV4ZWN1dGluZy4gJyArICdJZiB5b3Ugd291bGQgbGlrZSB0byBiZSBub3RpZmllZCBhZnRlciB0aGUgc3RvcmUgaGFzIGJlZW4gdXBkYXRlZCwgc3Vic2NyaWJlIGZyb20gYSAnICsgJ2NvbXBvbmVudCBhbmQgaW52b2tlIHN0b3JlLmdldFN0YXRlKCkgaW4gdGhlIGNhbGxiYWNrIHRvIGFjY2VzcyB0aGUgbGF0ZXN0IHN0YXRlLiAnICsgJ1NlZSBodHRwczovL3JlZHV4LmpzLm9yZy9hcGktcmVmZXJlbmNlL3N0b3JlI3N1YnNjcmliZShsaXN0ZW5lcikgZm9yIG1vcmUgZGV0YWlscy4nKTtcbiAgICB9XG5cbiAgICB2YXIgaXNTdWJzY3JpYmVkID0gdHJ1ZTtcblxuICAgIGVuc3VyZUNhbk11dGF0ZU5leHRMaXN0ZW5lcnMoKTtcbiAgICBuZXh0TGlzdGVuZXJzLnB1c2gobGlzdGVuZXIpO1xuXG4gICAgcmV0dXJuIGZ1bmN0aW9uIHVuc3Vic2NyaWJlKCkge1xuICAgICAgaWYgKCFpc1N1YnNjcmliZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoaXNEaXNwYXRjaGluZykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1lvdSBtYXkgbm90IHVuc3Vic2NyaWJlIGZyb20gYSBzdG9yZSBsaXN0ZW5lciB3aGlsZSB0aGUgcmVkdWNlciBpcyBleGVjdXRpbmcuICcgKyAnU2VlIGh0dHBzOi8vcmVkdXguanMub3JnL2FwaS1yZWZlcmVuY2Uvc3RvcmUjc3Vic2NyaWJlKGxpc3RlbmVyKSBmb3IgbW9yZSBkZXRhaWxzLicpO1xuICAgICAgfVxuXG4gICAgICBpc1N1YnNjcmliZWQgPSBmYWxzZTtcblxuICAgICAgZW5zdXJlQ2FuTXV0YXRlTmV4dExpc3RlbmVycygpO1xuICAgICAgdmFyIGluZGV4ID0gbmV4dExpc3RlbmVycy5pbmRleE9mKGxpc3RlbmVyKTtcbiAgICAgIG5leHRMaXN0ZW5lcnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIERpc3BhdGNoZXMgYW4gYWN0aW9uLiBJdCBpcyB0aGUgb25seSB3YXkgdG8gdHJpZ2dlciBhIHN0YXRlIGNoYW5nZS5cbiAgICpcbiAgICogVGhlIGByZWR1Y2VyYCBmdW5jdGlvbiwgdXNlZCB0byBjcmVhdGUgdGhlIHN0b3JlLCB3aWxsIGJlIGNhbGxlZCB3aXRoIHRoZVxuICAgKiBjdXJyZW50IHN0YXRlIHRyZWUgYW5kIHRoZSBnaXZlbiBgYWN0aW9uYC4gSXRzIHJldHVybiB2YWx1ZSB3aWxsXG4gICAqIGJlIGNvbnNpZGVyZWQgdGhlICoqbmV4dCoqIHN0YXRlIG9mIHRoZSB0cmVlLCBhbmQgdGhlIGNoYW5nZSBsaXN0ZW5lcnNcbiAgICogd2lsbCBiZSBub3RpZmllZC5cbiAgICpcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb25seSBzdXBwb3J0cyBwbGFpbiBvYmplY3QgYWN0aW9ucy4gSWYgeW91IHdhbnQgdG9cbiAgICogZGlzcGF0Y2ggYSBQcm9taXNlLCBhbiBPYnNlcnZhYmxlLCBhIHRodW5rLCBvciBzb21ldGhpbmcgZWxzZSwgeW91IG5lZWQgdG9cbiAgICogd3JhcCB5b3VyIHN0b3JlIGNyZWF0aW5nIGZ1bmN0aW9uIGludG8gdGhlIGNvcnJlc3BvbmRpbmcgbWlkZGxld2FyZS4gRm9yXG4gICAqIGV4YW1wbGUsIHNlZSB0aGUgZG9jdW1lbnRhdGlvbiBmb3IgdGhlIGByZWR1eC10aHVua2AgcGFja2FnZS4gRXZlbiB0aGVcbiAgICogbWlkZGxld2FyZSB3aWxsIGV2ZW50dWFsbHkgZGlzcGF0Y2ggcGxhaW4gb2JqZWN0IGFjdGlvbnMgdXNpbmcgdGhpcyBtZXRob2QuXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBhY3Rpb24gQSBwbGFpbiBvYmplY3QgcmVwcmVzZW50aW5nIOKAnHdoYXQgY2hhbmdlZOKAnS4gSXQgaXNcbiAgICogYSBnb29kIGlkZWEgdG8ga2VlcCBhY3Rpb25zIHNlcmlhbGl6YWJsZSBzbyB5b3UgY2FuIHJlY29yZCBhbmQgcmVwbGF5IHVzZXJcbiAgICogc2Vzc2lvbnMsIG9yIHVzZSB0aGUgdGltZSB0cmF2ZWxsaW5nIGByZWR1eC1kZXZ0b29sc2AuIEFuIGFjdGlvbiBtdXN0IGhhdmVcbiAgICogYSBgdHlwZWAgcHJvcGVydHkgd2hpY2ggbWF5IG5vdCBiZSBgdW5kZWZpbmVkYC4gSXQgaXMgYSBnb29kIGlkZWEgdG8gdXNlXG4gICAqIHN0cmluZyBjb25zdGFudHMgZm9yIGFjdGlvbiB0eXBlcy5cbiAgICpcbiAgICogQHJldHVybnMge09iamVjdH0gRm9yIGNvbnZlbmllbmNlLCB0aGUgc2FtZSBhY3Rpb24gb2JqZWN0IHlvdSBkaXNwYXRjaGVkLlxuICAgKlxuICAgKiBOb3RlIHRoYXQsIGlmIHlvdSB1c2UgYSBjdXN0b20gbWlkZGxld2FyZSwgaXQgbWF5IHdyYXAgYGRpc3BhdGNoKClgIHRvXG4gICAqIHJldHVybiBzb21ldGhpbmcgZWxzZSAoZm9yIGV4YW1wbGUsIGEgUHJvbWlzZSB5b3UgY2FuIGF3YWl0KS5cbiAgICovXG4gIGZ1bmN0aW9uIGRpc3BhdGNoKGFjdGlvbikge1xuICAgIGlmICghaXNQbGFpbk9iamVjdChhY3Rpb24pKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0FjdGlvbnMgbXVzdCBiZSBwbGFpbiBvYmplY3RzLiAnICsgJ1VzZSBjdXN0b20gbWlkZGxld2FyZSBmb3IgYXN5bmMgYWN0aW9ucy4nKTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIGFjdGlvbi50eXBlID09PSAndW5kZWZpbmVkJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdBY3Rpb25zIG1heSBub3QgaGF2ZSBhbiB1bmRlZmluZWQgXCJ0eXBlXCIgcHJvcGVydHkuICcgKyAnSGF2ZSB5b3UgbWlzc3BlbGxlZCBhIGNvbnN0YW50PycpO1xuICAgIH1cblxuICAgIGlmIChpc0Rpc3BhdGNoaW5nKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlZHVjZXJzIG1heSBub3QgZGlzcGF0Y2ggYWN0aW9ucy4nKTtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgaXNEaXNwYXRjaGluZyA9IHRydWU7XG4gICAgICBjdXJyZW50U3RhdGUgPSBjdXJyZW50UmVkdWNlcihjdXJyZW50U3RhdGUsIGFjdGlvbik7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGlzRGlzcGF0Y2hpbmcgPSBmYWxzZTtcbiAgICB9XG5cbiAgICB2YXIgbGlzdGVuZXJzID0gY3VycmVudExpc3RlbmVycyA9IG5leHRMaXN0ZW5lcnM7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0ZW5lcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBsaXN0ZW5lciA9IGxpc3RlbmVyc1tpXTtcbiAgICAgIGxpc3RlbmVyKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGFjdGlvbjtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXBsYWNlcyB0aGUgcmVkdWNlciBjdXJyZW50bHkgdXNlZCBieSB0aGUgc3RvcmUgdG8gY2FsY3VsYXRlIHRoZSBzdGF0ZS5cbiAgICpcbiAgICogWW91IG1pZ2h0IG5lZWQgdGhpcyBpZiB5b3VyIGFwcCBpbXBsZW1lbnRzIGNvZGUgc3BsaXR0aW5nIGFuZCB5b3Ugd2FudCB0b1xuICAgKiBsb2FkIHNvbWUgb2YgdGhlIHJlZHVjZXJzIGR5bmFtaWNhbGx5LiBZb3UgbWlnaHQgYWxzbyBuZWVkIHRoaXMgaWYgeW91XG4gICAqIGltcGxlbWVudCBhIGhvdCByZWxvYWRpbmcgbWVjaGFuaXNtIGZvciBSZWR1eC5cbiAgICpcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gbmV4dFJlZHVjZXIgVGhlIHJlZHVjZXIgZm9yIHRoZSBzdG9yZSB0byB1c2UgaW5zdGVhZC5cbiAgICogQHJldHVybnMge3ZvaWR9XG4gICAqL1xuICBmdW5jdGlvbiByZXBsYWNlUmVkdWNlcihuZXh0UmVkdWNlcikge1xuICAgIGlmICh0eXBlb2YgbmV4dFJlZHVjZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignRXhwZWN0ZWQgdGhlIG5leHRSZWR1Y2VyIHRvIGJlIGEgZnVuY3Rpb24uJyk7XG4gICAgfVxuXG4gICAgY3VycmVudFJlZHVjZXIgPSBuZXh0UmVkdWNlcjtcbiAgICBkaXNwYXRjaCh7IHR5cGU6IEFjdGlvblR5cGVzLlJFUExBQ0UgfSk7XG4gIH1cblxuICAvKipcbiAgICogSW50ZXJvcGVyYWJpbGl0eSBwb2ludCBmb3Igb2JzZXJ2YWJsZS9yZWFjdGl2ZSBsaWJyYXJpZXMuXG4gICAqIEByZXR1cm5zIHtvYnNlcnZhYmxlfSBBIG1pbmltYWwgb2JzZXJ2YWJsZSBvZiBzdGF0ZSBjaGFuZ2VzLlxuICAgKiBGb3IgbW9yZSBpbmZvcm1hdGlvbiwgc2VlIHRoZSBvYnNlcnZhYmxlIHByb3Bvc2FsOlxuICAgKiBodHRwczovL2dpdGh1Yi5jb20vdGMzOS9wcm9wb3NhbC1vYnNlcnZhYmxlXG4gICAqL1xuICBmdW5jdGlvbiBvYnNlcnZhYmxlKCkge1xuICAgIHZhciBfcmVmO1xuXG4gICAgdmFyIG91dGVyU3Vic2NyaWJlID0gc3Vic2NyaWJlO1xuICAgIHJldHVybiBfcmVmID0ge1xuICAgICAgLyoqXG4gICAgICAgKiBUaGUgbWluaW1hbCBvYnNlcnZhYmxlIHN1YnNjcmlwdGlvbiBtZXRob2QuXG4gICAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JzZXJ2ZXIgQW55IG9iamVjdCB0aGF0IGNhbiBiZSB1c2VkIGFzIGFuIG9ic2VydmVyLlxuICAgICAgICogVGhlIG9ic2VydmVyIG9iamVjdCBzaG91bGQgaGF2ZSBhIGBuZXh0YCBtZXRob2QuXG4gICAgICAgKiBAcmV0dXJucyB7c3Vic2NyaXB0aW9ufSBBbiBvYmplY3Qgd2l0aCBhbiBgdW5zdWJzY3JpYmVgIG1ldGhvZCB0aGF0IGNhblxuICAgICAgICogYmUgdXNlZCB0byB1bnN1YnNjcmliZSB0aGUgb2JzZXJ2YWJsZSBmcm9tIHRoZSBzdG9yZSwgYW5kIHByZXZlbnQgZnVydGhlclxuICAgICAgICogZW1pc3Npb24gb2YgdmFsdWVzIGZyb20gdGhlIG9ic2VydmFibGUuXG4gICAgICAgKi9cbiAgICAgIHN1YnNjcmliZTogZnVuY3Rpb24gc3Vic2NyaWJlKG9ic2VydmVyKSB7XG4gICAgICAgIGlmICgodHlwZW9mIG9ic2VydmVyID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogX3R5cGVvZihvYnNlcnZlcikpICE9PSAnb2JqZWN0JyB8fCBvYnNlcnZlciA9PT0gbnVsbCkge1xuICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0V4cGVjdGVkIHRoZSBvYnNlcnZlciB0byBiZSBhbiBvYmplY3QuJyk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBvYnNlcnZlU3RhdGUoKSB7XG4gICAgICAgICAgaWYgKG9ic2VydmVyLm5leHQpIHtcbiAgICAgICAgICAgIG9ic2VydmVyLm5leHQoZ2V0U3RhdGUoKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgb2JzZXJ2ZVN0YXRlKCk7XG4gICAgICAgIHZhciB1bnN1YnNjcmliZSA9IG91dGVyU3Vic2NyaWJlKG9ic2VydmVTdGF0ZSk7XG4gICAgICAgIHJldHVybiB7IHVuc3Vic2NyaWJlOiB1bnN1YnNjcmliZSB9O1xuICAgICAgfVxuICAgIH0sIF9yZWZbJCRvYnNlcnZhYmxlXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sIF9yZWY7XG4gIH1cblxuICAvLyBXaGVuIGEgc3RvcmUgaXMgY3JlYXRlZCwgYW4gXCJJTklUXCIgYWN0aW9uIGlzIGRpc3BhdGNoZWQgc28gdGhhdCBldmVyeVxuICAvLyByZWR1Y2VyIHJldHVybnMgdGhlaXIgaW5pdGlhbCBzdGF0ZS4gVGhpcyBlZmZlY3RpdmVseSBwb3B1bGF0ZXNcbiAgLy8gdGhlIGluaXRpYWwgc3RhdGUgdHJlZS5cbiAgZGlzcGF0Y2goeyB0eXBlOiBBY3Rpb25UeXBlcy5JTklUIH0pO1xuXG4gIHJldHVybiBfcmVmMiA9IHtcbiAgICBkaXNwYXRjaDogZGlzcGF0Y2gsXG4gICAgc3Vic2NyaWJlOiBzdWJzY3JpYmUsXG4gICAgZ2V0U3RhdGU6IGdldFN0YXRlLFxuICAgIHJlcGxhY2VSZWR1Y2VyOiByZXBsYWNlUmVkdWNlclxuICB9LCBfcmVmMlskJG9ic2VydmFibGVdID0gb2JzZXJ2YWJsZSwgX3JlZjI7XG59XG5cbi8qKlxuICogUHJpbnRzIGEgd2FybmluZyBpbiB0aGUgY29uc29sZSBpZiBpdCBleGlzdHMuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IG1lc3NhZ2UgVGhlIHdhcm5pbmcgbWVzc2FnZS5cbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5mdW5jdGlvbiB3YXJuaW5nKG1lc3NhZ2UpIHtcbiAgLyogZXNsaW50LWRpc2FibGUgbm8tY29uc29sZSAqL1xuICBpZiAodHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBjb25zb2xlLmVycm9yID09PSAnZnVuY3Rpb24nKSB7XG4gICAgY29uc29sZS5lcnJvcihtZXNzYWdlKTtcbiAgfVxuICAvKiBlc2xpbnQtZW5hYmxlIG5vLWNvbnNvbGUgKi9cbiAgdHJ5IHtcbiAgICAvLyBUaGlzIGVycm9yIHdhcyB0aHJvd24gYXMgYSBjb252ZW5pZW5jZSBzbyB0aGF0IGlmIHlvdSBlbmFibGVcbiAgICAvLyBcImJyZWFrIG9uIGFsbCBleGNlcHRpb25zXCIgaW4geW91ciBjb25zb2xlLFxuICAgIC8vIGl0IHdvdWxkIHBhdXNlIHRoZSBleGVjdXRpb24gYXQgdGhpcyBsaW5lLlxuICAgIHRocm93IG5ldyBFcnJvcihtZXNzYWdlKTtcbiAgfSBjYXRjaCAoZSkge30gLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1lbXB0eVxufVxuXG5mdW5jdGlvbiBnZXRVbmRlZmluZWRTdGF0ZUVycm9yTWVzc2FnZShrZXksIGFjdGlvbikge1xuICB2YXIgYWN0aW9uVHlwZSA9IGFjdGlvbiAmJiBhY3Rpb24udHlwZTtcbiAgdmFyIGFjdGlvbkRlc2NyaXB0aW9uID0gYWN0aW9uVHlwZSAmJiAnYWN0aW9uIFwiJyArIFN0cmluZyhhY3Rpb25UeXBlKSArICdcIicgfHwgJ2FuIGFjdGlvbic7XG5cbiAgcmV0dXJuICdHaXZlbiAnICsgYWN0aW9uRGVzY3JpcHRpb24gKyAnLCByZWR1Y2VyIFwiJyArIGtleSArICdcIiByZXR1cm5lZCB1bmRlZmluZWQuICcgKyAnVG8gaWdub3JlIGFuIGFjdGlvbiwgeW91IG11c3QgZXhwbGljaXRseSByZXR1cm4gdGhlIHByZXZpb3VzIHN0YXRlLiAnICsgJ0lmIHlvdSB3YW50IHRoaXMgcmVkdWNlciB0byBob2xkIG5vIHZhbHVlLCB5b3UgY2FuIHJldHVybiBudWxsIGluc3RlYWQgb2YgdW5kZWZpbmVkLic7XG59XG5cbmZ1bmN0aW9uIGdldFVuZXhwZWN0ZWRTdGF0ZVNoYXBlV2FybmluZ01lc3NhZ2UoaW5wdXRTdGF0ZSwgcmVkdWNlcnMsIGFjdGlvbiwgdW5leHBlY3RlZEtleUNhY2hlKSB7XG4gIHZhciByZWR1Y2VyS2V5cyA9IE9iamVjdC5rZXlzKHJlZHVjZXJzKTtcbiAgdmFyIGFyZ3VtZW50TmFtZSA9IGFjdGlvbiAmJiBhY3Rpb24udHlwZSA9PT0gQWN0aW9uVHlwZXMuSU5JVCA/ICdwcmVsb2FkZWRTdGF0ZSBhcmd1bWVudCBwYXNzZWQgdG8gY3JlYXRlU3RvcmUnIDogJ3ByZXZpb3VzIHN0YXRlIHJlY2VpdmVkIGJ5IHRoZSByZWR1Y2VyJztcblxuICBpZiAocmVkdWNlcktleXMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuICdTdG9yZSBkb2VzIG5vdCBoYXZlIGEgdmFsaWQgcmVkdWNlci4gTWFrZSBzdXJlIHRoZSBhcmd1bWVudCBwYXNzZWQgJyArICd0byBjb21iaW5lUmVkdWNlcnMgaXMgYW4gb2JqZWN0IHdob3NlIHZhbHVlcyBhcmUgcmVkdWNlcnMuJztcbiAgfVxuXG4gIGlmICghaXNQbGFpbk9iamVjdChpbnB1dFN0YXRlKSkge1xuICAgIHJldHVybiAnVGhlICcgKyBhcmd1bWVudE5hbWUgKyAnIGhhcyB1bmV4cGVjdGVkIHR5cGUgb2YgXCInICsge30udG9TdHJpbmcuY2FsbChpbnB1dFN0YXRlKS5tYXRjaCgvXFxzKFthLXp8QS1aXSspLylbMV0gKyAnXCIuIEV4cGVjdGVkIGFyZ3VtZW50IHRvIGJlIGFuIG9iamVjdCB3aXRoIHRoZSBmb2xsb3dpbmcgJyArICgna2V5czogXCInICsgcmVkdWNlcktleXMuam9pbignXCIsIFwiJykgKyAnXCInKTtcbiAgfVxuXG4gIHZhciB1bmV4cGVjdGVkS2V5cyA9IE9iamVjdC5rZXlzKGlucHV0U3RhdGUpLmZpbHRlcihmdW5jdGlvbiAoa2V5KSB7XG4gICAgcmV0dXJuICFyZWR1Y2Vycy5oYXNPd25Qcm9wZXJ0eShrZXkpICYmICF1bmV4cGVjdGVkS2V5Q2FjaGVba2V5XTtcbiAgfSk7XG5cbiAgdW5leHBlY3RlZEtleXMuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgdW5leHBlY3RlZEtleUNhY2hlW2tleV0gPSB0cnVlO1xuICB9KTtcblxuICBpZiAoYWN0aW9uICYmIGFjdGlvbi50eXBlID09PSBBY3Rpb25UeXBlcy5SRVBMQUNFKSByZXR1cm47XG5cbiAgaWYgKHVuZXhwZWN0ZWRLZXlzLmxlbmd0aCA+IDApIHtcbiAgICByZXR1cm4gJ1VuZXhwZWN0ZWQgJyArICh1bmV4cGVjdGVkS2V5cy5sZW5ndGggPiAxID8gJ2tleXMnIDogJ2tleScpICsgJyAnICsgKCdcIicgKyB1bmV4cGVjdGVkS2V5cy5qb2luKCdcIiwgXCInKSArICdcIiBmb3VuZCBpbiAnICsgYXJndW1lbnROYW1lICsgJy4gJykgKyAnRXhwZWN0ZWQgdG8gZmluZCBvbmUgb2YgdGhlIGtub3duIHJlZHVjZXIga2V5cyBpbnN0ZWFkOiAnICsgKCdcIicgKyByZWR1Y2VyS2V5cy5qb2luKCdcIiwgXCInKSArICdcIi4gVW5leHBlY3RlZCBrZXlzIHdpbGwgYmUgaWdub3JlZC4nKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBhc3NlcnRSZWR1Y2VyU2hhcGUocmVkdWNlcnMpIHtcbiAgT2JqZWN0LmtleXMocmVkdWNlcnMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgIHZhciByZWR1Y2VyID0gcmVkdWNlcnNba2V5XTtcbiAgICB2YXIgaW5pdGlhbFN0YXRlID0gcmVkdWNlcih1bmRlZmluZWQsIHsgdHlwZTogQWN0aW9uVHlwZXMuSU5JVCB9KTtcblxuICAgIGlmICh0eXBlb2YgaW5pdGlhbFN0YXRlID09PSAndW5kZWZpbmVkJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZWR1Y2VyIFwiJyArIGtleSArICdcIiByZXR1cm5lZCB1bmRlZmluZWQgZHVyaW5nIGluaXRpYWxpemF0aW9uLiAnICsgJ0lmIHRoZSBzdGF0ZSBwYXNzZWQgdG8gdGhlIHJlZHVjZXIgaXMgdW5kZWZpbmVkLCB5b3UgbXVzdCAnICsgJ2V4cGxpY2l0bHkgcmV0dXJuIHRoZSBpbml0aWFsIHN0YXRlLiBUaGUgaW5pdGlhbCBzdGF0ZSBtYXkgJyArICdub3QgYmUgdW5kZWZpbmVkLiBJZiB5b3UgZG9uXFwndCB3YW50IHRvIHNldCBhIHZhbHVlIGZvciB0aGlzIHJlZHVjZXIsICcgKyAneW91IGNhbiB1c2UgbnVsbCBpbnN0ZWFkIG9mIHVuZGVmaW5lZC4nKTtcbiAgICB9XG5cbiAgICB2YXIgdHlwZSA9ICdAQHJlZHV4L1BST0JFX1VOS05PV05fQUNUSU9OXycgKyBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoNykuc3BsaXQoJycpLmpvaW4oJy4nKTtcbiAgICBpZiAodHlwZW9mIHJlZHVjZXIodW5kZWZpbmVkLCB7IHR5cGU6IHR5cGUgfSkgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlZHVjZXIgXCInICsga2V5ICsgJ1wiIHJldHVybmVkIHVuZGVmaW5lZCB3aGVuIHByb2JlZCB3aXRoIGEgcmFuZG9tIHR5cGUuICcgKyAoJ0RvblxcJ3QgdHJ5IHRvIGhhbmRsZSAnICsgQWN0aW9uVHlwZXMuSU5JVCArICcgb3Igb3RoZXIgYWN0aW9ucyBpbiBcInJlZHV4LypcIiAnKSArICduYW1lc3BhY2UuIFRoZXkgYXJlIGNvbnNpZGVyZWQgcHJpdmF0ZS4gSW5zdGVhZCwgeW91IG11c3QgcmV0dXJuIHRoZSAnICsgJ2N1cnJlbnQgc3RhdGUgZm9yIGFueSB1bmtub3duIGFjdGlvbnMsIHVubGVzcyBpdCBpcyB1bmRlZmluZWQsICcgKyAnaW4gd2hpY2ggY2FzZSB5b3UgbXVzdCByZXR1cm4gdGhlIGluaXRpYWwgc3RhdGUsIHJlZ2FyZGxlc3Mgb2YgdGhlICcgKyAnYWN0aW9uIHR5cGUuIFRoZSBpbml0aWFsIHN0YXRlIG1heSBub3QgYmUgdW5kZWZpbmVkLCBidXQgY2FuIGJlIG51bGwuJyk7XG4gICAgfVxuICB9KTtcbn1cblxuLyoqXG4gKiBUdXJucyBhbiBvYmplY3Qgd2hvc2UgdmFsdWVzIGFyZSBkaWZmZXJlbnQgcmVkdWNlciBmdW5jdGlvbnMsIGludG8gYSBzaW5nbGVcbiAqIHJlZHVjZXIgZnVuY3Rpb24uIEl0IHdpbGwgY2FsbCBldmVyeSBjaGlsZCByZWR1Y2VyLCBhbmQgZ2F0aGVyIHRoZWlyIHJlc3VsdHNcbiAqIGludG8gYSBzaW5nbGUgc3RhdGUgb2JqZWN0LCB3aG9zZSBrZXlzIGNvcnJlc3BvbmQgdG8gdGhlIGtleXMgb2YgdGhlIHBhc3NlZFxuICogcmVkdWNlciBmdW5jdGlvbnMuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHJlZHVjZXJzIEFuIG9iamVjdCB3aG9zZSB2YWx1ZXMgY29ycmVzcG9uZCB0byBkaWZmZXJlbnRcbiAqIHJlZHVjZXIgZnVuY3Rpb25zIHRoYXQgbmVlZCB0byBiZSBjb21iaW5lZCBpbnRvIG9uZS4gT25lIGhhbmR5IHdheSB0byBvYnRhaW5cbiAqIGl0IGlzIHRvIHVzZSBFUzYgYGltcG9ydCAqIGFzIHJlZHVjZXJzYCBzeW50YXguIFRoZSByZWR1Y2VycyBtYXkgbmV2ZXIgcmV0dXJuXG4gKiB1bmRlZmluZWQgZm9yIGFueSBhY3Rpb24uIEluc3RlYWQsIHRoZXkgc2hvdWxkIHJldHVybiB0aGVpciBpbml0aWFsIHN0YXRlXG4gKiBpZiB0aGUgc3RhdGUgcGFzc2VkIHRvIHRoZW0gd2FzIHVuZGVmaW5lZCwgYW5kIHRoZSBjdXJyZW50IHN0YXRlIGZvciBhbnlcbiAqIHVucmVjb2duaXplZCBhY3Rpb24uXG4gKlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBBIHJlZHVjZXIgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGV2ZXJ5IHJlZHVjZXIgaW5zaWRlIHRoZVxuICogcGFzc2VkIG9iamVjdCwgYW5kIGJ1aWxkcyBhIHN0YXRlIG9iamVjdCB3aXRoIHRoZSBzYW1lIHNoYXBlLlxuICovXG5mdW5jdGlvbiBjb21iaW5lUmVkdWNlcnMocmVkdWNlcnMpIHtcbiAgdmFyIHJlZHVjZXJLZXlzID0gT2JqZWN0LmtleXMocmVkdWNlcnMpO1xuICB2YXIgZmluYWxSZWR1Y2VycyA9IHt9O1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHJlZHVjZXJLZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGtleSA9IHJlZHVjZXJLZXlzW2ldO1xuXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIGlmICh0eXBlb2YgcmVkdWNlcnNba2V5XSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgd2FybmluZygnTm8gcmVkdWNlciBwcm92aWRlZCBmb3Iga2V5IFwiJyArIGtleSArICdcIicpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0eXBlb2YgcmVkdWNlcnNba2V5XSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgZmluYWxSZWR1Y2Vyc1trZXldID0gcmVkdWNlcnNba2V5XTtcbiAgICB9XG4gIH1cbiAgdmFyIGZpbmFsUmVkdWNlcktleXMgPSBPYmplY3Qua2V5cyhmaW5hbFJlZHVjZXJzKTtcblxuICB2YXIgdW5leHBlY3RlZEtleUNhY2hlID0gdm9pZCAwO1xuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIHVuZXhwZWN0ZWRLZXlDYWNoZSA9IHt9O1xuICB9XG5cbiAgdmFyIHNoYXBlQXNzZXJ0aW9uRXJyb3IgPSB2b2lkIDA7XG4gIHRyeSB7XG4gICAgYXNzZXJ0UmVkdWNlclNoYXBlKGZpbmFsUmVkdWNlcnMpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgc2hhcGVBc3NlcnRpb25FcnJvciA9IGU7XG4gIH1cblxuICByZXR1cm4gZnVuY3Rpb24gY29tYmluYXRpb24oKSB7XG4gICAgdmFyIHN0YXRlID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcbiAgICB2YXIgYWN0aW9uID0gYXJndW1lbnRzWzFdO1xuXG4gICAgaWYgKHNoYXBlQXNzZXJ0aW9uRXJyb3IpIHtcbiAgICAgIHRocm93IHNoYXBlQXNzZXJ0aW9uRXJyb3I7XG4gICAgfVxuXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIHZhciB3YXJuaW5nTWVzc2FnZSA9IGdldFVuZXhwZWN0ZWRTdGF0ZVNoYXBlV2FybmluZ01lc3NhZ2Uoc3RhdGUsIGZpbmFsUmVkdWNlcnMsIGFjdGlvbiwgdW5leHBlY3RlZEtleUNhY2hlKTtcbiAgICAgIGlmICh3YXJuaW5nTWVzc2FnZSkge1xuICAgICAgICB3YXJuaW5nKHdhcm5pbmdNZXNzYWdlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgaGFzQ2hhbmdlZCA9IGZhbHNlO1xuICAgIHZhciBuZXh0U3RhdGUgPSB7fTtcbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgZmluYWxSZWR1Y2VyS2V5cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgIHZhciBfa2V5ID0gZmluYWxSZWR1Y2VyS2V5c1tfaV07XG4gICAgICB2YXIgcmVkdWNlciA9IGZpbmFsUmVkdWNlcnNbX2tleV07XG4gICAgICB2YXIgcHJldmlvdXNTdGF0ZUZvcktleSA9IHN0YXRlW19rZXldO1xuICAgICAgdmFyIG5leHRTdGF0ZUZvcktleSA9IHJlZHVjZXIocHJldmlvdXNTdGF0ZUZvcktleSwgYWN0aW9uKTtcbiAgICAgIGlmICh0eXBlb2YgbmV4dFN0YXRlRm9yS2V5ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICB2YXIgZXJyb3JNZXNzYWdlID0gZ2V0VW5kZWZpbmVkU3RhdGVFcnJvck1lc3NhZ2UoX2tleSwgYWN0aW9uKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yTWVzc2FnZSk7XG4gICAgICB9XG4gICAgICBuZXh0U3RhdGVbX2tleV0gPSBuZXh0U3RhdGVGb3JLZXk7XG4gICAgICBoYXNDaGFuZ2VkID0gaGFzQ2hhbmdlZCB8fCBuZXh0U3RhdGVGb3JLZXkgIT09IHByZXZpb3VzU3RhdGVGb3JLZXk7XG4gICAgfVxuICAgIHJldHVybiBoYXNDaGFuZ2VkID8gbmV4dFN0YXRlIDogc3RhdGU7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGJpbmRBY3Rpb25DcmVhdG9yKGFjdGlvbkNyZWF0b3IsIGRpc3BhdGNoKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGRpc3BhdGNoKGFjdGlvbkNyZWF0b3IuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG4gIH07XG59XG5cbi8qKlxuICogVHVybnMgYW4gb2JqZWN0IHdob3NlIHZhbHVlcyBhcmUgYWN0aW9uIGNyZWF0b3JzLCBpbnRvIGFuIG9iamVjdCB3aXRoIHRoZVxuICogc2FtZSBrZXlzLCBidXQgd2l0aCBldmVyeSBmdW5jdGlvbiB3cmFwcGVkIGludG8gYSBgZGlzcGF0Y2hgIGNhbGwgc28gdGhleVxuICogbWF5IGJlIGludm9rZWQgZGlyZWN0bHkuIFRoaXMgaXMganVzdCBhIGNvbnZlbmllbmNlIG1ldGhvZCwgYXMgeW91IGNhbiBjYWxsXG4gKiBgc3RvcmUuZGlzcGF0Y2goTXlBY3Rpb25DcmVhdG9ycy5kb1NvbWV0aGluZygpKWAgeW91cnNlbGYganVzdCBmaW5lLlxuICpcbiAqIEZvciBjb252ZW5pZW5jZSwgeW91IGNhbiBhbHNvIHBhc3MgYSBzaW5nbGUgZnVuY3Rpb24gYXMgdGhlIGZpcnN0IGFyZ3VtZW50LFxuICogYW5kIGdldCBhIGZ1bmN0aW9uIGluIHJldHVybi5cbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufE9iamVjdH0gYWN0aW9uQ3JlYXRvcnMgQW4gb2JqZWN0IHdob3NlIHZhbHVlcyBhcmUgYWN0aW9uXG4gKiBjcmVhdG9yIGZ1bmN0aW9ucy4gT25lIGhhbmR5IHdheSB0byBvYnRhaW4gaXQgaXMgdG8gdXNlIEVTNiBgaW1wb3J0ICogYXNgXG4gKiBzeW50YXguIFlvdSBtYXkgYWxzbyBwYXNzIGEgc2luZ2xlIGZ1bmN0aW9uLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGRpc3BhdGNoIFRoZSBgZGlzcGF0Y2hgIGZ1bmN0aW9uIGF2YWlsYWJsZSBvbiB5b3VyIFJlZHV4XG4gKiBzdG9yZS5cbiAqXG4gKiBAcmV0dXJucyB7RnVuY3Rpb258T2JqZWN0fSBUaGUgb2JqZWN0IG1pbWlja2luZyB0aGUgb3JpZ2luYWwgb2JqZWN0LCBidXQgd2l0aFxuICogZXZlcnkgYWN0aW9uIGNyZWF0b3Igd3JhcHBlZCBpbnRvIHRoZSBgZGlzcGF0Y2hgIGNhbGwuIElmIHlvdSBwYXNzZWQgYVxuICogZnVuY3Rpb24gYXMgYGFjdGlvbkNyZWF0b3JzYCwgdGhlIHJldHVybiB2YWx1ZSB3aWxsIGFsc28gYmUgYSBzaW5nbGVcbiAqIGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBiaW5kQWN0aW9uQ3JlYXRvcnMoYWN0aW9uQ3JlYXRvcnMsIGRpc3BhdGNoKSB7XG4gIGlmICh0eXBlb2YgYWN0aW9uQ3JlYXRvcnMgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gYmluZEFjdGlvbkNyZWF0b3IoYWN0aW9uQ3JlYXRvcnMsIGRpc3BhdGNoKTtcbiAgfVxuXG4gIGlmICgodHlwZW9mIGFjdGlvbkNyZWF0b3JzID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogX3R5cGVvZihhY3Rpb25DcmVhdG9ycykpICE9PSAnb2JqZWN0JyB8fCBhY3Rpb25DcmVhdG9ycyA9PT0gbnVsbCkge1xuICAgIHRocm93IG5ldyBFcnJvcignYmluZEFjdGlvbkNyZWF0b3JzIGV4cGVjdGVkIGFuIG9iamVjdCBvciBhIGZ1bmN0aW9uLCBpbnN0ZWFkIHJlY2VpdmVkICcgKyAoYWN0aW9uQ3JlYXRvcnMgPT09IG51bGwgPyAnbnVsbCcgOiB0eXBlb2YgYWN0aW9uQ3JlYXRvcnMgPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKGFjdGlvbkNyZWF0b3JzKSkgKyAnLiAnICsgJ0RpZCB5b3Ugd3JpdGUgXCJpbXBvcnQgQWN0aW9uQ3JlYXRvcnMgZnJvbVwiIGluc3RlYWQgb2YgXCJpbXBvcnQgKiBhcyBBY3Rpb25DcmVhdG9ycyBmcm9tXCI/Jyk7XG4gIH1cblxuICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKGFjdGlvbkNyZWF0b3JzKTtcbiAgdmFyIGJvdW5kQWN0aW9uQ3JlYXRvcnMgPSB7fTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGtleSA9IGtleXNbaV07XG4gICAgdmFyIGFjdGlvbkNyZWF0b3IgPSBhY3Rpb25DcmVhdG9yc1trZXldO1xuICAgIGlmICh0eXBlb2YgYWN0aW9uQ3JlYXRvciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgYm91bmRBY3Rpb25DcmVhdG9yc1trZXldID0gYmluZEFjdGlvbkNyZWF0b3IoYWN0aW9uQ3JlYXRvciwgZGlzcGF0Y2gpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gYm91bmRBY3Rpb25DcmVhdG9ycztcbn1cblxuLyoqXG4gKiBDb21wb3NlcyBzaW5nbGUtYXJndW1lbnQgZnVuY3Rpb25zIGZyb20gcmlnaHQgdG8gbGVmdC4gVGhlIHJpZ2h0bW9zdFxuICogZnVuY3Rpb24gY2FuIHRha2UgbXVsdGlwbGUgYXJndW1lbnRzIGFzIGl0IHByb3ZpZGVzIHRoZSBzaWduYXR1cmUgZm9yXG4gKiB0aGUgcmVzdWx0aW5nIGNvbXBvc2l0ZSBmdW5jdGlvbi5cbiAqXG4gKiBAcGFyYW0gey4uLkZ1bmN0aW9ufSBmdW5jcyBUaGUgZnVuY3Rpb25zIHRvIGNvbXBvc2UuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IEEgZnVuY3Rpb24gb2J0YWluZWQgYnkgY29tcG9zaW5nIHRoZSBhcmd1bWVudCBmdW5jdGlvbnNcbiAqIGZyb20gcmlnaHQgdG8gbGVmdC4gRm9yIGV4YW1wbGUsIGNvbXBvc2UoZiwgZywgaCkgaXMgaWRlbnRpY2FsIHRvIGRvaW5nXG4gKiAoLi4uYXJncykgPT4gZihnKGgoLi4uYXJncykpKS5cbiAqL1xuXG5mdW5jdGlvbiBjb21wb3NlKCkge1xuICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgZnVuY3MgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICBmdW5jc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgfVxuXG4gIGlmIChmdW5jcy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGFyZykge1xuICAgICAgcmV0dXJuIGFyZztcbiAgICB9O1xuICB9XG5cbiAgaWYgKGZ1bmNzLmxlbmd0aCA9PT0gMSkge1xuICAgIHJldHVybiBmdW5jc1swXTtcbiAgfVxuXG4gIHJldHVybiBmdW5jcy5yZWR1Y2UoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGEoYi5hcHBseSh1bmRlZmluZWQsIGFyZ3VtZW50cykpO1xuICAgIH07XG4gIH0pO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBzdG9yZSBlbmhhbmNlciB0aGF0IGFwcGxpZXMgbWlkZGxld2FyZSB0byB0aGUgZGlzcGF0Y2ggbWV0aG9kXG4gKiBvZiB0aGUgUmVkdXggc3RvcmUuIFRoaXMgaXMgaGFuZHkgZm9yIGEgdmFyaWV0eSBvZiB0YXNrcywgc3VjaCBhcyBleHByZXNzaW5nXG4gKiBhc3luY2hyb25vdXMgYWN0aW9ucyBpbiBhIGNvbmNpc2UgbWFubmVyLCBvciBsb2dnaW5nIGV2ZXJ5IGFjdGlvbiBwYXlsb2FkLlxuICpcbiAqIFNlZSBgcmVkdXgtdGh1bmtgIHBhY2thZ2UgYXMgYW4gZXhhbXBsZSBvZiB0aGUgUmVkdXggbWlkZGxld2FyZS5cbiAqXG4gKiBCZWNhdXNlIG1pZGRsZXdhcmUgaXMgcG90ZW50aWFsbHkgYXN5bmNocm9ub3VzLCB0aGlzIHNob3VsZCBiZSB0aGUgZmlyc3RcbiAqIHN0b3JlIGVuaGFuY2VyIGluIHRoZSBjb21wb3NpdGlvbiBjaGFpbi5cbiAqXG4gKiBOb3RlIHRoYXQgZWFjaCBtaWRkbGV3YXJlIHdpbGwgYmUgZ2l2ZW4gdGhlIGBkaXNwYXRjaGAgYW5kIGBnZXRTdGF0ZWAgZnVuY3Rpb25zXG4gKiBhcyBuYW1lZCBhcmd1bWVudHMuXG4gKlxuICogQHBhcmFtIHsuLi5GdW5jdGlvbn0gbWlkZGxld2FyZXMgVGhlIG1pZGRsZXdhcmUgY2hhaW4gdG8gYmUgYXBwbGllZC5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gQSBzdG9yZSBlbmhhbmNlciBhcHBseWluZyB0aGUgbWlkZGxld2FyZS5cbiAqL1xuZnVuY3Rpb24gYXBwbHlNaWRkbGV3YXJlKCkge1xuICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgbWlkZGxld2FyZXMgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICBtaWRkbGV3YXJlc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiAoY3JlYXRlU3RvcmUpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgZm9yICh2YXIgX2xlbjIgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbjIpLCBfa2V5MiA9IDA7IF9rZXkyIDwgX2xlbjI7IF9rZXkyKyspIHtcbiAgICAgICAgYXJnc1tfa2V5Ml0gPSBhcmd1bWVudHNbX2tleTJdO1xuICAgICAgfVxuXG4gICAgICB2YXIgc3RvcmUgPSBjcmVhdGVTdG9yZS5hcHBseSh1bmRlZmluZWQsIGFyZ3MpO1xuICAgICAgdmFyIF9kaXNwYXRjaCA9IGZ1bmN0aW9uIGRpc3BhdGNoKCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Rpc3BhdGNoaW5nIHdoaWxlIGNvbnN0cnVjdGluZyB5b3VyIG1pZGRsZXdhcmUgaXMgbm90IGFsbG93ZWQuICcgKyAnT3RoZXIgbWlkZGxld2FyZSB3b3VsZCBub3QgYmUgYXBwbGllZCB0byB0aGlzIGRpc3BhdGNoLicpO1xuICAgICAgfTtcblxuICAgICAgdmFyIG1pZGRsZXdhcmVBUEkgPSB7XG4gICAgICAgIGdldFN0YXRlOiBzdG9yZS5nZXRTdGF0ZSxcbiAgICAgICAgZGlzcGF0Y2g6IGZ1bmN0aW9uIGRpc3BhdGNoKCkge1xuICAgICAgICAgIHJldHVybiBfZGlzcGF0Y2guYXBwbHkodW5kZWZpbmVkLCBhcmd1bWVudHMpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgdmFyIGNoYWluID0gbWlkZGxld2FyZXMubWFwKGZ1bmN0aW9uIChtaWRkbGV3YXJlKSB7XG4gICAgICAgIHJldHVybiBtaWRkbGV3YXJlKG1pZGRsZXdhcmVBUEkpO1xuICAgICAgfSk7XG4gICAgICBfZGlzcGF0Y2ggPSBjb21wb3NlLmFwcGx5KHVuZGVmaW5lZCwgY2hhaW4pKHN0b3JlLmRpc3BhdGNoKTtcblxuICAgICAgcmV0dXJuIF9leHRlbmRzKHt9LCBzdG9yZSwge1xuICAgICAgICBkaXNwYXRjaDogX2Rpc3BhdGNoXG4gICAgICB9KTtcbiAgICB9O1xuICB9O1xufVxuXG4vKlxuICogVGhpcyBpcyBhIGR1bW15IGZ1bmN0aW9uIHRvIGNoZWNrIGlmIHRoZSBmdW5jdGlvbiBuYW1lIGhhcyBiZWVuIGFsdGVyZWQgYnkgbWluaWZpY2F0aW9uLlxuICogSWYgdGhlIGZ1bmN0aW9uIGhhcyBiZWVuIG1pbmlmaWVkIGFuZCBOT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nLCB3YXJuIHRoZSB1c2VyLlxuICovXG5mdW5jdGlvbiBpc0NydXNoZWQoKSB7fVxuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiB0eXBlb2YgaXNDcnVzaGVkLm5hbWUgPT09ICdzdHJpbmcnICYmIGlzQ3J1c2hlZC5uYW1lICE9PSAnaXNDcnVzaGVkJykge1xuICB3YXJuaW5nKFwiWW91IGFyZSBjdXJyZW50bHkgdXNpbmcgbWluaWZpZWQgY29kZSBvdXRzaWRlIG9mIE5PREVfRU5WID09PSAncHJvZHVjdGlvbicuIFwiICsgJ1RoaXMgbWVhbnMgdGhhdCB5b3UgYXJlIHJ1bm5pbmcgYSBzbG93ZXIgZGV2ZWxvcG1lbnQgYnVpbGQgb2YgUmVkdXguICcgKyAnWW91IGNhbiB1c2UgbG9vc2UtZW52aWZ5IChodHRwczovL2dpdGh1Yi5jb20vemVydG9zaC9sb29zZS1lbnZpZnkpIGZvciBicm93c2VyaWZ5ICcgKyAnb3IgRGVmaW5lUGx1Z2luIGZvciB3ZWJwYWNrIChodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzMwMDMwMDMxKSAnICsgJ3RvIGVuc3VyZSB5b3UgaGF2ZSB0aGUgY29ycmVjdCBjb2RlIGZvciB5b3VyIHByb2R1Y3Rpb24gYnVpbGQuJyk7XG59XG5cbmV4cG9ydCB7IGNyZWF0ZVN0b3JlLCBjb21iaW5lUmVkdWNlcnMsIGJpbmRBY3Rpb25DcmVhdG9ycywgYXBwbHlNaWRkbGV3YXJlLCBjb21wb3NlLCBBY3Rpb25UeXBlcyBhcyBfX0RPX05PVF9VU0VfX0FjdGlvblR5cGVzIH07XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/redux/es/redux.js\n");

/***/ }),

/***/ "./node_modules/symbol-observable/es/index.js":
/*!****************************************************!*\
  !*** ./node_modules/symbol-observable/es/index.js ***!
  \****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(global, module) {/* harmony import */ var _ponyfill_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ponyfill.js */ \"./node_modules/symbol-observable/es/ponyfill.js\");\n/* global window */\n\n\nvar root;\n\nif (typeof self !== 'undefined') {\n  root = self;\n} else if (typeof window !== 'undefined') {\n  root = window;\n} else if (typeof global !== 'undefined') {\n  root = global;\n} else if (true) {\n  root = module;\n} else {}\n\nvar result = Object(_ponyfill_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(root);\n/* harmony default export */ __webpack_exports__[\"default\"] = (result);\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../webpack/buildin/global.js */ \"./node_modules/webpack/buildin/global.js\"), __webpack_require__(/*! ./../../webpack/buildin/harmony-module.js */ \"./node_modules/webpack/buildin/harmony-module.js\")(module)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc3ltYm9sLW9ic2VydmFibGUvZXMvaW5kZXguanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc3ltYm9sLW9ic2VydmFibGUvZXMvaW5kZXguanM/NmMyMCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiBnbG9iYWwgd2luZG93ICovXG5pbXBvcnQgcG9ueWZpbGwgZnJvbSAnLi9wb255ZmlsbC5qcyc7XG5cbnZhciByb290O1xuXG5pZiAodHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnKSB7XG4gIHJvb3QgPSBzZWxmO1xufSBlbHNlIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICByb290ID0gd2luZG93O1xufSBlbHNlIGlmICh0eXBlb2YgZ2xvYmFsICE9PSAndW5kZWZpbmVkJykge1xuICByb290ID0gZ2xvYmFsO1xufSBlbHNlIGlmICh0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJykge1xuICByb290ID0gbW9kdWxlO1xufSBlbHNlIHtcbiAgcm9vdCA9IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG59XG5cbnZhciByZXN1bHQgPSBwb255ZmlsbChyb290KTtcbmV4cG9ydCBkZWZhdWx0IHJlc3VsdDtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FFQTtBQUNBO0FBQ0E7QUFDQTs7QSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/symbol-observable/es/index.js\n");

/***/ }),

/***/ "./node_modules/symbol-observable/es/ponyfill.js":
/*!*******************************************************!*\
  !*** ./node_modules/symbol-observable/es/ponyfill.js ***!
  \*******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return symbolObservablePonyfill; });\nfunction symbolObservablePonyfill(root) {\n\tvar result;\n\tvar Symbol = root.Symbol;\n\n\tif (typeof Symbol === 'function') {\n\t\tif (Symbol.observable) {\n\t\t\tresult = Symbol.observable;\n\t\t} else {\n\t\t\tresult = Symbol('observable');\n\t\t\tSymbol.observable = result;\n\t\t}\n\t} else {\n\t\tresult = '@@observable';\n\t}\n\n\treturn result;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc3ltYm9sLW9ic2VydmFibGUvZXMvcG9ueWZpbGwuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc3ltYm9sLW9ic2VydmFibGUvZXMvcG9ueWZpbGwuanM/NDhiNSJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBzeW1ib2xPYnNlcnZhYmxlUG9ueWZpbGwocm9vdCkge1xuXHR2YXIgcmVzdWx0O1xuXHR2YXIgU3ltYm9sID0gcm9vdC5TeW1ib2w7XG5cblx0aWYgKHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicpIHtcblx0XHRpZiAoU3ltYm9sLm9ic2VydmFibGUpIHtcblx0XHRcdHJlc3VsdCA9IFN5bWJvbC5vYnNlcnZhYmxlO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXN1bHQgPSBTeW1ib2woJ29ic2VydmFibGUnKTtcblx0XHRcdFN5bWJvbC5vYnNlcnZhYmxlID0gcmVzdWx0O1xuXHRcdH1cblx0fSBlbHNlIHtcblx0XHRyZXN1bHQgPSAnQEBvYnNlcnZhYmxlJztcblx0fVxuXG5cdHJldHVybiByZXN1bHQ7XG59O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/symbol-observable/es/ponyfill.js\n");

/***/ }),

/***/ "./node_modules/webpack/buildin/global.js":
/*!***********************************!*\
  !*** (webpack)/buildin/global.js ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || Function(\"return this\")() || (1, eval)(\"this\");\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvd2VicGFjay9idWlsZGluL2dsb2JhbC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8od2VicGFjaykvYnVpbGRpbi9nbG9iYWwuanM/Y2QwMCJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgZztcblxuLy8gVGhpcyB3b3JrcyBpbiBub24tc3RyaWN0IG1vZGVcbmcgPSAoZnVuY3Rpb24oKSB7XG5cdHJldHVybiB0aGlzO1xufSkoKTtcblxudHJ5IHtcblx0Ly8gVGhpcyB3b3JrcyBpZiBldmFsIGlzIGFsbG93ZWQgKHNlZSBDU1ApXG5cdGcgPSBnIHx8IEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKSB8fCAoMSwgZXZhbCkoXCJ0aGlzXCIpO1xufSBjYXRjaCAoZSkge1xuXHQvLyBUaGlzIHdvcmtzIGlmIHRoZSB3aW5kb3cgcmVmZXJlbmNlIGlzIGF2YWlsYWJsZVxuXHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gXCJvYmplY3RcIikgZyA9IHdpbmRvdztcbn1cblxuLy8gZyBjYW4gc3RpbGwgYmUgdW5kZWZpbmVkLCBidXQgbm90aGluZyB0byBkbyBhYm91dCBpdC4uLlxuLy8gV2UgcmV0dXJuIHVuZGVmaW5lZCwgaW5zdGVhZCBvZiBub3RoaW5nIGhlcmUsIHNvIGl0J3Ncbi8vIGVhc2llciB0byBoYW5kbGUgdGhpcyBjYXNlLiBpZighZ2xvYmFsKSB7IC4uLn1cblxubW9kdWxlLmV4cG9ydHMgPSBnO1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/webpack/buildin/global.js\n");

/***/ }),

/***/ "./node_modules/webpack/buildin/harmony-module.js":
/*!*******************************************!*\
  !*** (webpack)/buildin/harmony-module.js ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = function(originalModule) {\n\tif (!originalModule.webpackPolyfill) {\n\t\tvar module = Object.create(originalModule);\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"exports\", {\n\t\t\tenumerable: true\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvd2VicGFjay9idWlsZGluL2hhcm1vbnktbW9kdWxlLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLyh3ZWJwYWNrKS9idWlsZGluL2hhcm1vbnktbW9kdWxlLmpzPzgyYjAiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihvcmlnaW5hbE1vZHVsZSkge1xuXHRpZiAoIW9yaWdpbmFsTW9kdWxlLndlYnBhY2tQb2x5ZmlsbCkge1xuXHRcdHZhciBtb2R1bGUgPSBPYmplY3QuY3JlYXRlKG9yaWdpbmFsTW9kdWxlKTtcblx0XHQvLyBtb2R1bGUucGFyZW50ID0gdW5kZWZpbmVkIGJ5IGRlZmF1bHRcblx0XHRpZiAoIW1vZHVsZS5jaGlsZHJlbikgbW9kdWxlLmNoaWxkcmVuID0gW107XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG1vZHVsZSwgXCJsb2FkZWRcIiwge1xuXHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcblx0XHRcdGdldDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHJldHVybiBtb2R1bGUubDtcblx0XHRcdH1cblx0XHR9KTtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobW9kdWxlLCBcImlkXCIsIHtcblx0XHRcdGVudW1lcmFibGU6IHRydWUsXG5cdFx0XHRnZXQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRyZXR1cm4gbW9kdWxlLmk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG1vZHVsZSwgXCJleHBvcnRzXCIsIHtcblx0XHRcdGVudW1lcmFibGU6IHRydWVcblx0XHR9KTtcblx0XHRtb2R1bGUud2VicGFja1BvbHlmaWxsID0gMTtcblx0fVxuXHRyZXR1cm4gbW9kdWxlO1xufTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/webpack/buildin/harmony-module.js\n");

/***/ }),

/***/ "./src/actions/counter.js":
/*!********************************!*\
  !*** ./src/actions/counter.js ***!
  \********************************/
/*! exports provided: increment */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"increment\", function() { return increment; });\n/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../store */ \"./src/store.js\");\n\n\nfunction increment() {\n  _store__WEBPACK_IMPORTED_MODULE_0__[\"default\"].dispatch({ type: 'INCREMENT' })\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvYWN0aW9ucy9jb3VudGVyLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2FjdGlvbnMvY291bnRlci5qcz8xYTVhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBzdG9yZSBmcm9tICcuLi9zdG9yZSdcblxuZXhwb3J0IGZ1bmN0aW9uIGluY3JlbWVudCgpIHtcbiAgc3RvcmUuZGlzcGF0Y2goeyB0eXBlOiAnSU5DUkVNRU5UJyB9KVxufVxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/actions/counter.js\n");

/***/ }),

/***/ "./src/components/app-root/app-root.js":
/*!*********************************************!*\
  !*** ./src/components/app-root/app-root.js ***!
  \*********************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _dist_shadowbind__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../dist/shadowbind */ \"../dist/shadowbind.js\");\n/* harmony import */ var _dist_shadowbind__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_dist_shadowbind__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _actions_counter__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../actions/counter */ \"./src/actions/counter.js\");\n\n\n\nclass AppRoot extends HTMLElement {\n  constructor() {\n    super()\n    setTimeout(() => this.data({}), 1) // TODO: remove this godawful hack\n  }\n  increment() {\n    _actions_counter__WEBPACK_IMPORTED_MODULE_1__[\"increment\"]()\n  }\n  template() {\n    return /* @html */`\n      <count-viewer></count-viewer>\n      <button on:click=\"increment\">Increment</button>\n    `\n  }\n}\n\n_dist_shadowbind__WEBPACK_IMPORTED_MODULE_0___default.a.define(AppRoot)\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9hcHAtcm9vdC9hcHAtcm9vdC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL2FwcC1yb290L2FwcC1yb290LmpzPzg0ZDIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFNoYWRvd2JpbmQgZnJvbSAnLi4vLi4vLi4vLi4vZGlzdC9zaGFkb3diaW5kJ1xuaW1wb3J0ICogYXMgY291bnRlciBmcm9tICcuLi8uLi9hY3Rpb25zL2NvdW50ZXInXG5cbmNsYXNzIEFwcFJvb3QgZXh0ZW5kcyBIVE1MRWxlbWVudCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKClcbiAgICBzZXRUaW1lb3V0KCgpID0+IHRoaXMuZGF0YSh7fSksIDEpIC8vIFRPRE86IHJlbW92ZSB0aGlzIGdvZGF3ZnVsIGhhY2tcbiAgfVxuICBpbmNyZW1lbnQoKSB7XG4gICAgY291bnRlci5pbmNyZW1lbnQoKVxuICB9XG4gIHRlbXBsYXRlKCkge1xuICAgIHJldHVybiAvKiBAaHRtbCAqL2BcbiAgICAgIDxjb3VudC12aWV3ZXI+PC9jb3VudC12aWV3ZXI+XG4gICAgICA8YnV0dG9uIG9uOmNsaWNrPVwiaW5jcmVtZW50XCI+SW5jcmVtZW50PC9idXR0b24+XG4gICAgYFxuICB9XG59XG5cblNoYWRvd2JpbmQuZGVmaW5lKEFwcFJvb3QpXG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/components/app-root/app-root.js\n");

/***/ }),

/***/ "./src/components/count-viewer/count-viewer.js":
/*!*****************************************************!*\
  !*** ./src/components/count-viewer/count-viewer.js ***!
  \*****************************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _dist_shadowbind__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../dist/shadowbind */ \"../dist/shadowbind.js\");\n/* harmony import */ var _dist_shadowbind__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_dist_shadowbind__WEBPACK_IMPORTED_MODULE_0__);\n\n\nclass CountViewer extends HTMLElement {\n  subscribe() {\n    return { counter: 'state' }\n  }\n  template() {\n    return /* @html */`\n      <h1>Counter 3</h1>\n      Count: <span :text=\"counter\"></span>\n    `\n  }\n}\n\n_dist_shadowbind__WEBPACK_IMPORTED_MODULE_0___default.a.define(CountViewer)\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9jb3VudC12aWV3ZXIvY291bnQtdmlld2VyLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvY291bnQtdmlld2VyL2NvdW50LXZpZXdlci5qcz8zODk4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBTaGFkb3diaW5kIGZyb20gJy4uLy4uLy4uLy4uL2Rpc3Qvc2hhZG93YmluZCdcblxuY2xhc3MgQ291bnRWaWV3ZXIgZXh0ZW5kcyBIVE1MRWxlbWVudCB7XG4gIHN1YnNjcmliZSgpIHtcbiAgICByZXR1cm4geyBjb3VudGVyOiAnc3RhdGUnIH1cbiAgfVxuICB0ZW1wbGF0ZSgpIHtcbiAgICByZXR1cm4gLyogQGh0bWwgKi9gXG4gICAgICA8aDE+Q291bnRlciAzPC9oMT5cbiAgICAgIENvdW50OiA8c3BhbiA6dGV4dD1cImNvdW50ZXJcIj48L3NwYW4+XG4gICAgYFxuICB9XG59XG5cblNoYWRvd2JpbmQuZGVmaW5lKENvdW50Vmlld2VyKVxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/components/count-viewer/count-viewer.js\n");

/***/ }),

/***/ "./src/index.js":
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./store */ \"./src/store.js\");\n/* harmony import */ var _components_app_root_app_root__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./components/app-root/app-root */ \"./src/components/app-root/app-root.js\");\n/* harmony import */ var _components_count_viewer_count_viewer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./components/count-viewer/count-viewer */ \"./src/components/count-viewer/count-viewer.js\");\n\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvaW5kZXguanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXguanM/YjYzNSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgJy4vc3RvcmUnXG5pbXBvcnQgJy4vY29tcG9uZW50cy9hcHAtcm9vdC9hcHAtcm9vdCdcbmltcG9ydCAnLi9jb21wb25lbnRzL2NvdW50LXZpZXdlci9jb3VudC12aWV3ZXInXG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/index.js\n");

/***/ }),

/***/ "./src/reducers/counter.js":
/*!*********************************!*\
  !*** ./src/reducers/counter.js ***!
  \*********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return counter; });\nfunction counter(state = 0, action) {\n  switch (action.type) {\n    case 'INCREMENT':\n      return state + 1\n    default:\n      return state\n  }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcmVkdWNlcnMvY291bnRlci5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9yZWR1Y2Vycy9jb3VudGVyLmpzP2QwZmYiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY291bnRlcihzdGF0ZSA9IDAsIGFjdGlvbikge1xuICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgY2FzZSAnSU5DUkVNRU5UJzpcbiAgICAgIHJldHVybiBzdGF0ZSArIDFcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHN0YXRlXG4gIH1cbn1cbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/reducers/counter.js\n");

/***/ }),

/***/ "./src/store.js":
/*!**********************!*\
  !*** ./src/store.js ***!
  \**********************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var redux__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! redux */ \"./node_modules/redux/es/redux.js\");\n/* harmony import */ var _dist_shadowbind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../dist/shadowbind */ \"../dist/shadowbind.js\");\n/* harmony import */ var _dist_shadowbind__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_dist_shadowbind__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _reducers_counter__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./reducers/counter */ \"./src/reducers/counter.js\");\n\n\n\n\nconst rootReducer = Object(redux__WEBPACK_IMPORTED_MODULE_0__[\"combineReducers\"])({ counter: _reducers_counter__WEBPACK_IMPORTED_MODULE_2__[\"default\"] })\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(redux__WEBPACK_IMPORTED_MODULE_0__[\"createStore\"])(\n  rootReducer,\n  Object(redux__WEBPACK_IMPORTED_MODULE_0__[\"applyMiddleware\"])(_dist_shadowbind__WEBPACK_IMPORTED_MODULE_1___default.a.redux)\n));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc3RvcmUuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc3RvcmUuanM/YzBkNiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjb21iaW5lUmVkdWNlcnMsIGNyZWF0ZVN0b3JlLCBhcHBseU1pZGRsZXdhcmUgfSBmcm9tICdyZWR1eCdcbmltcG9ydCBTaGFkb3diaW5kIGZyb20gJy4uLy4uL2Rpc3Qvc2hhZG93YmluZCdcbmltcG9ydCBjb3VudGVyIGZyb20gJy4vcmVkdWNlcnMvY291bnRlcidcblxuY29uc3Qgcm9vdFJlZHVjZXIgPSBjb21iaW5lUmVkdWNlcnMoeyBjb3VudGVyIH0pXG5cbmV4cG9ydCBkZWZhdWx0IGNyZWF0ZVN0b3JlKFxuICByb290UmVkdWNlcixcbiAgYXBwbHlNaWRkbGV3YXJlKFNoYWRvd2JpbmQucmVkdXgpXG4pXG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/store.js\n");

/***/ })

/******/ });